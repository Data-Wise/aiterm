project: aiterm
status: Phase 1 Complete - Ready for Review
priority: P1
progress: 98
version: 0.7.3-dev
updated: 2026-01-17
next: Review Phase 1 + Plan Phase 2 enhancements
branch: feat/statusline-command-ux-improvements

## Current Work: StatusLine Command UX Improvements (v0.7.3)

**Branch:** feat/statusline-command-ux-improvements
**Status:** Phase 1 Implementation Complete âœ…
**Updated:** 2026-01-17

### Phase 1: Gateway Pattern + Unified Menu âœ… COMPLETE

**Problem:** 7+ ways to configure statusline creating user confusion
**Solution:** Single entry point + unified interactive menu

**Deliverables - All Complete:**
- âœ… `ait statusline setup` - Gateway command routing to appropriate tool
- âœ… `ait statusline customize` - Unified interactive menu (display/theme/spacing)
- âœ… Hook templates - 3 pre-built hooks for v2.1 integration
- âœ… 50+ new tests (31 hooks + 20+ CLI gateway)
- âœ… Updated documentation (guides + reference)

**Implementation Summary:**
- `setup` command: 6-option menu, recursive, user-friendly
- `customize` command: unified menu with 4 sections (Display/Theme/Spacing/Advanced)
- `hooks.py` module: 3 templates (on-theme-change, on-remote-session, on-error)
- Hook CLI: list/add/remove/enable/disable commands
- 100% test coverage for hook system
- Full documentation with examples

**Files Created/Modified:**
- âœ… src/aiterm/cli/statusline.py (+150 lines for setup/customize/hooks CLI)
- âœ… src/aiterm/statusline/hooks.py (NEW - 350 lines)
- âœ… tests/test_statusline_cli_gateway.py (NEW - 20+ tests)
- âœ… tests/test_statusline_hooks.py (NEW - 31 tests, all passing)
- âœ… docs/guide/statusline.md (updated with new commands + hook section)

**Commits:**
1. b5d2d6f - feat(statusline): implement Phase 1 command UX improvements
2. 58e92e2 - fix(hooks): correct index file path and filtering logic
3. 350990e - docs: update statusline guide with Phase 1 UX improvements

### Phase 2: Install/Wizard Enhancements (2-3 hours) - Upcoming

- [ ] Remote session auto-detection (v2.1 `/teleport`)
- [ ] Wizard workspace context detection
- [ ] Hook validation in install command

### Phase 3: Advanced Features (Future)

- [ ] Settings profiles (teaching/deep-work/remote/pair)
- [ ] Command aliases for power users
- [ ] Theme comparison tool

---

## Planned: Website Documentation Enhancements (via Craft Plugin)

**Strategic Approach:** Build enhancements in craft plugin first, test on craft's docs, then apply to aiterm
**Spec:** docs/specs/SPEC-craft-website-enhancements-2025-12-31.md
**Brainstorm:** BRAINSTORM-website-enhancements-2025-12-31.md
**Craft Roadmap:** ~/projects/dev-tools/claude-plugins/craft/ROADMAP.md (v1.15.0)

**Phase 1 (Week 1):**
- [ ] Create `/craft:docs:website` command
- [ ] Implement ADHD scoring algorithm (0-100)
- [ ] Fix all mermaid syntax errors on aiterm docs
- [ ] Add TL;DR boxes to major pages
- [ ] Add time estimates to tutorials
- [ ] Create ADHD Quick Start page
- [ ] Target: ADHD score 62 â†’ 77 (+15 points)

**Phase 2-3:** See craft ROADMAP.md v1.15.0 for full details

**Impact:**
- Time-to-first-success: ~15 min â†’ < 5 min (70% reduction)
- Tutorial completion rate: Unknown â†’ > 70% target
- Mermaid errors: 5+ â†’ 0
- Mobile bounce rate: Unknown â†’ < 30% target

## Current Version: v0.6.3 (Released Dec 31, 2025)

**Major Features:**
- Complete feature workflow with PR automation (`promote`, `release`)
- Workflow templates via `ait recipes` alias
- Feature branch commands (`ait feature status/start/cleanup/promote/release`)
- Release automation (PyPI, Homebrew, GitHub)
- Terminal-aware context switching (iTerm2/Ghostty auto-detect)
- Interactive tutorial system
- Ghostty support with 14 built-in themes

## v0.5.0: Release Automation (Phase 1 Complete)

**Status:** 7/7 commands implemented, 55 tests passing

| Command | Description | Status |
|---------|-------------|--------|
| `ait release check` | Pre-release validation | âœ… |
| `ait release status` | Show release state | âœ… |
| `ait release pypi` | Build and publish to PyPI | âœ… |
| `ait release homebrew` | Update Homebrew formula | âœ… |
| `ait release tag` | Create annotated git tag | âœ… |
| `ait release notes` | Generate release notes | âœ… |
| `ait release full` | Complete release workflow | âœ… |

**Remaining for v0.5.0:**
- [ ] Documentation update (commands reference already done)
- [ ] Version bump and release

## Test Suite

| Category | Tests |
|----------|-------|
| Total | 712 |
| Feature module | 25 |
| Release module | 55 |
| Coverage | 85%+ |

## Distribution

- **PyPI:** https://pypi.org/project/aiterm-dev/
- **Homebrew:** `brew install data-wise/tap/aiterm`
- **curl:** `curl -fsSL https://raw.githubusercontent.com/Data-Wise/aiterm/main/install.sh | bash`
- **Docs:** https://data-wise.github.io/aiterm/

## Recent Sessions

### Dec 31, 2025 - StatusLine Spacing & Worktree Display
- **Phase 1:** Implemented configurable separator spacing
  - Added minimal/standard/relaxed spacing modes (1/2/3 spaces)
  - Changed default from 1â†’2 spaces for improved readability
  - Config option: `display.separator_spacing`
  - Commit: 159a615
- **Phase 2:** Implemented worktree display support
  - Shows ðŸŒ³N count when >1 worktree exists
  - Shows (wt) marker when in non-main worktree
  - Config option: `git.show_worktrees` (enabled by default)
  - Tested with real worktrees (4 total)
  - Commit: c55c462
- Created comprehensive brainstorm documents
  - BRAINSTORM-statusline-spacing-worktree-2025-12-31.md
  - STATUSLINE-SPACING-COMPARISON.md
- Updated documentation (32 config options, examples, visual comparisons)
- Session: ~2.5 hours
- Next: Test in live Claude Code session, prepare v0.7.0 release

### Dec 31, 2025 - v0.6.3 Feature Workflow Enhancements
- Implemented `ait feature promote` (create PR to dev)
- Implemented `ait feature release` (create PR from dev to main)
- Added `ait recipes` alias for workflow templates
- Fixed PyPI version verification bug (version-specific URL)
- Added 8 tests for promote/release commands (712 total)
- Updated feature workflow documentation
- Released v0.6.3 to PyPI, Homebrew, and GitHub Pages
- All automation workflows successful

### Dec 30, 2025 - v0.5.0 Release Commands
- Implemented all 7 release commands
- Added 55 tests for release module
- Updated docs/reference/commands.md
- Updated docs/REFCARD.md

### Dec 30, 2025 - v0.4.0 Release
- Feature workflow commands complete
- Terminal-aware switching
- Ghostty quick aliases
- v0.4.0 released to PyPI and Homebrew

## Key Files

| File | Purpose |
|------|---------|
| V0.5.0-PLAN.md | Release automation roadmap |
| CHANGELOG.md | Version history |
| IDEAS.md | Feature brainstorm |
| CLAUDE.md | Project guidance for Claude |

## Links

- **Repo:** https://github.com/Data-Wise/aiterm
- **Docs:** https://data-wise.github.io/aiterm/
- **Homebrew Tap:** https://github.com/Data-Wise/homebrew-tap
