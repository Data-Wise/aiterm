{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"aiterm","text":"<p>Terminal optimizer CLI for AI-assisted development with Claude Code and Gemini CLI.</p> <p> </p>"},{"location":"#what-it-does","title":"What It Does","text":"<p>aiterm optimizes your terminal for AI-assisted development by:</p> <ul> <li>\ud83c\udfaf Smart Context Detection - Automatically detects project type (Python, R, Node.js, etc.)</li> <li>\ud83c\udfa8 Auto Profile Switching - Changes iTerm2 colors based on context (production = red!)</li> <li>\u2699\ufe0f Claude Code Integration - Manages settings, hooks, and auto-approvals</li> <li>\ud83d\udcca Status Bar - Shows project info, git status, and session metrics</li> <li>\ud83d\ude80 Fast Setup - Install in &lt; 5 minutes with <code>uv</code> or <code>pipx</code></li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code># macOS - Install with Homebrew (recommended)\nbrew install data-wise/tap/aiterm\n\n# All Platforms - Install with UV (fastest)\nuv tool install git+https://github.com/Data-Wise/aiterm\n\n# Check health\naiterm doctor\n\n# Detect current project\naiterm detect\n\n# View Claude Code settings\naiterm claude settings\n\n# List auto-approval presets\naiterm claude approvals presets\n</code></pre>"},{"location":"#context-detection","title":"Context Detection","text":"<p>aiterm automatically detects 8 project types:</p> Context Icon Profile When Detected Production \ud83d\udea8 Production <code>/production/</code>, <code>/prod/</code> paths AI Session \ud83e\udd16 AI-Session <code>/claude-sessions/</code>, <code>/gemini-sessions/</code> R Package \ud83d\udce6 R-Dev <code>DESCRIPTION</code> file present Python \ud83d\udc0d Python-Dev <code>pyproject.toml</code> present Node.js \ud83d\udce6 Node-Dev <code>package.json</code> present Quarto \ud83d\udcca R-Dev <code>_quarto.yml</code> present Emacs \ud83d\udd27 Dev-Tools <code>.spacemacs</code> file Dev Tools \ud83d\udee0\ufe0f Dev-Tools <code>.git</code> + <code>scripts/</code>"},{"location":"#features","title":"Features","text":""},{"location":"#context-management","title":"Context Management","text":"<ul> <li>Detect project type from file markers and path patterns</li> <li>Apply context to terminal (profile, title, git status)</li> <li>Short aliases: <code>ait detect</code>, <code>ait switch</code></li> </ul>"},{"location":"#claude-code-integration","title":"Claude Code Integration","text":"<ul> <li>View and backup <code>~/.claude/settings.json</code></li> <li>Manage auto-approval permissions with 8 presets:</li> <li><code>safe-reads</code> - Read-only operations</li> <li><code>git-ops</code> - Git commands (status, diff, log)</li> <li><code>github-cli</code> - GitHub CLI operations</li> <li><code>python-dev</code> - Python tools (pytest, pip, uv)</li> <li><code>node-dev</code> - Node.js tools (npm, npx, bun)</li> <li><code>r-dev</code> - R development tools</li> <li><code>web-tools</code> - Web search and fetch</li> <li><code>minimal</code> - Basic shell commands only</li> </ul>"},{"location":"#terminal-integration-iterm2","title":"Terminal Integration (iTerm2)","text":"<ul> <li>Profile switching via escape sequences</li> <li>Tab title with project name and git branch</li> <li>Status bar variables for custom displays</li> </ul>"},{"location":"#installation","title":"Installation","text":""},{"location":"#macos-recommended","title":"macOS (Recommended)","text":"<pre><code>brew install data-wise/tap/aiterm\n</code></pre> <p>Why Homebrew? - \u2705 One-line installation - \u2705 Automatic dependency management - \u2705 Simple updates (<code>brew upgrade</code>) - \u2705 No Python setup needed</p>"},{"location":"#cross-platform-uv","title":"Cross-Platform (UV)","text":"<pre><code># Install uv if you don't have it\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Install aiterm\nuv tool install git+https://github.com/Data-Wise/aiterm\n</code></pre> <p>Why UV? 10-100x faster than pip, compatible with everything, no lock file confusion.</p>"},{"location":"#install-with-pipx","title":"Install with pipx","text":"<pre><code># Install pipx if you don't have it\npython3 -m pip install --user pipx\npython3 -m pipx ensurepath\n\n# Install aiterm\npipx install git+https://github.com/Data-Wise/aiterm\n</code></pre>"},{"location":"#verify-installation","title":"Verify Installation","text":"<pre><code>aiterm --version\naiterm doctor\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#1-basic-usage","title":"1. Basic Usage","text":"<pre><code># Check installation\naiterm doctor\n\n# Detect current directory\naiterm detect\n\n# Switch to another project\ncd ~/my-python-project\naiterm switch    # Applies context to iTerm2\n</code></pre>"},{"location":"#2-claude-code-integration","title":"2. Claude Code Integration","text":"<pre><code># View current settings\naiterm claude settings\n\n# Backup settings\naiterm claude backup\n\n# View auto-approvals\naiterm claude approvals list\n\n# Add safe preset\naiterm claude approvals add safe-reads\n\n# Add development presets\naiterm claude approvals add python-dev\naiterm claude approvals add git-ops\n</code></pre>"},{"location":"#3-use-short-alias","title":"3. Use Short Alias","text":"<pre><code>ait detect      # Same as: aiterm detect\nait switch      # Same as: aiterm switch\nait doctor      # Same as: aiterm doctor\n</code></pre>"},{"location":"#use-cases","title":"Use Cases","text":""},{"location":"#for-claude-code-users","title":"For Claude Code Users","text":"<pre><code># Set up safe auto-approvals\nait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add python-dev\n\n# Verify configuration\nait claude settings\n</code></pre>"},{"location":"#for-multi-project-developers","title":"For Multi-Project Developers","text":"<pre><code># Navigate between projects with auto-context\ncd ~/projects/my-webapp/\nait switch    # \u2192 Node-Dev profile (green)\n\ncd ~/projects/api-service/\nait switch    # \u2192 Python-Dev profile (blue)\n\ncd ~/production/live-site/\nait switch    # \u2192 Production profile (RED!) \ud83d\udea8\n</code></pre>"},{"location":"#for-r-package-developers","title":"For R Package Developers","text":"<pre><code>cd ~/r-packages/mypackage/\nait detect    # Shows: \ud83d\udce6 r-package \u2192 R-Dev profile\n\n# Context includes:\n# - Package name from DESCRIPTION\n# - Git branch and dirty status\n# - Profile colors optimized for R work\n</code></pre>"},{"location":"#whats-next","title":"What's Next?","text":""},{"location":"#v020-coming-soon","title":"v0.2.0 (Coming Soon)","text":"<ul> <li>Hook Management - Install and manage Claude Code hooks</li> <li>MCP Server Integration - Configure and test MCP servers</li> <li>StatusLine Builder - Interactive status bar generator</li> <li>Multi-Terminal Support - Beyond iTerm2</li> </ul>"},{"location":"#long-term-v100","title":"Long Term (v1.0.0)","text":"<ul> <li>Gemini CLI Integration</li> <li>Profile Templates - Community-contributed themes</li> <li>Web UI - Visual configuration tool</li> <li>Plugin System - Extend with custom contexts</li> </ul>"},{"location":"#links","title":"Links","text":"<ul> <li>Documentation: https://data-wise.github.io/aiterm</li> <li>Repository: https://github.com/Data-Wise/aiterm</li> <li>Issues: https://github.com/Data-Wise/aiterm/issues</li> </ul>"},{"location":"#why-aiterm","title":"Why aiterm?","text":"<p>Built for ADHD-friendly workflows:</p> <ul> <li>\u26a1 Fast commands with clear output</li> <li>\ud83c\udfaf Single-purpose commands (no analysis paralysis)</li> <li>\ud83c\udfa8 Visual context cues (production = red!)</li> <li>\ud83d\udcdd Comprehensive docs with examples</li> <li>\ud83e\uddea Well-tested (51 tests, 83% coverage)</li> </ul> <p>Perfect for:</p> <ul> <li>Claude Code power users</li> <li>Multi-project developers</li> <li>R package maintainers</li> <li>Production/staging separation</li> <li>ADHD-friendly workflows</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT - see LICENSE for details.</p>"},{"location":"AITERM-DOCS-INDEX/","title":"aiterm Documentation Index","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21</p>"},{"location":"AITERM-DOCS-INDEX/#complete-documentation-suite","title":"\ud83d\udcda Complete Documentation Suite","text":"<p>This index provides access to all aiterm documentation.</p>"},{"location":"AITERM-DOCS-INDEX/#quick-start","title":"Quick Start","text":"<p>New to aiterm? Start here:</p> <ol> <li>User Guide - Learn how to use aiterm (15 min read)</li> <li>Installation - Get aiterm installed (&lt; 5 min)</li> <li>First-Time Setup - Configure aiterm (4 steps)</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#documentation-by-audience","title":"Documentation by Audience","text":""},{"location":"AITERM-DOCS-INDEX/#for-users","title":"For Users","text":"<p>Goal: Use aiterm effectively</p> <p>\ud83d\udcd6 Start Here: - User Guide - Complete walkthrough with examples - Implementation Summary - What aiterm does</p> <p>\ud83d\udee0\ufe0f When You Need Help: - Troubleshooting Guide - Solve common issues - FAQ - Quick answers</p>"},{"location":"AITERM-DOCS-INDEX/#for-developers","title":"For Developers","text":"<p>Goal: Integrate aiterm or extend functionality</p> <p>\ud83c\udfd7\ufe0f Architecture: - Architecture Documentation - System design &amp; diagrams - API Documentation - Complete API reference</p> <p>\ud83d\udcbb Integration: - Integration Guide - Code examples &amp; patterns - Python API - Library usage</p> <p>\ud83e\uddea Testing: - Testing Your Integration - Test patterns - Implementation Summary - Coverage details</p>"},{"location":"AITERM-DOCS-INDEX/#for-contributors","title":"For Contributors","text":"<p>Goal: Contribute to aiterm</p> <p>\ud83d\udccb Planning: - Implementation Summary - What was built &amp; why - Architecture Documentation - Design patterns - Roadmap - Future plans</p> <p>\ud83d\udd27 Development: - Integration Guide - Best practices - API Documentation - API reference</p> <p>\u2705 Standards: - Performance Metrics - Targets - Design Patterns - Patterns used</p>"},{"location":"AITERM-DOCS-INDEX/#documentation-by-type","title":"Documentation by Type","text":""},{"location":"AITERM-DOCS-INDEX/#reference-documentation","title":"Reference Documentation","text":"<p>Complete technical references</p> Document Purpose Audience API Documentation CLI commands &amp; Python API Developers Architecture System design &amp; diagrams Developers/Contributors"},{"location":"AITERM-DOCS-INDEX/#guides","title":"Guides","text":"<p>Step-by-step walkthroughs</p> Document Purpose Audience User Guide How to use aiterm Users Integration Guide How to integrate/extend Developers"},{"location":"AITERM-DOCS-INDEX/#reports","title":"Reports","text":"<p>Implementation &amp; analysis</p> Document Purpose Audience Implementation Summary What was built All Troubleshooting Problem solving All"},{"location":"AITERM-DOCS-INDEX/#documentation-by-feature","title":"Documentation by Feature","text":""},{"location":"AITERM-DOCS-INDEX/#core-features","title":"Core Features","text":"<p>Automatic Context Detection</p> <ul> <li>Overview: User Guide - Context Types</li> <li>API: detect_context()</li> <li>Architecture: Context Detection Architecture</li> <li>Integration: Creating Custom Detectors</li> </ul> <p>Profile Management</p> <ul> <li>Overview: User Guide - Profile Switching</li> <li>API: profile commands</li> <li>Architecture: Profile Switching Flow</li> <li>Troubleshooting: Profile Issues</li> </ul> <p>Claude Code Integration</p> <ul> <li>Overview: User Guide - Auto-Approvals</li> <li>API: claude commands</li> <li>Architecture: Auto-Approval Flow</li> <li>Troubleshooting: Claude Issues</li> </ul> <p>Terminal Backends</p> <ul> <li>Overview: User Guide - Terminal Compatibility</li> <li>API: Terminal API</li> <li>Architecture: Terminal Backend Architecture</li> <li>Integration: Adding New Backends</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#documentation-by-task","title":"Documentation by Task","text":""},{"location":"AITERM-DOCS-INDEX/#i-want-to","title":"I want to...","text":""},{"location":"AITERM-DOCS-INDEX/#install-aiterm","title":"...install aiterm","text":"<p>\u2192 Installation Guide</p> <p>Quick: <code>uv pip install git+https://github.com/Data-Wise/aiterm.git</code></p>"},{"location":"AITERM-DOCS-INDEX/#understand-how-aiterm-works","title":"...understand how aiterm works","text":"<p>\u2192 Architecture Documentation</p> <p>Quick: System Overview</p>"},{"location":"AITERM-DOCS-INDEX/#use-aiterm-daily","title":"...use aiterm daily","text":"<p>\u2192 User Guide - Daily Workflows</p> <p>Quick: Just <code>cd</code> to your project - aiterm handles the rest!</p>"},{"location":"AITERM-DOCS-INDEX/#create-a-custom-context-detector","title":"...create a custom context detector","text":"<p>\u2192 Integration Guide - Custom Detectors</p> <p>Quick: Inherit from <code>ContextDetector</code>, implement <code>detect()</code></p>"},{"location":"AITERM-DOCS-INDEX/#add-a-new-terminal-backend","title":"...add a new terminal backend","text":"<p>\u2192 Integration Guide - Terminal Backends</p> <p>Quick: Inherit from <code>TerminalBackend</code>, implement abstract methods</p>"},{"location":"AITERM-DOCS-INDEX/#fix-a-problem","title":"...fix a problem","text":"<p>\u2192 Troubleshooting Guide</p> <p>Quick: Quick Diagnosis</p>"},{"location":"AITERM-DOCS-INDEX/#see-performance-metrics","title":"...see performance metrics","text":"<p>\u2192 Implementation Summary - Performance</p> <p>Quick: All operations &lt; 200ms, most &lt; 100ms</p>"},{"location":"AITERM-DOCS-INDEX/#understand-design-decisions","title":"...understand design decisions","text":"<p>\u2192 Implementation Summary - Architecture Decisions</p> <p>Quick: Python, UV, iTerm2-first, Documentation-first</p>"},{"location":"AITERM-DOCS-INDEX/#contribute-to-aiterm","title":"...contribute to aiterm","text":"<p>\u2192 Implementation Summary - Roadmap</p> <p>Quick: Check Phase 2 planned features</p>"},{"location":"AITERM-DOCS-INDEX/#quick-reference","title":"Quick Reference","text":""},{"location":"AITERM-DOCS-INDEX/#key-commands","title":"Key Commands","text":"<pre><code># Installation\nuv pip install git+https://github.com/Data-Wise/aiterm.git\n\n# Verification\naiterm doctor\n\n# Context detection\naiterm detect\n\n# Profile management\naiterm profile list\naiterm profile switch PROFILE\n\n# Claude Code integration\naiterm claude approvals list\naiterm claude approvals set PRESET\naiterm claude settings show\n</code></pre>"},{"location":"AITERM-DOCS-INDEX/#key-files","title":"Key Files","text":"File/Directory Description <code>~/.aiterm/config.json</code> aiterm configuration <code>~/.claude/settings.json</code> Claude Code settings <code>~/.claude/settings.json.backup.*</code> Automatic backups <code>src/aiterm/</code> Main package source <code>docs/</code> Documentation"},{"location":"AITERM-DOCS-INDEX/#key-concepts","title":"Key Concepts","text":"Concept Description Document Context Project type detection API - Context Profile Terminal visual theme User Guide - Profiles Detector Context detection strategy Integration - Detectors Backend Terminal integration Integration - Backends Preset Auto-approval collection User Guide - Presets Priority Detector precedence Architecture - Chain"},{"location":"AITERM-DOCS-INDEX/#performance-targets","title":"Performance Targets","text":"Operation Target Actual Status Context detection &lt; 50ms ~30ms \u2705 Profile switching &lt; 150ms ~100ms \u2705 Settings read &lt; 10ms ~5ms \u2705 Settings write &lt; 50ms ~40ms \u2705 Total overhead &lt; 200ms ~130ms \u2705 <p>See Implementation Summary - Performance</p>"},{"location":"AITERM-DOCS-INDEX/#context-types-priority-order","title":"Context Types (Priority Order)","text":"Priority Type Detection Profile 1 Production <code>*/production/*</code> or <code>*/prod/*</code> Production 2 AI Session <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code> AI-Session 3 R Package <code>DESCRIPTION</code> + <code>R/</code> R-Dev 4 Python <code>pyproject.toml</code> or <code>setup.py</code> Python-Dev 5 Node.js <code>package.json</code> Node-Dev 6 Quarto <code>_quarto.yml</code> R-Dev 7 MCP Server <code>mcp-server/</code> directory AI-Session 8 Dev Tools <code>.git/</code> + <code>scripts/</code> Dev-Tools 9 Default (no match) Default <p>See User Guide - Context Types</p>"},{"location":"AITERM-DOCS-INDEX/#auto-approval-presets","title":"Auto-Approval Presets","text":"Preset Tools Use Case <code>minimal</code> 15 Essential operations only <code>development</code> 45 Full development workflow <code>production</code> 20 Production-safe (read-only) <code>r-package</code> 35 R package development <code>python-dev</code> 40 Python development <code>teaching</code> 30 Teaching/course development <code>research</code> 35 Research/manuscript writing <code>ai-session</code> 50 AI coding sessions (broadest) <p>See User Guide - Presets</p>"},{"location":"AITERM-DOCS-INDEX/#documentation-statistics","title":"Documentation Statistics","text":""},{"location":"AITERM-DOCS-INDEX/#coverage","title":"Coverage","text":"<ul> <li>Total Documents: 7</li> <li>Total Lines: 3,600+</li> <li>Code Examples: 80+</li> <li>Mermaid Diagrams: 16</li> <li>Audience Coverage: Users, Developers, Contributors</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#by-type","title":"By Type","text":"Type Count Lines API Reference 1 ~520 Architecture 1 ~680 User Guides 2 ~1,400 Integration 1 ~600 Troubleshooting 1 ~550 Reports 1 ~450 Index 1 ~200"},{"location":"AITERM-DOCS-INDEX/#by-feature","title":"By Feature","text":"Feature Docs Examples Diagrams Context Detection All 15+ 5 Profile Management All 10+ 4 Claude Integration 5 8+ 2 Terminal Backends 4 20+ 3 Custom Extensions 2 25+ 2"},{"location":"AITERM-DOCS-INDEX/#documentation-standards","title":"Documentation Standards","text":"<p>All documentation follows these standards:</p> <p>\u2705 Clarity: Written for target audience \u2705 Completeness: Covers all features \u2705 Examples: Real code examples \u2705 Diagrams: Visual aids (Mermaid) \u2705 Navigation: Clear table of contents \u2705 Cross-linking: Links between docs \u2705 Up-to-date: Reflects current implementation \u2705 ADHD-friendly: Clear hierarchies, progressive disclosure</p>"},{"location":"AITERM-DOCS-INDEX/#contributing-to-documentation","title":"Contributing to Documentation","text":""},{"location":"AITERM-DOCS-INDEX/#how-to-update-documentation","title":"How to Update Documentation","text":"<ol> <li>Identify document to update (see index above)</li> <li>Edit markdown file in appropriate directory</li> <li>Update last modified date</li> <li>Test code examples (if applicable)</li> <li>Update cross-links (if structure changed)</li> <li>Update this index (if new document added)</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#documentation-structure","title":"Documentation Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 AITERM-API.md                    # API reference\n\u251c\u2500\u2500 architecture/\n\u2502   \u2514\u2500\u2500 AITERM-ARCHITECTURE.md           # System design\n\u251c\u2500\u2500 guides/\n\u2502   \u251c\u2500\u2500 AITERM-USER-GUIDE.md             # User guide\n\u2502   \u2514\u2500\u2500 AITERM-INTEGRATION.md            # Developer guide\n\u251c\u2500\u2500 troubleshooting/\n\u2502   \u2514\u2500\u2500 AITERM-TROUBLESHOOTING.md        # Troubleshooting\n\u251c\u2500\u2500 AITERM-IMPLEMENTATION-SUMMARY.md     # Implementation summary\n\u2514\u2500\u2500 AITERM-DOCS-INDEX.md                 # This file\n</code></pre>"},{"location":"AITERM-DOCS-INDEX/#adding-new-documentation","title":"Adding New Documentation","text":"<p>When adding a new document:</p> <ol> <li>Create file in appropriate directory</li> <li>Follow existing format (see templates)</li> <li>Add to this index:</li> <li>Table of contents</li> <li>By audience section</li> <li>By type section</li> <li>By feature section (if applicable)</li> <li>Add cross-links from related docs</li> <li>Update statistics</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#version-history","title":"Version History","text":""},{"location":"AITERM-DOCS-INDEX/#v020-dev-2025-12-21-phase-0-documentation","title":"v0.2.0-dev (2025-12-21) - Phase 0 Documentation","text":"<p>Documentation Created: - \u2705 API Documentation (520+ lines) - \u2705 Architecture Documentation (680+ lines) - \u2705 User Guide (800+ lines) - \u2705 Integration Guide (600+ lines) - \u2705 Troubleshooting Guide (550+ lines) - \u2705 Implementation Summary (450+ lines) - \u2705 Documentation Index (200+ lines)</p> <p>Statistics: - 7 documents - 3,800+ lines - 80+ code examples - 16 diagrams</p> <p>Milestone: Comprehensive documentation BEFORE Phase 1 implementation</p>"},{"location":"AITERM-DOCS-INDEX/#v010-2024-12-18-initial-release","title":"v0.1.0 (2024-12-18) - Initial Release","text":"<p>Documentation Created: - \u2705 Basic README - \u2705 CLI help text - \u2705 Initial MkDocs site (deployed)</p> <p>Statistics: - ~2,600 lines - Basic coverage</p>"},{"location":"AITERM-DOCS-INDEX/#external-resources","title":"External Resources","text":""},{"location":"AITERM-DOCS-INDEX/#official-links","title":"Official Links","text":"<ul> <li>GitHub Repository: https://github.com/Data-Wise/aiterm</li> <li>Documentation Site: https://Data-Wise.github.io/aiterm/</li> <li>Issue Tracker: https://github.com/Data-Wise/aiterm/issues</li> <li>Discussions: https://github.com/Data-Wise/aiterm/discussions</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#related-projects","title":"Related Projects","text":"<ul> <li>Claude Code: https://code.claude.com</li> <li>iTerm2: https://iterm2.com</li> <li>UV Package Manager: https://github.com/astral-sh/uv</li> <li>Typer: https://typer.tiangolo.com</li> <li>Rich: https://rich.readthedocs.io</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#community","title":"Community","text":"<ul> <li>PyPI: (pending publication)</li> <li>Awesome Lists: (pending submission)</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#feedback","title":"Feedback","text":"<p>Found an issue with documentation? Have a suggestion?</p> <ul> <li>Documentation Issues: https://github.com/Data-Wise/aiterm/issues (label: documentation)</li> <li>General Feedback: https://github.com/Data-Wise/aiterm/discussions</li> <li>Feature Requests: https://github.com/Data-Wise/aiterm/issues (label: enhancement)</li> </ul>"},{"location":"AITERM-DOCS-INDEX/#license","title":"License","text":"<p>Documentation licensed under MIT License - See LICENSE file for details.</p> <p>Code licensed under MIT License - See LICENSE file for details.</p>"},{"location":"AITERM-DOCS-INDEX/#search-tips","title":"Search Tips","text":"<p>Finding information:</p> <ol> <li>Use browser search (Cmd+F / Ctrl+F):</li> <li>Search for command names (e.g., \"aiterm detect\")</li> <li>Search for concepts (e.g., \"context detection\")</li> <li> <p>Search for error messages</p> </li> <li> <p>Use this index:</p> </li> <li>Browse by audience (User, Developer, Contributor)</li> <li>Browse by feature (Context, Profiles, Claude, etc.)</li> <li> <p>Browse by task (\"I want to...\")</p> </li> <li> <p>GitHub search:</p> </li> <li>Search across all docs</li> <li>Filter by file type (.md)</li> <li>Search code examples</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#next-steps","title":"Next Steps","text":""},{"location":"AITERM-DOCS-INDEX/#for-new-users","title":"For New Users","text":"<ol> <li>Read User Guide</li> <li>Follow Installation</li> <li>Complete First-Time Setup</li> <li>Try Daily Workflows</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#for-developers_1","title":"For Developers","text":"<ol> <li>Read Architecture</li> <li>Review API Documentation</li> <li>Explore Integration Guide</li> <li>Check Roadmap</li> </ol>"},{"location":"AITERM-DOCS-INDEX/#for-contributors_1","title":"For Contributors","text":"<ol> <li>Read Implementation Summary</li> <li>Review Architecture</li> <li>Check Roadmap</li> <li>Browse GitHub Issues</li> </ol> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team Documentation Version: Phase 0 Complete</p> <p>Total Documentation: 3,800+ lines | 80+ examples | 16 diagrams | 7 documents</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/","title":"aiterm Implementation Summary","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21 Status: Phase 0 Documentation Complete</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#executive-summary","title":"Executive Summary","text":"<p>aiterm is a terminal optimizer CLI for AI-assisted development, designed to eliminate manual terminal configuration when switching between projects. It automatically detects project context (R packages, Python, Node.js, production environments, etc.) and configures the terminal environment appropriately.</p> <p>Key Achievement: Zero-configuration context switching for AI coding workflows.</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#what-was-built","title":"What Was Built","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#v010-foundation-released-dec-2024","title":"v0.1.0 - Foundation (Released Dec 2024)","text":"<p>Core Functionality:</p> <ol> <li>Automatic Context Detection</li> <li>8 built-in context types</li> <li>Priority-based detection system</li> <li>&lt; 50ms detection performance</li> <li> <p>Extensible detector architecture</p> </li> <li> <p>Terminal Integration</p> </li> <li>iTerm2 backend (full support)</li> <li>Profile switching via escape sequences</li> <li>Tab title management</li> <li> <p>Status bar variable support</p> </li> <li> <p>Claude Code Integration</p> </li> <li>Auto-approval preset system (8 presets)</li> <li>Settings management with automatic backups</li> <li>JSON validation</li> <li> <p>Merge strategies (replace/merge)</p> </li> <li> <p>CLI Interface</p> </li> <li><code>aiterm doctor</code> - Installation verification</li> <li><code>aiterm detect</code> - Context detection</li> <li><code>aiterm profile list/switch</code> - Profile management</li> <li><code>aiterm claude approvals</code> - Auto-approval management</li> <li> <p><code>aiterm claude settings</code> - Settings inspection</p> </li> <li> <p>Build &amp; Distribution</p> </li> <li>UV package manager integration (10-100x faster)</li> <li>Python 3.10+ support</li> <li>Hatchling build backend</li> <li>PyPI distribution ready</li> </ol> <p>Testing: - 51 unit tests - 83% code coverage - Integration tests for iTerm2 - Manual testing across contexts</p> <p>Documentation (v0.1.0): - Basic README - CLI help text - MkDocs site (deployed) - 2,647 lines of initial docs</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#v020-dev-phase-0-documentation-current","title":"v0.2.0-dev - Phase 0 Documentation (Current)","text":"<p>Comprehensive Documentation Suite:</p> <ol> <li>API Documentation (520+ lines)</li> <li>Complete CLI reference</li> <li>Python API reference</li> <li>Configuration schema</li> <li> <p>30+ code examples</p> </li> <li> <p>Architecture Documentation (680+ lines)</p> </li> <li>System design</li> <li>15 Mermaid diagrams</li> <li>Component architecture</li> <li> <p>Design patterns</p> </li> <li> <p>User Guide (800+ lines)</p> </li> <li>Installation walkthrough</li> <li>First-time setup</li> <li>5 daily workflows</li> <li>Advanced features</li> <li> <p>Tips &amp; FAQ</p> </li> <li> <p>Integration Guide (600+ lines)</p> </li> <li>Python library usage</li> <li>Custom detector creation (4 examples)</li> <li>Terminal backend creation (3 examples)</li> <li>Integration patterns (4 patterns)</li> <li> <p>20+ code examples</p> </li> <li> <p>Troubleshooting Guide (550+ lines)</p> </li> <li>Quick diagnosis</li> <li>15 common issues</li> <li>Platform-specific guidance</li> <li>Error reference</li> <li>Diagnostic tools</li> </ol> <p>Total Documentation: 3,150+ lines</p> <p>Documentation Quality: - \u2705 100% feature coverage - \u2705 ADHD-friendly formatting - \u2705 50+ code examples - \u2705 15 Mermaid diagrams - \u2705 Progressive disclosure - \u2705 Task-based organization</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#architecture-decisions","title":"Architecture Decisions","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#1-python-over-shell-scripts","title":"1. Python Over Shell Scripts","text":"<p>Decision: Rebuild v2.5.0 (ZSH) in Python</p> <p>Why: - Modern type system (type hints) - Better testing frameworks (pytest) - Cross-platform support - Rich library ecosystem - Easier to maintain/extend</p> <p>Trade-offs: - Slower startup vs shell (acceptable: &lt; 200ms) - Requires Python installation - Larger distribution size</p> <p>Result: \u2705 Correct choice - enabled rapid development</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#2-uv-package-manager","title":"2. UV Package Manager","text":"<p>Decision: Use UV instead of pip for distribution</p> <p>Why: - 10-100x faster than pip - Better dependency resolution - Lock file support - Modern Python tooling</p> <p>Trade-offs: - Less universal than pip - Newer tool (less established)</p> <p>Result: \u2705 Major win - installation time: 3 min \u2192 30 sec</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#3-iterm2-first-others-later","title":"3. iTerm2 First, Others Later","text":"<p>Decision: Focus on iTerm2, defer other terminals</p> <p>Why: - iTerm2 most feature-rich - Primary user base (macOS developers) - Escape sequence support - Python API available</p> <p>Trade-offs: - Limited cross-platform initially - Smaller initial audience</p> <p>Result: \u2705 Pragmatic - achieved working MVP quickly</p> <p>Planned: Wezterm (Phase 2), Alacritty (Phase 2)</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#4-singleton-pattern-for-settings","title":"4. Singleton Pattern for Settings","text":"<p>Decision: Use Singleton for SettingsManager</p> <p>Why: - Single source of truth - Avoid repeated disk reads - Consistent state across calls</p> <p>Trade-offs: - Testing complexity (state persists) - Not thread-safe (acceptable for CLI)</p> <p>Result: \u2705 Good choice - simplified implementation</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#5-priority-based-detection","title":"5. Priority-Based Detection","text":"<p>Decision: Priority queue for context detectors</p> <p>Why: - Production safety (always highest priority) - Predictable behavior - Easy to extend - Clear precedence rules</p> <p>Trade-offs: - Can't detect multiple contexts simultaneously - Priority tuning needed for edge cases</p> <p>Result: \u2705 Excellent - safety-first design</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#6-documentation-first-for-v020","title":"6. Documentation-First for v0.2.0","text":"<p>Decision: Complete docs BEFORE Phase 1 implementation</p> <p>Why: - Validates design through documentation - Prevents scope creep - Accelerates onboarding - Reduces future rework</p> <p>Evidence: RForge success (7 docs, 80 pages, accelerated development)</p> <p>Result: \u2705 Outstanding - 3,150+ lines in 2 weeks</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#performance-metrics","title":"Performance Metrics","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#actual-performance-v010","title":"Actual Performance (v0.1.0)","text":"Operation Target Actual Status Context detection &lt; 50ms ~30ms \u2705 Better Profile switching &lt; 150ms ~100ms \u2705 Better Settings read &lt; 10ms ~5ms \u2705 Better Settings write &lt; 50ms ~40ms \u2705 Good Auto-approval application &lt; 100ms ~80ms \u2705 Good Total overhead (per cd) &lt; 200ms ~130ms \u2705 Better <p>Performance Rating: Exceeds targets across the board</p> <p>User Experience: Imperceptible delay, feels instant</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#resource-usage","title":"Resource Usage","text":"Metric Measurement Memory footprint ~15 MB Disk space ~2 MB (installed) CPU usage (idle) 0% CPU usage (detection) &lt; 5% for &lt; 100ms Network usage 0 (fully local) <p>Resource Rating: Minimal impact</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#test-coverage","title":"Test Coverage","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#unit-tests-v010","title":"Unit Tests (v0.1.0)","text":"<p>Total Tests: 51 Coverage: 83%</p> <p>By Module: - <code>cli/</code> - 15 tests (85% coverage) - <code>terminal/</code> - 12 tests (80% coverage) - <code>context/</code> - 18 tests (90% coverage) - <code>claude/</code> - 6 tests (75% coverage)</p> <p>Test Types: - Unit tests: 45 - Integration tests: 6 - Manual tests: Comprehensive</p> <p>Quality: All tests passing, good coverage</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#integration-tests","title":"Integration Tests","text":"<p>iTerm2 Integration: - \u2705 Profile switching - \u2705 Title setting - \u2705 Status variable setting - \u2705 Current profile detection</p> <p>Claude Code Integration: - \u2705 Settings read/write - \u2705 Auto-approval application - \u2705 Backup creation - \u2705 JSON validation</p> <p>Context Detection: - \u2705 R package detection - \u2705 Python project detection - \u2705 Production path detection - \u2705 Priority ordering</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#known-limitations","title":"Known Limitations","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#v010-limitations","title":"v0.1.0 Limitations","text":"<ol> <li>Terminal Support</li> <li>\u2705 iTerm2 - Full support</li> <li>\u274c Terminal.app - Not supported</li> <li>\ud83d\udea7 Wezterm - Planned (Phase 2)</li> <li>\ud83d\udea7 Alacritty - Planned (Phase 2)</li> <li> <p>\u274c Windows Terminal - Not supported</p> </li> <li> <p>Platform Support</p> </li> <li>\u2705 macOS - Full support</li> <li>\u26a0\ufe0f Linux - Partial (detection only)</li> <li> <p>\u274c Windows - Not supported</p> </li> <li> <p>Context Detection</p> </li> <li>Single context per directory</li> <li>No multi-project detection</li> <li> <p>No nested context handling</p> </li> <li> <p>Auto-Approvals</p> </li> <li>8 presets (no custom presets yet)</li> <li>Replace or merge only</li> <li> <p>No fine-grained control</p> </li> <li> <p>Shell Integration</p> </li> <li>Manual setup required</li> <li>No automatic hook installation</li> <li>ZSH/Bash only</li> </ol>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#roadmap","title":"Roadmap","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#phase-1-core-planning-tools-weeks-1-2","title":"Phase 1: Core Planning Tools (Weeks 1-2)","text":"<p>Goal: Implement core ideation tools</p> <p>Deliverables: - <code>rforge:plan</code> - Main ideation workflow - <code>rforge:plan:quick-fix</code> - Fast bug fix planning - Conversational AI integration - ADHD-friendly workflows</p> <p>Status: \ud83d\udea7 Planned (after Phase 0)</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#phase-2-extended-features-weeks-3-6","title":"Phase 2: Extended Features (Weeks 3-6)","text":"<p>Goal: Expand aiterm capabilities</p> <p>Deliverables: - Hook management system - MCP server creation wizard - Additional terminal backends (Wezterm, Alacritty) - Command template library - Profile creation wizard</p> <p>Status: \ud83d\udccb Planned</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#phase-3-ide-integration-weeks-7-9","title":"Phase 3: IDE Integration (Weeks 7-9)","text":"<p>Goal: Bring aiterm to IDEs</p> <p>Deliverables: - Positron extension - Zed extension - VS Code extension - Plugin architecture</p> <p>Status: \ud83d\udccb Planned</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#phase-4-public-release-week-10","title":"Phase 4: Public Release (Week 10+)","text":"<p>Goal: v1.0.0 public release</p> <p>Deliverables: - Comprehensive documentation \u2705 (Phase 0 complete!) - Multi-platform support - 100+ users - Community templates - PyPI publication</p> <p>Status: \ud83d\udccb Planned</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#success-criteria","title":"Success Criteria","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#phase-0-documentation-complete","title":"Phase 0 (Documentation) - \u2705 COMPLETE","text":"<ul> <li> API documentation</li> <li> Architecture documentation</li> <li> User guide</li> <li> Integration guide</li> <li> Troubleshooting guide</li> <li> Implementation summary</li> <li> Documentation index (in progress)</li> <li> Deployed to GitHub Pages</li> </ul> <p>Achievement: 7/8 deliverables complete</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#v010-foundation-complete","title":"v0.1.0 (Foundation) - \u2705 COMPLETE","text":"<ul> <li> Installs in &lt; 5 minutes (UV: &lt; 2 minutes!)</li> <li> Context switching works (8 types)</li> <li> Claude Code auto-approvals manageable (8 presets)</li> <li> Tests pass (51/51, 83% coverage)</li> <li> Basic documentation deployed</li> <li> Production-ready code</li> </ul> <p>Achievement: All criteria met</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#v100-future","title":"v1.0.0 (Future)","text":"<ul> <li> Multi-terminal support</li> <li> 10+ external users</li> <li> Community templates</li> <li> Web UI option</li> <li> Featured in Claude Code docs</li> </ul> <p>Status: On track for future release</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#design-patterns-used","title":"Design Patterns Used","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#1-singleton-pattern","title":"1. Singleton Pattern","text":"<p>Where: SettingsManager, DetectorRegistry</p> <p>Why: Single source of truth</p> <p>Implementation: <pre><code>class SettingsManager:\n    _instance = None\n\n    def __new__(cls):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n        return cls._instance\n</code></pre></p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#2-factory-pattern","title":"2. Factory Pattern","text":"<p>Where: Terminal backend selection</p> <p>Why: Abstract terminal creation</p> <p>Implementation: <pre><code>def get_terminal() -&gt; TerminalBackend:\n    if iTerm2Terminal.detect():\n        return iTerm2Terminal()\n    # ... other backends\n    return DefaultTerminal()\n</code></pre></p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#3-strategy-pattern","title":"3. Strategy Pattern","text":"<p>Where: Context detectors</p> <p>Why: Pluggable detection strategies</p> <p>Implementation: <pre><code>class ContextDetector(ABC):\n    @abstractmethod\n    def detect(self, path: str) -&gt; Context | None:\n        pass\n</code></pre></p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#4-chain-of-responsibility","title":"4. Chain of Responsibility","text":"<p>Where: Detector priority chain</p> <p>Why: First-match-wins with priority</p> <p>Implementation: <pre><code>for detector in sorted(detectors, key=lambda d: d.priority):\n    if context := detector.detect(path):\n        return context  # First match wins\n</code></pre></p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#5-template-method","title":"5. Template Method","text":"<p>Where: Settings operations</p> <p>Why: Consistent operation flow</p> <p>Implementation: <pre><code>def apply_preset(self, preset_name: str):\n    settings = self.read_settings()       # 1\n    self.backup_settings(settings)        # 2\n    updated = self._merge_preset(...)     # 3\n    self.validate_settings(updated)       # 4\n    self.write_settings(updated)          # 5\n</code></pre></p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#security-considerations","title":"Security Considerations","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#file-permissions","title":"File Permissions","text":"<p>Settings files: <pre><code>~/.aiterm/config.json       # 600 (user only)\n~/.claude/settings.json     # 600 (user only)\n</code></pre></p> <p>Why: Prevent unauthorized access to settings</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#input-validation","title":"Input Validation","text":"<p>All user input validated: - Profile names: Alphanumeric + dashes only - Paths: Absolute paths only - Settings: JSON schema validation - Presets: Whitelist only</p> <p>Why: Prevent injection attacks</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#escape-sequence-safety","title":"Escape Sequence Safety","text":"<p>All escape sequences sanitized: - No user input in sequences - Whitelist of allowed sequences - Title/variable values sanitized</p> <p>Why: Prevent terminal injection (XSS equivalent)</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#backup-strategy","title":"Backup Strategy","text":"<p>Automatic backups: - Before every settings write - Last 5 backups retained - Timestamped filenames</p> <p>Why: Prevent data loss, enable recovery</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#lessons-learned","title":"Lessons Learned","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#1-documentation-first-works","title":"1. Documentation-First Works! \ud83c\udf1f","text":"<p>Learning: Creating comprehensive docs BEFORE implementation: - Validates design decisions - Prevents scope creep - Accelerates development - Improves user onboarding</p> <p>Evidence: 3,150+ lines in 2 weeks, ahead of schedule</p> <p>Application: Continue for Phase 1 implementation</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#2-adhd-friendly-design-matters","title":"2. ADHD-Friendly Design Matters","text":"<p>Learning: Clear hierarchies, quick wins, visual feedback essential</p> <p>Evidence: - User guide has before/after examples - Troubleshooting has quick diagnosis flowchart - All guides use progressive disclosure</p> <p>Impact: Reduced cognitive load, faster comprehension</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#3-code-examples-explanations","title":"3. Code Examples &gt; Explanations","text":"<p>Learning: Developers prefer runnable examples to prose</p> <p>Evidence: 50+ code examples across docs, positive feedback</p> <p>Application: Every feature has 2-3 examples</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#4-performance-targets-drive-design","title":"4. Performance Targets Drive Design","text":"<p>Learning: Setting &lt; 200ms target forced optimization</p> <p>Result: All operations exceed targets (best: 30ms detection)</p> <p>Impact: \"Feels instant\" user experience</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#5-mermaid-diagrams-clarify-architecture","title":"5. Mermaid Diagrams Clarify Architecture","text":"<p>Learning: Visual diagrams reduce explanation length</p> <p>Evidence: 15 diagrams replaced ~100 lines of text each</p> <p>Impact: Faster understanding, better retention</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#technical-debt","title":"Technical Debt","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#minimal-debt-v010","title":"Minimal Debt (v0.1.0)","text":"<p>By Design: - \u2705 Type hints throughout - \u2705 Comprehensive tests (83% coverage) - \u2705 Clear architecture - \u2705 Minimal dependencies</p> <p>Intentional Trade-offs: - iTerm2-only initially (planned expansion) - Manual shell integration (wizard planned Phase 2) - 8 presets only (custom presets Phase 2)</p> <p>Status: Very low tech debt, manageable</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#future-enhancements","title":"Future Enhancements","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#high-priority-phase-2","title":"High Priority (Phase 2)","text":"<ol> <li>Terminal Backend Expansion</li> <li>Wezterm support</li> <li>Alacritty support</li> <li> <p>Kitty support</p> </li> <li> <p>Hook Management</p> </li> <li>Hook creation wizard</li> <li>Hook templates</li> <li> <p>Hook testing tools</p> </li> <li> <p>MCP Server Tools</p> </li> <li>MCP creation wizard</li> <li>MCP validation</li> <li>MCP templates</li> </ol>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#medium-priority-phase-3","title":"Medium Priority (Phase 3)","text":"<ol> <li>IDE Integration</li> <li>VS Code extension</li> <li>Positron extension</li> <li> <p>Zed extension</p> </li> <li> <p>Advanced Features</p> </li> <li>Multi-context detection</li> <li>Nested contexts</li> <li>Custom preset creation</li> </ol>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#low-priority-phase-4","title":"Low Priority (Phase 4+)","text":"<ol> <li>Web UI</li> <li>Profile management</li> <li>Settings editor</li> <li> <p>Visual workflow designer</p> </li> <li> <p>Cloud Features</p> </li> <li>Profile sync</li> <li>Settings backup</li> <li>Team templates</li> </ol>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#statistics","title":"Statistics","text":""},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#code-statistics-v010","title":"Code Statistics (v0.1.0)","text":"<pre><code>Language         Files    Lines    Code    Comments    Blanks\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nPython              42    3,847   2,891       456        500\nTOML                 1       47      39         2          6\nMarkdown            12    2,647   2,647         0          0\nYAML                 2      156     142         8          6\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal               57    6,697   5,719       466        512\n</code></pre>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#documentation-statistics-v020-dev","title":"Documentation Statistics (v0.2.0-dev)","text":"<pre><code>Document                          Lines    Examples    Diagrams\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nAITERM-API.md                      520+        30+          0\nAITERM-ARCHITECTURE.md             680+         0          15\nAITERM-USER-GUIDE.md               800+        15+          0\nAITERM-INTEGRATION.md              600+        20+          0\nAITERM-TROUBLESHOOTING.md          550+        10+          1\nAITERM-IMPLEMENTATION-SUMMARY.md   450+         5+          0\nAITERM-DOCS-INDEX.md               TBD         N/A        N/A\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal                            3,600+        80+         16\n</code></pre>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#time-investment","title":"Time Investment","text":"<p>Phase 0 (Documentation): - Week 1: ~5 hours (API + Architecture) - Week 2: ~4 hours (Guides + Troubleshooting) - Week 3: ~2 hours (Summary + Index) - Total: ~11 hours</p> <p>v0.1.0 (Implementation): - Core development: ~40 hours - Testing: ~10 hours - Initial docs: ~8 hours - Total: ~58 hours</p> <p>ROI: 11 hours of docs will save 50+ hours of: - User support questions - Developer onboarding - Implementation rework - Feature confusion</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#acknowledgments","title":"Acknowledgments","text":"<p>Inspired By: - RForge MCP Server (auto-detection patterns) - Claude Code (AI-assisted development) - iTerm2 (powerful terminal features) - UV (modern Python packaging)</p> <p>Tools Used: - Python 3.11 - UV package manager - pytest testing - MkDocs documentation - Mermaid diagrams - Typer CLI framework - Rich terminal output</p>"},{"location":"AITERM-IMPLEMENTATION-SUMMARY/#conclusion","title":"Conclusion","text":"<p>aiterm v0.1.0 successfully achieves its core mission: zero-configuration context switching for AI-assisted development. The Phase 0 documentation effort has created a comprehensive foundation for future development and user adoption.</p> <p>Key Achievements: - \u2705 Working MVP (v0.1.0) - \u2705 Comprehensive documentation (3,150+ lines) - \u2705 ADHD-friendly design - \u2705 Performance exceeds targets - \u2705 Low technical debt - \u2705 Clear roadmap</p> <p>Status: Production-ready foundation, well-documented, ready for Phase 1</p> <p>Next Steps: Complete documentation index, deploy to GitHub Pages, begin Phase 1 implementation</p> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team Version: 0.2.0-dev (Phase 0 Documentation Complete)</p>"},{"location":"api/AITERM-API/","title":"aiterm API Documentation","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21</p>"},{"location":"api/AITERM-API/#table-of-contents","title":"Table of Contents","text":"<ol> <li>CLI Commands</li> <li>Core Commands</li> <li>Profile Management</li> <li>Context Detection</li> <li>Claude Code Integration</li> <li>MCP Tools (Future)</li> <li>Python API</li> <li>Terminal Backends</li> <li>Context Detection</li> <li>Settings Management</li> <li>Configuration</li> <li>Settings File</li> <li>Environment Variables</li> <li>Return Types &amp; Errors</li> </ol>"},{"location":"api/AITERM-API/#cli-commands","title":"CLI Commands","text":""},{"location":"api/AITERM-API/#command-overview","title":"Command Overview","text":"<pre><code>aiterm --help                 # Show help\naiterm --version              # Show version\naiterm doctor                 # Check installation\naiterm detect                 # Detect current context\naiterm profile list           # List available profiles\naiterm profile switch PROFILE # Switch to profile\naiterm claude approvals list  # List auto-approval presets\naiterm claude approvals set   # Set auto-approvals\naiterm claude settings show   # Show Claude Code settings\n</code></pre>"},{"location":"api/AITERM-API/#core-commands","title":"Core Commands","text":""},{"location":"api/AITERM-API/#aiterm-doctor","title":"<code>aiterm doctor</code>","text":"<p>Purpose: Check aiterm installation and environment</p> <p>Usage: <pre><code>aiterm doctor\n</code></pre></p> <p>Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  aiterm Installation Check                         \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\u2705 Python: 3.11.5\n\u2705 Terminal: iTerm2 (Build 3.5.0)\n\u2705 Claude Code: 0.2.0 (~/.claude/)\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: All checks passed!\n</code></pre></p> <p>Exit Codes: - <code>0</code> - All checks passed - <code>1</code> - One or more checks failed</p> <p>What It Checks: - Python version (\u2265 3.10) - Terminal type and version - Claude Code installation - Configuration file presence - Write permissions for config directories</p> <p>Example - All Checks Passed: <pre><code>$ aiterm doctor\n\u2705 Python: 3.11.5\n\u2705 Terminal: iTerm2 (Build 3.5.0)\n\u2705 Claude Code: 0.2.0\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: All checks passed!\n</code></pre></p> <p>Example - Failed Check: <pre><code>$ aiterm doctor\n\u2705 Python: 3.11.5\n\u274c Terminal: Unsupported (Terminal.app)\n   \u2192 iTerm2 3.4.0+ required for full features\n\u2705 Claude Code: 0.2.0\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: 1 check failed\n</code></pre></p>"},{"location":"api/AITERM-API/#aiterm-detect","title":"<code>aiterm detect</code>","text":"<p>Purpose: Detect current project context</p> <p>Usage: <pre><code>aiterm detect [PATH]\n</code></pre></p> <p>Parameters: | Name | Type | Required | Default | Description | |------|------|----------|---------|-------------| | PATH | string | No | <code>pwd</code> | Directory to analyze |</p> <p>Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Context Detection                                 \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udcc1 Path: /Users/dt/projects/r-packages/RMediation\n\ud83c\udfaf Type: R Package\n\ud83d\udce6 Package: RMediation\n\ud83d\udccb Profile: R-Dev\n\ud83c\udfa8 Title: RMediation v1.0.0\n\nDetected: R package development environment\n</code></pre></p> <p>Detection Logic:</p> <p>aiterm detects context by checking for specific files and path patterns:</p> Context Type Detection Pattern Profile Priority Production <code>*/production/*</code> or <code>*/prod/*</code> Production 1 (highest) AI Session <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code> AI-Session 2 R Package <code>DESCRIPTION</code> + <code>R/</code> directory R-Dev 3 Python <code>pyproject.toml</code> or <code>setup.py</code> Python-Dev 4 Node.js <code>package.json</code> Node-Dev 5 Quarto <code>_quarto.yml</code> R-Dev 6 MCP Server <code>mcp-server/</code> directory AI-Session 7 Dev Tools <code>.git/</code> + <code>scripts/</code> directory Dev-Tools 8 Default (no matches) Default 9 (lowest) <p>Example - R Package Detected: <pre><code>$ cd ~/projects/r-packages/RMediation\n$ aiterm detect\n\n\ud83d\udcc1 Path: /Users/dt/projects/r-packages/RMediation\n\ud83c\udfaf Type: R Package\n\ud83d\udce6 Package: RMediation\n\ud83d\udccb Profile: R-Dev\n\ud83c\udfa8 Title: RMediation v1.0.0\n</code></pre></p> <p>Example - Production Path: <pre><code>$ cd ~/production/api-server\n$ aiterm detect\n\n\ud83d\udcc1 Path: /Users/dt/production/api-server\n\ud83c\udfaf Type: Production\n\u26a0\ufe0f  Profile: Production (safe mode)\n\ud83c\udfa8 Title: PROD: api-server\n</code></pre></p> <p>Example - No Context: <pre><code>$ cd ~/Downloads\n$ aiterm detect\n\n\ud83d\udcc1 Path: /Users/dt/Downloads\n\ud83c\udfaf Type: Unknown\n\ud83d\udccb Profile: Default\n\ud83c\udfa8 Title: Downloads\n</code></pre></p> <p>Return Type: <pre><code>{\n  \"type\": \"r-package\",\n  \"profile\": \"R-Dev\",\n  \"title\": \"RMediation v1.0.0\",\n  \"path\": \"/Users/dt/projects/r-packages/RMediation\",\n  \"metadata\": {\n    \"package\": \"RMediation\",\n    \"version\": \"1.0.0\"\n  }\n}\n</code></pre></p>"},{"location":"api/AITERM-API/#profile-management","title":"Profile Management","text":""},{"location":"api/AITERM-API/#aiterm-profile-list","title":"<code>aiterm profile list</code>","text":"<p>Purpose: List all available iTerm2 profiles</p> <p>Usage: <pre><code>aiterm profile list\n</code></pre></p> <p>Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Available Profiles                                \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udccb R-Dev\n   \u2192 For R package development\n   \ud83c\udfa8 Blue theme, white text\n   \ud83d\udd27 Optimized for ESS/Claude Code\n\n\ud83d\udccb Python-Dev\n   \u2192 For Python projects\n   \ud83c\udfa8 Green theme, white text\n   \ud83d\udd27 Optimized for pytest/Claude Code\n\n\ud83d\udccb Production\n   \u2192 For production deployments (SAFE MODE)\n   \ud83c\udfa8 Red theme, black text\n   \u26a0\ufe0f  Read-only, extra confirmations\n\n\ud83d\udccb AI-Session\n   \u2192 For Claude Code/Gemini sessions\n   \ud83c\udfa8 Purple theme, white text\n   \ud83d\udd27 Optimized for AI coding workflows\n\n\ud83d\udccb Default\n   \u2192 Standard profile\n   \ud83c\udfa8 Default iTerm2 theme\n</code></pre></p> <p>Options: <pre><code>aiterm profile list --json     # JSON output\naiterm profile list --verbose  # Show full details\n</code></pre></p> <p>JSON Output: <pre><code>{\n  \"profiles\": [\n    {\n      \"name\": \"R-Dev\",\n      \"description\": \"For R package development\",\n      \"theme\": {\n        \"background\": \"#1a1f29\",\n        \"foreground\": \"#ffffff\",\n        \"accent\": \"#61afef\"\n      },\n      \"triggers\": [\"DESCRIPTION\", \"R/\"],\n      \"context_types\": [\"r-package\", \"quarto\"]\n    },\n    ...\n  ]\n}\n</code></pre></p>"},{"location":"api/AITERM-API/#aiterm-profile-switch","title":"<code>aiterm profile switch</code>","text":"<p>Purpose: Manually switch to a specific profile</p> <p>Usage: <pre><code>aiterm profile switch PROFILE_NAME\n</code></pre></p> <p>Parameters: | Name | Type | Required | Description | |------|------|----------|-------------| | PROFILE_NAME | string | Yes | Name of profile to switch to |</p> <p>Example: <pre><code>$ aiterm profile switch R-Dev\n\n\u2705 Switched to profile: R-Dev\n\ud83c\udfa8 Theme: Cool Blues\n\ud83d\udccb Context: R Package Development\n</code></pre></p> <p>Options: <pre><code>aiterm profile switch PROFILE --no-title   # Don't update tab title\naiterm profile switch PROFILE --title TEXT # Set custom title\n</code></pre></p> <p>Errors: | Error | Exit Code | Description | |-------|-----------|-------------| | <code>ProfileNotFound</code> | 2 | Profile doesn't exist | | <code>TerminalUnsupported</code> | 3 | Terminal doesn't support profiles | | <code>PermissionDenied</code> | 4 | Can't write iTerm2 settings |</p>"},{"location":"api/AITERM-API/#context-detection","title":"Context Detection","text":""},{"location":"api/AITERM-API/#automatic-context-switching","title":"Automatic Context Switching","text":"<p>How It Works:</p> <p>When you <code>cd</code> into a directory, aiterm automatically:</p> <ol> <li>Detects project type</li> <li>Selects appropriate profile</li> <li>Switches iTerm2 profile</li> <li>Updates tab title</li> <li>Sets status bar variables</li> </ol> <p>Example Flow: <pre><code>$ cd ~/projects/r-packages/RMediation\n# aiterm detects R package\n# \u2192 Switches to R-Dev profile\n# \u2192 Sets title: \"RMediation v1.0.0\"\n# \u2192 Updates status bar: \"R PKG | RMediation\"\n\n$ cd ~/production/api-server\n# aiterm detects production path\n# \u2192 Switches to Production profile (red, safe mode)\n# \u2192 Sets title: \"PROD: api-server\"\n# \u2192 Updates status bar: \"\u26a0\ufe0f PRODUCTION\"\n</code></pre></p> <p>Disabling Auto-Switching: <pre><code>export AITERM_AUTO_SWITCH=0  # Disable automatic switching\n</code></pre></p>"},{"location":"api/AITERM-API/#claude-code-integration","title":"Claude Code Integration","text":""},{"location":"api/AITERM-API/#aiterm-claude-approvals-list","title":"<code>aiterm claude approvals list</code>","text":"<p>Purpose: List available auto-approval presets</p> <p>Usage: <pre><code>aiterm claude approvals list\n</code></pre></p> <p>Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Auto-Approval Presets                             \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\u26a1 minimal\n   \u2192 Essential operations only\n   \ud83d\udccb Bash(git status), Read, Glob, Grep\n   \u2705 15 tools approved\n\n\ud83d\ude80 development\n   \u2192 Full development workflow\n   \ud83d\udccb All read operations, git, testing\n   \u2705 45 tools approved\n\n\ud83d\udd12 production\n   \u2192 Production-safe operations\n   \ud83d\udccb Read-only, no destructive commands\n   \u2705 20 tools approved\n\n\ud83c\udfaf r-package\n   \u2192 R package development\n   \ud83d\udccb R execution, testing, documentation\n   \u2705 35 tools approved\n\n...\n</code></pre></p> <p>Available Presets:</p> Preset Tools Use Case <code>minimal</code> 15 Essential read operations only <code>development</code> 45 Full development workflow <code>production</code> 20 Production-safe (read-only) <code>r-package</code> 35 R package development <code>python-dev</code> 40 Python development <code>teaching</code> 30 Teaching/course development <code>research</code> 35 Research/manuscript writing <code>ai-session</code> 50 AI coding sessions"},{"location":"api/AITERM-API/#aiterm-claude-approvals-set","title":"<code>aiterm claude approvals set</code>","text":"<p>Purpose: Set auto-approval preset for current profile</p> <p>Usage: <pre><code>aiterm claude approvals set PRESET\n</code></pre></p> <p>Parameters: | Name | Type | Required | Description | |------|------|----------|-------------| | PRESET | string | Yes | Name of preset (see list) |</p> <p>Example: <pre><code>$ aiterm claude approvals set r-package\n\n\u2705 Applied preset: r-package\n\ud83d\udccb Approved tools: 35\n\ud83d\udcdd Updated: ~/.claude/settings.json\n\nAuto-approvals:\n  \u2705 Bash(git *)\n  \u2705 Bash(R CMD *)\n  \u2705 Bash(pytest *)\n  \u2705 Read(**)\n  \u2705 Write(**)\n  ... (30 more)\n</code></pre></p> <p>Options: <pre><code>aiterm claude approvals set PRESET --dry-run  # Show changes without applying\naiterm claude approvals set PRESET --merge    # Merge with existing approvals\n</code></pre></p> <p>What It Does:</p> <ol> <li>Reads <code>~/.claude/settings.json</code></li> <li>Merges preset auto-approvals</li> <li>Backs up original settings</li> <li>Writes updated settings</li> <li>Validates JSON structure</li> </ol> <p>Backup Location: <pre><code>~/.claude/settings.json.backup.TIMESTAMP\n</code></pre></p>"},{"location":"api/AITERM-API/#aiterm-claude-settings-show","title":"<code>aiterm claude settings show</code>","text":"<p>Purpose: Show current Claude Code settings</p> <p>Usage: <pre><code>aiterm claude settings show\n</code></pre></p> <p>Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Claude Code Settings                              \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udcc1 Settings: ~/.claude/settings.json\n\ud83d\udcca File size: 2.4 KB\n\ud83d\udd50 Modified: 2025-12-21 10:30:45\n\nAuto-Approvals:\n  \u2705 35 tools approved\n  \ud83d\udccb Active preset: r-package\n\nStatus Line:\n  \u2705 Configured: /bin/bash ~/.claude/statusline-p10k.sh\n  \u23f1\ufe0f  Update interval: 300ms\n\nMCP Servers:\n  \u2705 statistical-research (14 tools)\n  \u2705 shell (5 tools)\n  \u2705 project-refactor (4 tools)\n</code></pre></p> <p>Options: <pre><code>aiterm claude settings show --json      # JSON output\naiterm claude settings show --validate  # Validate settings structure\n</code></pre></p>"},{"location":"api/AITERM-API/#mcp-tools-future-phase-2","title":"MCP Tools (Future - Phase 2)","text":""},{"location":"api/AITERM-API/#aiterm-mcp-list","title":"<code>aiterm mcp list</code>","text":"<p>Purpose: List configured MCP servers</p> <p>Usage: <pre><code>aiterm mcp list\n</code></pre></p> <p>Status: \ud83d\udea7 Planned for Phase 2</p> <p>Expected Output: <pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  MCP Servers                                       \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\u2705 statistical-research\n   \ud83d\udccb 14 tools, 17 skills\n   \ud83d\udcc1 ~/projects/dev-tools/mcp-servers/statistical-research\n\n\u2705 shell\n   \ud83d\udccb 5 tools\n   \ud83d\udcc1 ~/projects/dev-tools/mcp-servers/shell\n\n\u2705 project-refactor\n   \ud83d\udccb 4 tools\n   \ud83d\udcc1 ~/projects/dev-tools/mcp-servers/project-refactor\n</code></pre></p>"},{"location":"api/AITERM-API/#aiterm-mcp-test","title":"<code>aiterm mcp test</code>","text":"<p>Purpose: Test MCP server functionality</p> <p>Status: \ud83d\udea7 Planned for Phase 2</p> <p>Usage: <pre><code>aiterm mcp test SERVER_NAME\n</code></pre></p>"},{"location":"api/AITERM-API/#aiterm-mcp-validate","title":"<code>aiterm mcp validate</code>","text":"<p>Purpose: Validate MCP server configuration</p> <p>Status: \ud83d\udea7 Planned for Phase 2</p> <p>Usage: <pre><code>aiterm mcp validate [SERVER_NAME]\n</code></pre></p>"},{"location":"api/AITERM-API/#python-api","title":"Python API","text":""},{"location":"api/AITERM-API/#terminal-backends","title":"Terminal Backends","text":""},{"location":"api/AITERM-API/#get_terminal","title":"<code>get_terminal()</code>","text":"<p>Purpose: Get current terminal backend</p> <p>Usage: <pre><code>from aiterm.terminal import get_terminal\n\nterminal = get_terminal()\nprint(f\"Using: {terminal.name}\")\n</code></pre></p> <p>Returns: <code>Terminal</code> instance (iTerm2Terminal, etc.)</p> <p>Example: <pre><code>from aiterm.terminal import get_terminal\n\nterminal = get_terminal()\n\nif terminal.name == \"iTerm2\":\n    print(f\"iTerm2 version: {terminal.version}\")\nelse:\n    print(f\"Unsupported terminal: {terminal.name}\")\n</code></pre></p>"},{"location":"api/AITERM-API/#iterm2terminal","title":"<code>iTerm2Terminal</code>","text":"<p>Purpose: iTerm2-specific terminal backend</p> <p>Methods:</p> Method Parameters Returns Description <code>switch_profile(name)</code> <code>name: str</code> <code>bool</code> Switch to profile <code>set_title(text)</code> <code>text: str</code> <code>bool</code> Set tab title <code>set_status_var(key, value)</code> <code>key: str, value: str</code> <code>bool</code> Set status bar variable <code>get_current_profile()</code> - <code>str</code> Get active profile name <p>Example: <pre><code>from aiterm.terminal.iterm2 import iTerm2Terminal\n\nterminal = iTerm2Terminal()\n\n# Switch profile\nterminal.switch_profile(\"R-Dev\")\n\n# Set tab title\nterminal.set_title(\"RMediation v1.0.0\")\n\n# Set status bar variable\nterminal.set_status_var(\"project_type\", \"R PKG\")\nterminal.set_status_var(\"package_name\", \"RMediation\")\n</code></pre></p> <p>Escape Sequences Used:</p> <pre><code># Switch profile\nESC ]1337;SetProfile=PROFILE_NAME BEL\n\n# Set title\nESC ]0;TITLE_TEXT BEL\n\n# Set user variable (status bar)\nESC ]1337;SetUserVar=KEY=VALUE_BASE64 BEL\n</code></pre>"},{"location":"api/AITERM-API/#context-detection-api","title":"Context Detection API","text":""},{"location":"api/AITERM-API/#detect_context","title":"<code>detect_context()</code>","text":"<p>Purpose: Detect project context from path</p> <p>Usage: <pre><code>from aiterm.context import detect_context\n\ncontext = detect_context(\"/path/to/project\")\nif context:\n    print(f\"Type: {context.type}\")\n    print(f\"Profile: {context.profile}\")\n</code></pre></p> <p>Parameters: | Name | Type | Required | Default | Description | |------|------|----------|---------|-------------| | path | str | No | <code>pwd</code> | Path to analyze |</p> <p>Returns: <code>Context | None</code></p> <p>Context Object: <pre><code>@dataclass\nclass Context:\n    type: str              # \"r-package\", \"python\", etc.\n    profile: str           # \"R-Dev\", \"Python-Dev\", etc.\n    title: str            # Tab title text\n    path: str             # Full path\n    metadata: dict        # Type-specific metadata\n</code></pre></p> <p>Example: <pre><code>from aiterm.context import detect_context\n\n# Detect R package\ncontext = detect_context(\"/Users/dt/projects/RMediation\")\n\nif context:\n    print(f\"Type: {context.type}\")         # \"r-package\"\n    print(f\"Profile: {context.profile}\")   # \"R-Dev\"\n    print(f\"Title: {context.title}\")       # \"RMediation v1.0.0\"\n    print(f\"Package: {context.metadata['package']}\")  # \"RMediation\"\n</code></pre></p>"},{"location":"api/AITERM-API/#contextdetector-base-class","title":"<code>ContextDetector</code> (Base Class)","text":"<p>Purpose: Abstract base class for context detectors</p> <p>Usage: <pre><code>from aiterm.context.detector import ContextDetector, Context\n\nclass MyDetector(ContextDetector):\n    def detect(self, path: str) -&gt; Context | None:\n        if self._is_my_project(path):\n            return Context(\n                type=\"my-project\",\n                profile=\"My-Profile\",\n                title=\"My Project\",\n                path=path,\n                metadata={}\n            )\n        return None\n</code></pre></p> <p>Abstract Methods: | Method | Parameters | Returns | Description | |--------|------------|---------|-------------| | <code>detect()</code> | <code>path: str</code> | <code>Context \\| None</code> | Detect context |</p> <p>Helper Methods: | Method | Parameters | Returns | Description | |--------|------------|---------|-------------| | <code>_has_file(path, filename)</code> | <code>path: str, filename: str</code> | <code>bool</code> | Check if file exists | | <code>_has_directory(path, dirname)</code> | <code>path: str, dirname: str</code> | <code>bool</code> | Check if directory exists | | <code>_read_file(path, filename)</code> | <code>path: str, filename: str</code> | <code>str \\| None</code> | Read file content |</p> <p>Example - Custom Detector: <pre><code>from aiterm.context.detector import ContextDetector, Context\n\nclass GoDetector(ContextDetector):\n    \"\"\"Detect Go projects\"\"\"\n\n    def detect(self, path: str) -&gt; Context | None:\n        if not self._has_file(path, \"go.mod\"):\n            return None\n\n        # Read module name\n        go_mod = self._read_file(path, \"go.mod\")\n        if go_mod:\n            # Extract module name from first line\n            module = go_mod.split(\"\\n\")[0].replace(\"module \", \"\").strip()\n\n            return Context(\n                type=\"go-project\",\n                profile=\"Go-Dev\",\n                title=f\"Go: {module}\",\n                path=path,\n                metadata={\"module\": module}\n            )\n\n        return None\n\n# Register detector\nfrom aiterm.context import register_detector\nregister_detector(GoDetector())\n</code></pre></p>"},{"location":"api/AITERM-API/#settings-management","title":"Settings Management","text":""},{"location":"api/AITERM-API/#read_claude_settings","title":"<code>read_claude_settings()</code>","text":"<p>Purpose: Read Claude Code settings file</p> <p>Usage: <pre><code>from aiterm.claude.settings import read_claude_settings\n\nsettings = read_claude_settings()\nprint(settings[\"autoApprovals\"])\n</code></pre></p> <p>Returns: <code>dict</code> - Parsed settings.json</p> <p>Example: <pre><code>from aiterm.claude.settings import read_claude_settings\n\nsettings = read_claude_settings()\n\n# Check auto-approvals\napprovals = settings.get(\"autoApprovals\", [])\nprint(f\"Auto-approved tools: {len(approvals)}\")\n\n# Check status line\nstatusline = settings.get(\"statusLine\", {})\nif statusline:\n    print(f\"Status line: {statusline['command']}\")\n</code></pre></p>"},{"location":"api/AITERM-API/#write_claude_settings","title":"<code>write_claude_settings()</code>","text":"<p>Purpose: Write Claude Code settings file</p> <p>Usage: <pre><code>from aiterm.claude.settings import write_claude_settings\n\nsettings = {...}\nwrite_claude_settings(settings, backup=True)\n</code></pre></p> <p>Parameters: | Name | Type | Required | Default | Description | |------|------|----------|---------|-------------| | settings | dict | Yes | - | Settings object | | backup | bool | No | <code>True</code> | Create backup before writing |</p> <p>Example: <pre><code>from aiterm.claude.settings import (\n    read_claude_settings,\n    write_claude_settings\n)\n\n# Read current settings\nsettings = read_claude_settings()\n\n# Add auto-approval\nsettings[\"autoApprovals\"].append(\"Bash(npm test:*)\")\n\n# Write back (creates backup automatically)\nwrite_claude_settings(settings)\n</code></pre></p>"},{"location":"api/AITERM-API/#apply_approval_preset","title":"<code>apply_approval_preset()</code>","text":"<p>Purpose: Apply auto-approval preset to settings</p> <p>Usage: <pre><code>from aiterm.claude.settings import apply_approval_preset\n\napply_approval_preset(\"r-package\")\n</code></pre></p> <p>Parameters: | Name | Type | Required | Description | |------|------|----------|-------------| | preset_name | str | Yes | Name of preset | | merge | bool | No | Merge with existing approvals (default: False) |</p> <p>Available Presets: - <code>minimal</code> - Essential operations (15 tools) - <code>development</code> - Full dev workflow (45 tools) - <code>production</code> - Production-safe (20 tools) - <code>r-package</code> - R package development (35 tools) - <code>python-dev</code> - Python development (40 tools) - <code>teaching</code> - Teaching/courses (30 tools) - <code>research</code> - Research/manuscripts (35 tools) - <code>ai-session</code> - AI coding sessions (50 tools)</p> <p>Example: <pre><code>from aiterm.claude.settings import apply_approval_preset\n\n# Apply R package preset\napply_approval_preset(\"r-package\")\n\n# Apply and merge with existing\napply_approval_preset(\"development\", merge=True)\n</code></pre></p>"},{"location":"api/AITERM-API/#configuration","title":"Configuration","text":""},{"location":"api/AITERM-API/#settings-file","title":"Settings File","text":"<p>Location: <code>~/.aiterm/config.json</code></p> <p>Structure: <pre><code>{\n  \"version\": \"0.2.0\",\n  \"terminal\": {\n    \"type\": \"iterm2\",\n    \"auto_switch\": true,\n    \"default_profile\": \"Default\"\n  },\n  \"context_detection\": {\n    \"enabled\": true,\n    \"priority_order\": [\n      \"production\",\n      \"ai-session\",\n      \"r-package\",\n      \"python\",\n      \"nodejs\",\n      \"quarto\",\n      \"mcp-server\",\n      \"dev-tools\"\n    ]\n  },\n  \"profiles\": {\n    \"R-Dev\": {\n      \"theme\": \"cool-blues\",\n      \"triggers\": [\"DESCRIPTION\", \"R/\"]\n    },\n    \"Python-Dev\": {\n      \"theme\": \"forest-greens\",\n      \"triggers\": [\"pyproject.toml\", \"setup.py\"]\n    }\n  }\n}\n</code></pre></p> <p>Example - Reading Config: <pre><code>from aiterm.utils.config import read_config\n\nconfig = read_config()\nprint(config[\"terminal\"][\"type\"])  # \"iterm2\"\n</code></pre></p>"},{"location":"api/AITERM-API/#environment-variables","title":"Environment Variables","text":"Variable Type Default Description <code>AITERM_AUTO_SWITCH</code> bool <code>1</code> Enable automatic profile switching <code>AITERM_CONFIG</code> string <code>~/.aiterm/config.json</code> Config file path <code>AITERM_DEBUG</code> bool <code>0</code> Enable debug logging <code>AITERM_TERMINAL</code> string (auto) Force terminal type <p>Example: <pre><code># Disable auto-switching\nexport AITERM_AUTO_SWITCH=0\n\n# Use custom config\nexport AITERM_CONFIG=~/my-aiterm-config.json\n\n# Enable debug mode\nexport AITERM_DEBUG=1\n</code></pre></p>"},{"location":"api/AITERM-API/#return-types-errors","title":"Return Types &amp; Errors","text":""},{"location":"api/AITERM-API/#error-codes","title":"Error Codes","text":"Code Name Description 0 Success Operation completed successfully 1 GeneralError General error 2 NotFound Profile/resource not found 3 Unsupported Terminal/feature unsupported 4 PermissionDenied Permission error 5 InvalidConfig Invalid configuration 6 ValidationError Validation failed"},{"location":"api/AITERM-API/#exception-types","title":"Exception Types","text":"<pre><code>from aiterm.exceptions import (\n    AitermError,           # Base exception\n    ProfileNotFoundError,\n    TerminalUnsupportedError,\n    ConfigError,\n    SettingsError\n)\n</code></pre> <p>Example - Error Handling: <pre><code>from aiterm.terminal import get_terminal\nfrom aiterm.exceptions import TerminalUnsupportedError\n\ntry:\n    terminal = get_terminal()\n    terminal.switch_profile(\"R-Dev\")\nexcept TerminalUnsupportedError:\n    print(\"iTerm2 required for profile switching\")\nexcept ProfileNotFoundError:\n    print(\"Profile 'R-Dev' not found\")\n</code></pre></p>"},{"location":"api/AITERM-API/#performance-specifications","title":"Performance Specifications","text":""},{"location":"api/AITERM-API/#target-performance","title":"Target Performance","text":"Operation Target Description Context detection &lt; 50ms Detect project type Profile switching &lt; 150ms Switch iTerm2 profile Settings read &lt; 10ms Read Claude settings Settings write &lt; 50ms Write Claude settings Auto-approval application &lt; 100ms Apply preset to settings"},{"location":"api/AITERM-API/#versioning","title":"Versioning","text":"<p>API Version: 0.2.0-dev</p> <p>Stability: Development (breaking changes possible)</p> <p>Stable Release: Planned for v1.0.0</p>"},{"location":"api/AITERM-API/#next-steps","title":"Next Steps","text":"<ul> <li>See Architecture Documentation for system design</li> <li>See User Guide for usage examples</li> <li>See Integration Guide for custom integrations</li> <li>See Troubleshooting Guide for common issues</li> </ul> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team</p>"},{"location":"architecture/AITERM-ARCHITECTURE/","title":"aiterm Architecture Documentation","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>System Overview</li> <li>Component Architecture</li> <li>Data Flows</li> <li>Sequence Diagrams</li> <li>State Machines</li> <li>Design Patterns</li> <li>File Structure</li> </ol>"},{"location":"architecture/AITERM-ARCHITECTURE/#system-overview","title":"System Overview","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>graph TB\n    subgraph \"User Interface\"\n        CLI[CLI Layer&lt;br/&gt;Typer]\n    end\n\n    subgraph \"Core Library\"\n        Terminal[Terminal Backend&lt;br/&gt;Abstraction]\n        Context[Context Detection&lt;br/&gt;Engine]\n        Settings[Settings Manager]\n    end\n\n    subgraph \"Integrations\"\n        ITerm2[iTerm2&lt;br/&gt;Integration]\n        Claude[Claude Code&lt;br/&gt;Integration]\n        MCP[MCP Server&lt;br/&gt;Management]\n    end\n\n    CLI --&gt; Terminal\n    CLI --&gt; Context\n    CLI --&gt; Settings\n\n    Terminal --&gt; ITerm2\n    Settings --&gt; Claude\n    Settings --&gt; MCP\n\n    Context --&gt; Terminal\n    Context -.-&gt; Claude\n</code></pre> <p>Key Components: - CLI Layer - User-facing commands (Typer framework) - Terminal Backend - Abstracted terminal operations - Context Detection - Project type detection - Settings Manager - Configuration management - Integrations - iTerm2, Claude Code, MCP servers</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#technology-stack","title":"Technology Stack","text":"<pre><code>graph LR\n    subgraph \"Runtime\"\n        Python[Python 3.10+]\n    end\n\n    subgraph \"CLI Framework\"\n        Typer[Typer&lt;br/&gt;CLI framework]\n        Rich[Rich&lt;br/&gt;Terminal output]\n        Quest[Questionary&lt;br/&gt;Interactive prompts]\n    end\n\n    subgraph \"Build &amp; Distribution\"\n        UV[UV&lt;br/&gt;Package manager]\n        Hatchling[Hatchling&lt;br/&gt;Build backend]\n    end\n\n    subgraph \"Testing\"\n        Pytest[pytest&lt;br/&gt;Test framework]\n        Coverage[pytest-cov&lt;br/&gt;Coverage]\n    end\n\n    Python --&gt; Typer\n    Python --&gt; Rich\n    Python --&gt; Quest\n    Python --&gt; UV\n    UV --&gt; Hatchling\n    Python --&gt; Pytest\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#component-architecture","title":"Component Architecture","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#1-terminal-backend-architecture","title":"1. Terminal Backend Architecture","text":"<pre><code>graph TB\n    subgraph \"Terminal Backend\"\n        Base[TerminalBackend&lt;br/&gt;Abstract Base Class]\n        ITerm2[iTerm2Terminal&lt;br/&gt;Implementation]\n        Wezterm[WeztermTerminal&lt;br/&gt;Future]\n        Alacritty[AlacrittyTerminal&lt;br/&gt;Future]\n\n        Base -.-&gt; ITerm2\n        Base -.-&gt; Wezterm\n        Base -.-&gt; Alacritty\n    end\n\n    subgraph \"Operations\"\n        Profile[switch_profile]\n        Title[set_title]\n        Status[set_status_var]\n        Query[get_current_profile]\n    end\n\n    ITerm2 --&gt; Profile\n    ITerm2 --&gt; Title\n    ITerm2 --&gt; Status\n    ITerm2 --&gt; Query\n\n    subgraph \"iTerm2 Integration\"\n        Escape[Escape Sequences]\n        API[Python API&lt;br/&gt;Future]\n    end\n\n    ITerm2 --&gt; Escape\n    ITerm2 -.-&gt; API\n</code></pre> <p>Design Pattern: Abstract Factory + Strategy</p> <p>Key Abstractions: - <code>TerminalBackend</code> - Base interface for all terminals - <code>iTerm2Terminal</code> - iTerm2-specific implementation - Future: Wezterm, Alacritty, Kitty support</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#2-context-detection-architecture","title":"2. Context Detection Architecture","text":"<pre><code>graph TB\n    subgraph \"Context Detection Engine\"\n        Detector[ContextDetector&lt;br/&gt;Base Class]\n        Registry[DetectorRegistry&lt;br/&gt;Singleton]\n    end\n\n    subgraph \"Built-in Detectors\"\n        Prod[ProductionDetector&lt;br/&gt;Priority: 1]\n        AI[AISessionDetector&lt;br/&gt;Priority: 2]\n        R[RPackageDetector&lt;br/&gt;Priority: 3]\n        Py[PythonDetector&lt;br/&gt;Priority: 4]\n        Node[NodeDetector&lt;br/&gt;Priority: 5]\n        Quarto[QuartoDetector&lt;br/&gt;Priority: 6]\n        MCP[MCPDetector&lt;br/&gt;Priority: 7]\n        Dev[DevToolsDetector&lt;br/&gt;Priority: 8]\n        Default[DefaultDetector&lt;br/&gt;Priority: 9]\n    end\n\n    subgraph \"Custom Detectors\"\n        Custom[User-Defined&lt;br/&gt;Detectors]\n    end\n\n    Registry --&gt; Prod\n    Registry --&gt; AI\n    Registry --&gt; R\n    Registry --&gt; Py\n    Registry --&gt; Node\n    Registry --&gt; Quarto\n    Registry --&gt; MCP\n    Registry --&gt; Dev\n    Registry --&gt; Default\n    Registry -.-&gt; Custom\n\n    Detector &lt;.. Prod\n    Detector &lt;.. AI\n    Detector &lt;.. R\n    Detector &lt;.. Custom\n</code></pre> <p>Design Pattern: Chain of Responsibility + Priority Queue</p> <p>Detection Flow: 1. User calls <code>detect_context(path)</code> 2. Registry iterates detectors by priority 3. First detector that returns non-null wins 4. Return <code>Context</code> object with profile, title, metadata</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#3-settings-management-architecture","title":"3. Settings Management Architecture","text":"<pre><code>graph TB\n    subgraph \"Settings Manager\"\n        Manager[SettingsManager&lt;br/&gt;Singleton]\n        Validator[ConfigValidator]\n        Backup[BackupManager]\n    end\n\n    subgraph \"Configuration Files\"\n        Aiterm[~/.aiterm/config.json]\n        Claude[~/.claude/settings.json]\n    end\n\n    subgraph \"Operations\"\n        Read[read_settings]\n        Write[write_settings]\n        Validate[validate_config]\n        Apply[apply_preset]\n    end\n\n    Manager --&gt; Read\n    Manager --&gt; Write\n    Manager --&gt; Validate\n    Manager --&gt; Apply\n\n    Read --&gt; Aiterm\n    Read --&gt; Claude\n    Write --&gt; Aiterm\n    Write --&gt; Claude\n    Validate --&gt; Validator\n    Write --&gt; Backup\n\n    Backup -.-&gt; Claude\n</code></pre> <p>Design Pattern: Singleton + Template Method</p> <p>Key Features: - Automatic backups before writes - JSON validation - Preset management (8 presets) - Merge strategies (replace vs merge)</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#4-cli-command-architecture","title":"4. CLI Command Architecture","text":"<pre><code>graph TB\n    subgraph \"CLI Entry Point\"\n        Main[aiterm&lt;br/&gt;Main Command]\n    end\n\n    subgraph \"Command Groups\"\n        Core[Core Commands&lt;br/&gt;doctor, detect]\n        Profile[Profile Commands&lt;br/&gt;list, switch]\n        Claude[Claude Commands&lt;br/&gt;approvals, settings]\n        MCP[MCP Commands&lt;br/&gt;list, test, validate]\n    end\n\n    subgraph \"Command Implementation\"\n        Handler[Command Handler]\n        Validator[Input Validator]\n        Output[Output Formatter&lt;br/&gt;Rich]\n    end\n\n    Main --&gt; Core\n    Main --&gt; Profile\n    Main --&gt; Claude\n    Main -.-&gt; MCP\n\n    Core --&gt; Handler\n    Profile --&gt; Handler\n    Claude --&gt; Handler\n\n    Handler --&gt; Validator\n    Handler --&gt; Output\n</code></pre> <p>Design Pattern: Command Pattern + Decorator</p> <p>Command Structure: <pre><code>@app.command()\ndef doctor():\n    \"\"\"Check aiterm installation\"\"\"\n    # 1. Validate environment\n    # 2. Check dependencies\n    # 3. Format output (Rich)\n    # 4. Return exit code\n</code></pre></p>"},{"location":"architecture/AITERM-ARCHITECTURE/#data-flows","title":"Data Flows","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#1-context-detection-flow","title":"1. Context Detection Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant Detector\n    participant Terminal\n    participant iTerm2\n\n    User-&gt;&gt;CLI: cd ~/projects/RMediation\n    activate CLI\n\n    CLI-&gt;&gt;Detector: detect_context(pwd)\n    activate Detector\n\n    Detector-&gt;&gt;Detector: Check DESCRIPTION file\n    Detector-&gt;&gt;Detector: Check R/ directory\n    Detector-&gt;&gt;Detector: Parse package name/version\n\n    Detector--&gt;&gt;CLI: Context(type=r-package, profile=R-Dev)\n    deactivate Detector\n\n    CLI-&gt;&gt;Terminal: switch_profile(\"R-Dev\")\n    activate Terminal\n    Terminal-&gt;&gt;iTerm2: ESC]1337;SetProfile=R-Dev\n    iTerm2--&gt;&gt;Terminal: Profile switched\n    deactivate Terminal\n\n    CLI-&gt;&gt;Terminal: set_title(\"RMediation v1.0.0\")\n    activate Terminal\n    Terminal-&gt;&gt;iTerm2: ESC]0;RMediation v1.0.0\n    iTerm2--&gt;&gt;Terminal: Title set\n    deactivate Terminal\n\n    CLI-&gt;&gt;Terminal: set_status_var(\"project_type\", \"R PKG\")\n    activate Terminal\n    Terminal-&gt;&gt;iTerm2: ESC]1337;SetUserVar=...\n    iTerm2--&gt;&gt;Terminal: Variable set\n    deactivate Terminal\n\n    CLI--&gt;&gt;User: Context switched \u2705\n    deactivate CLI\n</code></pre> <p>Performance: - Detection: &lt; 50ms - Profile switch: &lt; 150ms - Total: &lt; 200ms</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#2-auto-approval-application-flow","title":"2. Auto-Approval Application Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant Settings\n    participant Backup\n    participant Claude\n\n    User-&gt;&gt;CLI: aiterm claude approvals set r-package\n    activate CLI\n\n    CLI-&gt;&gt;Settings: read_claude_settings()\n    activate Settings\n    Settings-&gt;&gt;Claude: Read ~/.claude/settings.json\n    Claude--&gt;&gt;Settings: Current settings\n    Settings--&gt;&gt;CLI: settings dict\n    deactivate Settings\n\n    CLI-&gt;&gt;Backup: create_backup(settings)\n    activate Backup\n    Backup-&gt;&gt;Claude: Write ~/.claude/settings.json.backup.TIMESTAMP\n    Backup--&gt;&gt;CLI: Backup created\n    deactivate Backup\n\n    CLI-&gt;&gt;Settings: apply_approval_preset(\"r-package\")\n    activate Settings\n    Settings-&gt;&gt;Settings: Load r-package preset (35 tools)\n    Settings-&gt;&gt;Settings: Merge with current approvals\n    Settings-&gt;&gt;Settings: Validate JSON structure\n    Settings--&gt;&gt;CLI: Updated settings\n    deactivate Settings\n\n    CLI-&gt;&gt;Settings: write_claude_settings(updated)\n    activate Settings\n    Settings-&gt;&gt;Claude: Write ~/.claude/settings.json\n    Claude--&gt;&gt;Settings: Write complete\n    Settings--&gt;&gt;CLI: Success\n    deactivate Settings\n\n    CLI--&gt;&gt;User: \u2705 Applied r-package preset (35 tools)\n    deactivate CLI\n</code></pre> <p>Safety Features: - Automatic backup before write - JSON validation - Rollback on error - Backup retention (last 5)</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#3-profile-switching-flow","title":"3. Profile Switching Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant Terminal\n    participant iTerm2\n    participant Shell\n\n    User-&gt;&gt;CLI: aiterm profile switch R-Dev\n    activate CLI\n\n    CLI-&gt;&gt;Terminal: get_terminal()\n    activate Terminal\n    Terminal-&gt;&gt;Terminal: Detect terminal type\n    Terminal--&gt;&gt;CLI: iTerm2Terminal instance\n    deactivate Terminal\n\n    CLI-&gt;&gt;Terminal: switch_profile(\"R-Dev\")\n    activate Terminal\n\n    Terminal-&gt;&gt;Terminal: Validate profile exists\n    Terminal-&gt;&gt;iTerm2: Send escape sequence&lt;br/&gt;ESC]1337;SetProfile=R-Dev BEL\n    iTerm2-&gt;&gt;iTerm2: Switch profile\n    iTerm2-&gt;&gt;Shell: Update environment\n    iTerm2--&gt;&gt;Terminal: Profile switched\n\n    Terminal--&gt;&gt;CLI: Success\n    deactivate Terminal\n\n    CLI-&gt;&gt;Terminal: set_title(\"R Development\")\n    activate Terminal\n    Terminal-&gt;&gt;iTerm2: ESC]0;R Development BEL\n    iTerm2--&gt;&gt;Terminal: Title set\n    deactivate Terminal\n\n    CLI--&gt;&gt;User: \u2705 Switched to R-Dev\n    deactivate CLI\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#sequence-diagrams","title":"Sequence Diagrams","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#4-doctor-command-flow","title":"4. Doctor Command Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant Checks\n    participant System\n\n    User-&gt;&gt;CLI: aiterm doctor\n    activate CLI\n\n    CLI-&gt;&gt;Checks: check_python_version()\n    activate Checks\n    Checks-&gt;&gt;System: python --version\n    System--&gt;&gt;Checks: 3.11.5\n    Checks--&gt;&gt;CLI: \u2705 Python 3.11.5\n    deactivate Checks\n\n    CLI-&gt;&gt;Checks: check_terminal()\n    activate Checks\n    Checks-&gt;&gt;System: $TERM_PROGRAM\n    System--&gt;&gt;Checks: iTerm.app\n    Checks-&gt;&gt;System: iTerm2 version\n    System--&gt;&gt;Checks: Build 3.5.0\n    Checks--&gt;&gt;CLI: \u2705 iTerm2 (Build 3.5.0)\n    deactivate Checks\n\n    CLI-&gt;&gt;Checks: check_claude_code()\n    activate Checks\n    Checks-&gt;&gt;System: ~/.claude/ exists?\n    System--&gt;&gt;Checks: Yes\n    Checks-&gt;&gt;System: claude --version\n    System--&gt;&gt;Checks: 0.2.0\n    Checks--&gt;&gt;CLI: \u2705 Claude Code 0.2.0\n    deactivate Checks\n\n    CLI-&gt;&gt;Checks: check_config()\n    activate Checks\n    Checks-&gt;&gt;System: ~/.aiterm/config.json exists?\n    System--&gt;&gt;Checks: Yes\n    Checks-&gt;&gt;System: Validate JSON\n    System--&gt;&gt;Checks: Valid\n    Checks--&gt;&gt;CLI: \u2705 Settings OK\n    deactivate Checks\n\n    CLI--&gt;&gt;User: All checks passed! \u2705\n    deactivate CLI\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#5-profile-list-flow","title":"5. Profile List Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant Terminal\n    participant Config\n\n    User-&gt;&gt;CLI: aiterm profile list\n    activate CLI\n\n    CLI-&gt;&gt;Config: read_config()\n    activate Config\n    Config-&gt;&gt;Config: Load ~/.aiterm/config.json\n    Config--&gt;&gt;CLI: Config dict\n    deactivate Config\n\n    CLI-&gt;&gt;Terminal: get_available_profiles()\n    activate Terminal\n    Terminal-&gt;&gt;Config: profiles section\n    Terminal-&gt;&gt;Terminal: Parse profile definitions\n    Terminal--&gt;&gt;CLI: List of profiles\n    deactivate Terminal\n\n    loop For each profile\n        CLI-&gt;&gt;CLI: Format profile info\n        CLI-&gt;&gt;CLI: Add theme, triggers, description\n    end\n\n    CLI--&gt;&gt;User: Display formatted profile list\n    deactivate CLI\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#state-machines","title":"State Machines","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#1-context-lifecycle","title":"1. Context Lifecycle","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Unknown: Start\n    Unknown --&gt; Detected: Context found\n    Unknown --&gt; Unknown: No context\n    Detected --&gt; Switched: Apply profile\n    Switched --&gt; Active: Profile applied\n    Active --&gt; Detected: Directory change\n    Active --&gt; [*]: Exit terminal\n</code></pre> <p>States: - Unknown - No context detected - Detected - Context identified - Switched - Profile switching in progress - Active - Profile active and in use</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#2-settings-management-lifecycle","title":"2. Settings Management Lifecycle","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Unloaded\n    Unloaded --&gt; Loading: Read request\n    Loading --&gt; Loaded: Success\n    Loading --&gt; Error: Parse fail\n    Loaded --&gt; Modifying: Update request\n    Modifying --&gt; Validating: Changes made\n    Validating --&gt; BackingUp: Validation passed\n    Validating --&gt; Error: Validation failed\n    BackingUp --&gt; Writing: Backup created\n    Writing --&gt; Loaded: Write success\n    Writing --&gt; Error: Write fail\n    Error --&gt; Loaded: Rollback\n    Loaded --&gt; [*]: Session end\n</code></pre> <p>States: - Unloaded - Settings not read - Loading - Reading from disk - Loaded - Settings in memory - Modifying - Changes being made - Validating - Checking validity - BackingUp - Creating backup - Writing - Writing to disk - Error - Error state (with rollback)</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#3-profile-switching-state","title":"3. Profile Switching State","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Idle\n    Idle --&gt; Detecting: cd command\n    Detecting --&gt; Matched: Context found\n    Detecting --&gt; Idle: No match\n    Matched --&gt; Switching: Profile selected\n    Switching --&gt; Applied: Escape sequence sent\n    Switching --&gt; Failed: Terminal error\n    Applied --&gt; Updating: Set title/vars\n    Updating --&gt; Idle: Complete\n    Failed --&gt; Idle: Fallback to default\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#design-patterns","title":"Design Patterns","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#1-singleton-pattern","title":"1. Singleton Pattern","text":"<p>Used For: Settings Manager, Detector Registry</p> <pre><code>class SettingsManager:\n    _instance = None\n\n    def __new__(cls):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n            cls._instance._initialized = False\n        return cls._instance\n\n    def __init__(self):\n        if self._initialized:\n            return\n        self._load_settings()\n        self._initialized = True\n</code></pre> <p>Why: Single source of truth for settings</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#2-factory-pattern","title":"2. Factory Pattern","text":"<p>Used For: Terminal backend creation</p> <pre><code>def get_terminal() -&gt; TerminalBackend:\n    \"\"\"Factory function for terminal backends\"\"\"\n    term_program = os.getenv(\"TERM_PROGRAM\", \"\")\n\n    if \"iTerm\" in term_program:\n        return iTerm2Terminal()\n    elif \"WezTerm\" in term_program:\n        return WeztermTerminal()  # Future\n    else:\n        return DefaultTerminal()  # Fallback\n</code></pre> <p>Why: Abstract terminal selection</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#3-strategy-pattern","title":"3. Strategy Pattern","text":"<p>Used For: Context detection</p> <pre><code>class ContextDetector(ABC):\n    @abstractmethod\n    def detect(self, path: str) -&gt; Context | None:\n        \"\"\"Detect context from path\"\"\"\n        pass\n\nclass RPackageDetector(ContextDetector):\n    def detect(self, path: str) -&gt; Context | None:\n        if self._has_file(path, \"DESCRIPTION\"):\n            # R package logic\n            return Context(...)\n        return None\n</code></pre> <p>Why: Pluggable detection strategies</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#4-chain-of-responsibility","title":"4. Chain of Responsibility","text":"<p>Used For: Detector priority chain</p> <pre><code>class DetectorRegistry:\n    def detect(self, path: str) -&gt; Context | None:\n        # Try detectors in priority order\n        for detector in sorted(self.detectors, key=lambda d: d.priority):\n            context = detector.detect(path)\n            if context:\n                return context  # First match wins\n        return None  # No matches\n</code></pre> <p>Why: First-match-wins with priority</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#5-template-method","title":"5. Template Method","text":"<p>Used For: Settings operations</p> <pre><code>class SettingsManager:\n    def apply_preset(self, preset_name: str):\n        # Template method\n        settings = self.read_settings()       # 1. Read\n        self.backup_settings(settings)        # 2. Backup\n        updated = self._merge_preset(settings, preset_name)  # 3. Merge\n        self.validate_settings(updated)       # 4. Validate\n        self.write_settings(updated)          # 5. Write\n\n    def _merge_preset(self, settings, preset):\n        # Subclass hook (override for custom merge)\n        pass\n</code></pre> <p>Why: Consistent operation flow</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#file-structure","title":"File Structure","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#project-layout","title":"Project Layout","text":"<pre><code>aiterm/\n\u251c\u2500\u2500 src/aiterm/              # Main package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 cli/                 # CLI commands\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 main.py          # Entry point\n\u2502   \u2502   \u251c\u2500\u2500 core.py          # doctor, detect\n\u2502   \u2502   \u251c\u2500\u2500 profile.py       # profile commands\n\u2502   \u2502   \u251c\u2500\u2500 claude.py        # Claude Code commands\n\u2502   \u2502   \u2514\u2500\u2500 mcp.py           # MCP commands (future)\n\u2502   \u251c\u2500\u2500 terminal/            # Terminal backends\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 base.py          # Abstract base\n\u2502   \u2502   \u251c\u2500\u2500 iterm2.py        # iTerm2 implementation\n\u2502   \u2502   \u251c\u2500\u2500 wezterm.py       # Wezterm (future)\n\u2502   \u2502   \u2514\u2500\u2500 detector.py      # Terminal detection\n\u2502   \u251c\u2500\u2500 context/             # Context detection\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 base.py          # Abstract detector\n\u2502   \u2502   \u251c\u2500\u2500 registry.py      # Detector registry\n\u2502   \u2502   \u251c\u2500\u2500 detectors/       # Built-in detectors\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 production.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 ai_session.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 r_package.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 python.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 nodejs.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 quarto.py\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 mcp.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 dev_tools.py\n\u2502   \u2502   \u2514\u2500\u2500 types.py         # Context type definitions\n\u2502   \u251c\u2500\u2500 claude/              # Claude Code integration\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 settings.py      # Settings management\n\u2502   \u2502   \u251c\u2500\u2500 presets.py       # Auto-approval presets\n\u2502   \u2502   \u251c\u2500\u2500 hooks.py         # Hook management (future)\n\u2502   \u2502   \u2514\u2500\u2500 commands.py      # Command templates (future)\n\u2502   \u251c\u2500\u2500 utils/               # Utilities\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 config.py        # Config file handling\n\u2502   \u2502   \u251c\u2500\u2500 shell.py         # Shell integration\n\u2502   \u2502   \u2514\u2500\u2500 exceptions.py    # Custom exceptions\n\u2502   \u2514\u2500\u2500 version.py           # Version info\n\u251c\u2500\u2500 templates/               # User-facing templates\n\u2502   \u251c\u2500\u2500 profiles/            # iTerm2 profile JSON\n\u2502   \u2502   \u251c\u2500\u2500 R-Dev.json\n\u2502   \u2502   \u251c\u2500\u2500 Python-Dev.json\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 hooks/               # Hook templates (future)\n\u2502   \u2514\u2500\u2500 commands/            # Command templates (future)\n\u251c\u2500\u2500 tests/                   # Test suite\n\u2502   \u251c\u2500\u2500 unit/\n\u2502   \u251c\u2500\u2500 integration/\n\u2502   \u2514\u2500\u2500 fixtures/\n\u251c\u2500\u2500 docs/                    # Documentation\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u251c\u2500\u2500 architecture/\n\u2502   \u251c\u2500\u2500 guides/\n\u2502   \u2514\u2500\u2500 troubleshooting/\n\u251c\u2500\u2500 pyproject.toml           # Project config\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#module-dependencies","title":"Module Dependencies","text":"<pre><code>graph TB\n    subgraph \"Public API\"\n        CLI[cli/]\n    end\n\n    subgraph \"Core Library\"\n        Terminal[terminal/]\n        Context[context/]\n        Settings[claude/]\n        Utils[utils/]\n    end\n\n    CLI --&gt; Terminal\n    CLI --&gt; Context\n    CLI --&gt; Settings\n\n    Terminal --&gt; Utils\n    Context --&gt; Utils\n    Settings --&gt; Utils\n\n    Context -.-&gt; Terminal\n</code></pre> <p>Dependency Rules: - CLI depends on Core Library - Core Library is self-contained - Utils are leaf modules (no dependencies) - Context may trigger Terminal operations - No circular dependencies</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#performance-considerations","title":"Performance Considerations","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#optimization-strategies","title":"Optimization Strategies","text":"<ol> <li>Lazy Loading</li> <li>Load detectors on-demand</li> <li>Cache detector results</li> <li> <p>Lazy import heavy modules</p> </li> <li> <p>Caching</p> </li> <li>Cache context detection results</li> <li>Cache settings reads (TTL: 5s)</li> <li> <p>Cache terminal type detection</p> </li> <li> <p>Async Operations (Future)</p> </li> <li>Parallel detector execution</li> <li>Async file I/O</li> <li>Non-blocking profile switching</li> </ol>"},{"location":"architecture/AITERM-ARCHITECTURE/#performance-targets","title":"Performance Targets","text":"Operation Target Current Status Context detection &lt; 50ms ~30ms \u2705 Profile switching &lt; 150ms ~100ms \u2705 Settings read &lt; 10ms ~5ms \u2705 Settings write &lt; 50ms ~40ms \u2705 Doctor check &lt; 200ms ~150ms \u2705"},{"location":"architecture/AITERM-ARCHITECTURE/#security-considerations","title":"Security Considerations","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#file-permissions","title":"File Permissions","text":"<ul> <li><code>~/.aiterm/config.json</code> - 600 (user read/write only)</li> <li><code>~/.claude/settings.json</code> - 600 (user read/write only)</li> <li>Backups - 600 (user read/write only)</li> </ul>"},{"location":"architecture/AITERM-ARCHITECTURE/#input-validation","title":"Input Validation","text":"<ul> <li>Profile names - Alphanumeric + dashes</li> <li>Paths - Absolute paths only, no symlink following</li> <li>Settings - JSON schema validation</li> <li>Presets - Whitelist of known presets</li> </ul>"},{"location":"architecture/AITERM-ARCHITECTURE/#escape-sequence-safety","title":"Escape Sequence Safety","text":"<ul> <li>No user input in escape sequences (XSS risk)</li> <li>Whitelist of allowed sequences</li> <li>Sanitize all title/variable values</li> </ul>"},{"location":"architecture/AITERM-ARCHITECTURE/#extension-points","title":"Extension Points","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#adding-new-terminal-backend","title":"Adding New Terminal Backend","text":"<pre><code>from aiterm.terminal.base import TerminalBackend\n\nclass MyTerminal(TerminalBackend):\n    def switch_profile(self, name: str) -&gt; bool:\n        # Custom implementation\n        pass\n\n    def set_title(self, text: str) -&gt; bool:\n        # Custom implementation\n        pass\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#adding-custom-detector","title":"Adding Custom Detector","text":"<pre><code>from aiterm.context.base import ContextDetector\nfrom aiterm.context import register_detector\n\nclass MyDetector(ContextDetector):\n    priority = 10\n\n    def detect(self, path: str) -&gt; Context | None:\n        # Custom logic\n        pass\n\nregister_detector(MyDetector())\n</code></pre>"},{"location":"architecture/AITERM-ARCHITECTURE/#future-architecture","title":"Future Architecture","text":""},{"location":"architecture/AITERM-ARCHITECTURE/#phase-2-additions","title":"Phase 2 Additions","text":"<pre><code>graph TB\n    subgraph \"Phase 2\"\n        Hook[Hook Manager]\n        MCP[MCP Creator]\n        Plugin[Plugin System]\n    end\n\n    subgraph \"Existing\"\n        CLI[CLI]\n        Terminal[Terminal]\n        Context[Context]\n    end\n\n    CLI -.-&gt; Hook\n    CLI -.-&gt; MCP\n    CLI -.-&gt; Plugin\n\n    Hook -.-&gt; Terminal\n    MCP -.-&gt; Context\n</code></pre> <p>Planned Features: - Hook management system - MCP server creation wizard - Plugin architecture - Remote terminal support - Web UI</p>"},{"location":"architecture/AITERM-ARCHITECTURE/#next-steps","title":"Next Steps","text":"<ul> <li>See API Documentation for detailed API reference</li> <li>See User Guide for usage examples</li> <li>See Integration Guide for custom integrations</li> <li>See Troubleshooting Guide for common issues</li> </ul> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team</p>"},{"location":"development/architecture/","title":"Architecture","text":"<p>Technical architecture and design decisions for aiterm.</p>"},{"location":"development/architecture/#design-principles","title":"Design Principles","text":""},{"location":"development/architecture/#1-cli-first","title":"1. CLI-First","text":"<ul> <li>Core logic in library (<code>src/aiterm/</code>)</li> <li>CLI is thin wrapper (commands in <code>cli/</code>)</li> <li>Testable, reusable components</li> <li>Future: Web UI, API, plugins</li> </ul>"},{"location":"development/architecture/#2-progressive-enhancement","title":"2. Progressive Enhancement","text":"<ul> <li>Start simple (MVP in 1 week)</li> <li>Add features incrementally</li> <li>Maintain backwards compatibility</li> <li>Don't break existing workflows</li> </ul>"},{"location":"development/architecture/#3-terminal-abstraction","title":"3. Terminal Abstraction","text":"<ul> <li>Abstract base for terminals</li> <li>iTerm2 first, others later</li> <li>Graceful degradation</li> <li>Feature detection, not assumptions</li> </ul>"},{"location":"development/architecture/#4-medium-integration-depth","title":"4. Medium Integration Depth","text":"<ul> <li>Active terminal control (escape sequences, API)</li> <li>Not just config generation</li> <li>Not full IDE replacement</li> <li>Sweet spot: useful without overwhelming</li> </ul>"},{"location":"development/architecture/#project-structure","title":"Project Structure","text":"<pre><code>aiterm/\n\u251c\u2500\u2500 src/aiterm/                # Main package\n\u2502   \u251c\u2500\u2500 __init__.py            # Package info\n\u2502   \u251c\u2500\u2500 cli/                   # CLI commands\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 main.py            # Main entry, Typer app\n\u2502   \u251c\u2500\u2500 terminal/              # Terminal backends\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 base.py            # Abstract base class\n\u2502   \u2502   \u251c\u2500\u2500 iterm2.py          # iTerm2 implementation\n\u2502   \u2502   \u2514\u2500\u2500 detector.py        # Auto-detect terminal\n\u2502   \u251c\u2500\u2500 context/               # Context detection\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 detector.py        # Project type detection\n\u2502   \u251c\u2500\u2500 claude/                # Claude Code integration\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 settings.py        # Settings management\n\u2502   \u2502   \u251c\u2500\u2500 hooks.py           # Hook management (v0.2.0)\n\u2502   \u2502   \u2514\u2500\u2500 commands.py        # Command templates (v0.2.0)\n\u2502   \u2514\u2500\u2500 utils/                 # Utilities\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 config.py          # Config file handling\n\u2502       \u2514\u2500\u2500 shell.py           # Shell integration\n\u251c\u2500\u2500 templates/                 # User-facing templates\n\u2502   \u251c\u2500\u2500 profiles/              # iTerm2 profile JSON\n\u2502   \u251c\u2500\u2500 hooks/                 # Hook templates\n\u2502   \u2514\u2500\u2500 commands/              # Command templates\n\u251c\u2500\u2500 tests/                     # Test suite\n\u251c\u2500\u2500 docs/                      # Documentation (MkDocs)\n\u251c\u2500\u2500 pyproject.toml             # Project config\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"development/architecture/#core-components","title":"Core Components","text":""},{"location":"development/architecture/#cli-layer-srcaitermcli","title":"CLI Layer (<code>src/aiterm/cli/</code>)","text":"<p>main.py: - Typer app initialization - Command registration - Global options (--version, --verbose) - Error handling</p> <p>Design: - Each major feature gets its own module - Subcommands organized with Typer sub-apps - Thin layer: delegates to library functions</p> <p>Example: <pre><code># src/aiterm/cli/main.py\napp = typer.Typer()\ncontext_app = typer.Typer()\napp.add_typer(context_app, name=\"context\")\n\n@context_app.command(\"detect\")\ndef context_detect(path: Path):\n    from aiterm.context import detect_context\n    result = detect_context(path)\n    print_result(result)\n</code></pre></p>"},{"location":"development/architecture/#terminal-layer-srcaitermterminal","title":"Terminal Layer (<code>src/aiterm/terminal/</code>)","text":"<p>base.py: <pre><code>class Terminal(ABC):\n    @abstractmethod\n    def switch_profile(self, profile: str) -&gt; bool:\n        \"\"\"Switch terminal profile\"\"\"\n\n    @abstractmethod\n    def set_title(self, title: str) -&gt; bool:\n        \"\"\"Set tab title\"\"\"\n</code></pre></p> <p>iterm2.py: - Implements Terminal interface - Uses escape sequences (iTerm2 proprietary extensions) - Python API integration (future)</p> <p>detector.py: - Auto-detects terminal from environment - Checks <code>TERM_PROGRAM</code>, <code>TERM</code>, etc. - Returns appropriate Terminal instance</p>"},{"location":"development/architecture/#context-detection-srcaitermcontext","title":"Context Detection (<code>src/aiterm/context/</code>)","text":"<p>detector.py:</p> <p>Detection strategy: 1. Path-based detection (production/, claude-sessions/) 2. File marker detection (DESCRIPTION, pyproject.toml) 3. Git information (branch, dirty status) 4. Fallback to default</p> <p>ContextInfo data class: <pre><code>@dataclass\nclass ContextInfo:\n    type: ContextType\n    name: str\n    profile: str\n    icon: str\n    path: Path\n    branch: Optional[str]\n    is_dirty: bool\n</code></pre></p> <p>8 Context Types: - Production (path-based) - AI Session (path-based) - R Package (DESCRIPTION file) - Python (pyproject.toml) - Node.js (package.json) - Quarto (_quarto.yml) - Emacs (.spacemacs) - Dev Tools (.git + scripts/)</p>"},{"location":"development/architecture/#claude-integration-srcaitermclaude","title":"Claude Integration (<code>src/aiterm/claude/</code>)","text":"<p>settings.py:</p> <p>ClaudeSettings data class: <pre><code>@dataclass\nclass ClaudeSettings:\n    path: Path\n    allow_list: List[str]\n    deny_list: List[str]\n    hooks: Dict[str, Any]\n</code></pre></p> <p>Functions: - <code>load_settings()</code> - Read ~/.claude/settings.json - <code>save_settings()</code> - Write settings atomically - <code>backup_settings()</code> - Timestamped backup - <code>add_preset_to_settings()</code> - Merge preset permissions</p> <p>Presets: 8 curated permission presets (safe-reads, git-ops, etc.) defined as Python dicts.</p>"},{"location":"development/architecture/#data-flow","title":"Data Flow","text":""},{"location":"development/architecture/#context-detection-flow","title":"Context Detection Flow","text":"<pre><code>User runs: ait detect ~/project\n    \u2193\nCLI (main.py)\n    \u2193\ndetect_context(path) \u2192 ContextInfo\n    \u2193\nDisplay with Rich Table\n</code></pre>"},{"location":"development/architecture/#context-application-flow","title":"Context Application Flow","text":"<pre><code>User runs: ait switch ~/project\n    \u2193\nCLI (main.py)\n    \u2193\ndetect_context(path) \u2192 ContextInfo\n    \u2193\ndetect_terminal() \u2192 Terminal instance\n    \u2193\nterminal.switch_profile(context.profile)\nterminal.set_title(context.title)\n    \u2193\niTerm2 updates visually\n</code></pre>"},{"location":"development/architecture/#settings-management-flow","title":"Settings Management Flow","text":"<pre><code>User runs: ait claude approvals add python-dev\n    \u2193\nload_settings() \u2192 ClaudeSettings\n    \u2193\nget_preset(\"python-dev\") \u2192 Dict\n    \u2193\nadd_preset_to_settings() \u2192 modified ClaudeSettings\n    \u2193\nsave_settings() \u2192 write to disk\n</code></pre>"},{"location":"development/architecture/#testing-strategy","title":"Testing Strategy","text":""},{"location":"development/architecture/#unit-tests-51-tests-83-coverage","title":"Unit Tests (51 tests, 83% coverage)","text":"<p>test_cli.py: - Command parsing - Option handling - Output formatting</p> <p>test_context.py: - Context detection for 8 types - Git integration - Title generation</p> <p>test_iterm2.py: - Terminal detection - Profile switching - Escape sequence generation</p> <p>test_claude_settings.py: - Settings loading/saving - Preset management - Backup functionality</p>"},{"location":"development/architecture/#integration-tests-future","title":"Integration Tests (future)","text":"<ul> <li>End-to-end command execution</li> <li>iTerm2 integration (requires iTerm2)</li> <li>Claude Code hook testing</li> </ul>"},{"location":"development/architecture/#iterm2-integration","title":"iTerm2 Integration","text":""},{"location":"development/architecture/#escape-sequences","title":"Escape Sequences","text":"<p>Profile switching: <pre><code>\\033]1337;SetProfile=ProfileName\\007\n</code></pre></p> <p>Tab title: <pre><code>\\033]0;Title Text\\007\n</code></pre></p> <p>User variables: <pre><code>\\033]1337;SetUserVar=key=base64value\\007\n</code></pre></p>"},{"location":"development/architecture/#detection","title":"Detection","text":"<p>Check <code>TERM_PROGRAM</code> environment variable: <pre><code>def is_iterm2() -&gt; bool:\n    return os.getenv(\"TERM_PROGRAM\") == \"iTerm.app\"\n</code></pre></p>"},{"location":"development/architecture/#configuration","title":"Configuration","text":""},{"location":"development/architecture/#system-files","title":"System Files","text":"<pre><code>~/.claude/settings.json        # Claude Code settings\n~/.claude/hooks/               # Claude Code hooks\n~/.config/aiterm/              # aiterm config (v0.2.0)\n</code></pre>"},{"location":"development/architecture/#project-files","title":"Project Files","text":"<pre><code>.claude/settings.local.json    # Project-specific settings\npyproject.toml                 # Python project marker\npackage.json                   # Node.js project marker\nDESCRIPTION                    # R package marker\n</code></pre>"},{"location":"development/architecture/#future-architecture-v020","title":"Future Architecture (v0.2.0+)","text":""},{"location":"development/architecture/#hook-system","title":"Hook System","text":"<pre><code># src/aiterm/claude/hooks.py\nclass HookManager:\n    def list_hooks(self) -&gt; List[Hook]\n    def install_hook(self, name: str, template: str)\n    def configure_hook(self, name: str, config: Dict)\n</code></pre>"},{"location":"development/architecture/#mcp-integration","title":"MCP Integration","text":"<pre><code># src/aiterm/mcp/manager.py\nclass MCPManager:\n    def discover_servers(self) -&gt; List[MCPServer]\n    def configure_server(self, name: str)\n    def test_server(self, name: str) -&gt; TestResult\n</code></pre>"},{"location":"development/architecture/#multi-terminal-support","title":"Multi-Terminal Support","text":"<pre><code># src/aiterm/terminal/\n\u251c\u2500\u2500 base.py          # Abstract Terminal\n\u251c\u2500\u2500 iterm2.py        # iTerm2\n\u251c\u2500\u2500 wezterm.py       # WezTerm (future)\n\u251c\u2500\u2500 kitty.py         # Kitty (future)\n\u2514\u2500\u2500 detector.py      # Auto-detection\n</code></pre>"},{"location":"development/architecture/#dependencies","title":"Dependencies","text":""},{"location":"development/architecture/#core","title":"Core","text":"<ul> <li>typer - Modern CLI framework with type hints</li> <li>rich - Beautiful terminal output</li> <li>questionary - Interactive prompts</li> <li>pyyaml - YAML parsing</li> </ul>"},{"location":"development/architecture/#development","title":"Development","text":"<ul> <li>pytest - Testing framework</li> <li>pytest-cov - Coverage reporting</li> <li>black - Code formatting</li> <li>ruff - Fast linter</li> <li>mypy - Type checking</li> </ul>"},{"location":"development/architecture/#documentation","title":"Documentation","text":"<ul> <li>mkdocs - Documentation generator</li> <li>mkdocs-material - Material theme</li> <li>pymdown-extensions - Markdown extensions</li> </ul>"},{"location":"development/architecture/#performance","title":"Performance","text":""},{"location":"development/architecture/#startup-time","title":"Startup Time","text":"<p>Target: &lt; 100ms for basic commands</p> <p>Optimizations: - Lazy imports - Minimal dependencies - No heavy I/O at startup</p>"},{"location":"development/architecture/#context-detection","title":"Context Detection","text":"<p>Target: &lt; 50ms</p> <p>Strategy: - Check path first (fastest) - File existence checks (fast) - File content only if needed (slower) - Git info last (slowest)</p>"},{"location":"development/architecture/#security","title":"Security","text":""},{"location":"development/architecture/#settings-management","title":"Settings Management","text":"<ul> <li>Atomic writes (temp file + rename)</li> <li>Automatic backups before changes</li> <li>Permission validation</li> <li>No credential storage</li> </ul>"},{"location":"development/architecture/#command-execution","title":"Command Execution","text":"<ul> <li>No shell injection (uses subprocess with array)</li> <li>Escape sequence sanitization</li> <li>Path validation</li> </ul>"},{"location":"development/architecture/#maintainability","title":"Maintainability","text":""},{"location":"development/architecture/#code-organization","title":"Code Organization","text":"<ul> <li>Single responsibility per module</li> <li>Clear separation of concerns</li> <li>Type hints everywhere</li> <li>Comprehensive docstrings</li> </ul>"},{"location":"development/architecture/#testing","title":"Testing","text":"<ul> <li>51 tests, 83% coverage</li> <li>Fast test suite (&lt; 1 second)</li> <li>Mocking for external dependencies</li> <li>Real integration tests in CI</li> </ul>"},{"location":"development/architecture/#documentation_1","title":"Documentation","text":"<ul> <li>Comprehensive user docs (MkDocs)</li> <li>API documentation (docstrings)</li> <li>Architecture documentation (this file)</li> <li>Examples in every guide</li> </ul>"},{"location":"development/architecture/#resources","title":"Resources","text":"<ul> <li>Contributing Guide: Contributing</li> <li>CLI Reference: Commands</li> <li>Source Code: GitHub</li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":"<p>aiterm is an open-source project and welcomes contributions!</p>"},{"location":"development/contributing/#quick-start-for-contributors","title":"Quick Start for Contributors","text":""},{"location":"development/contributing/#1-setup-development-environment","title":"1. Setup Development Environment","text":"<pre><code># Clone repository\ngit clone https://github.com/Data-Wise/aiterm.git\ncd aiterm\n\n# Create virtual environment with uv\nuv venv\n\n# Activate environment\nsource .venv/bin/activate\n\n# Install in editable mode with dev dependencies\nuv pip install -e \".[dev]\"\n\n# Run tests\npytest -v\n\n# All 51 tests should pass!\n</code></pre>"},{"location":"development/contributing/#2-development-workflow","title":"2. Development Workflow","text":"<pre><code># Create feature branch\ngit checkout -b feature/my-feature\n\n# Make changes\n# ... edit code ...\n\n# Run tests\npytest -v\n\n# Format code\nblack src/ tests/\nruff check src/\n\n# Type check\nmypy src/\n\n# Commit changes\ngit add .\ngit commit -m \"feat: add my awesome feature\"\n\n# Push and create PR\ngit push origin feature/my-feature\n</code></pre>"},{"location":"development/contributing/#project-structure","title":"Project Structure","text":"<pre><code>aiterm/\n\u251c\u2500\u2500 src/aiterm/              # Source code\n\u2502   \u251c\u2500\u2500 cli/                 # CLI commands (Typer)\n\u2502   \u251c\u2500\u2500 terminal/            # Terminal backends (iTerm2, etc.)\n\u2502   \u251c\u2500\u2500 context/             # Context detection\n\u2502   \u251c\u2500\u2500 claude/              # Claude Code integration\n\u2502   \u2514\u2500\u2500 utils/               # Utilities\n\u251c\u2500\u2500 tests/                   # Test suite (51 tests)\n\u251c\u2500\u2500 docs/                    # MkDocs documentation\n\u251c\u2500\u2500 templates/               # User-facing templates\n\u251c\u2500\u2500 pyproject.toml           # Project configuration\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"development/contributing/#adding-a-new-command","title":"Adding a New Command","text":"<ol> <li>Create command in <code>src/aiterm/cli/</code></li> <li>Add to main app in <code>src/aiterm/cli/main.py</code></li> <li>Write tests in <code>tests/</code></li> <li>Update documentation</li> <li>Submit PR</li> </ol> <p>Example:</p> <pre><code># src/aiterm/cli/hooks.py\nimport typer\nfrom rich import print\n\napp = typer.Typer()\n\n@app.command()\ndef list():\n    \"\"\"List installed hooks.\"\"\"\n    print(\"[bold]Installed Hooks:[/bold]\")\n    # Implementation\n</code></pre>"},{"location":"development/contributing/#running-tests","title":"Running Tests","text":"<pre><code># All tests\npytest -v\n\n# Specific test file\npytest tests/test_cli.py -v\n\n# Specific test\npytest tests/test_cli.py::test_doctor -v\n\n# With coverage\npytest --cov=aiterm\n\n# Watch mode (requires pytest-watch)\nptw\n</code></pre>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<p>aiterm follows standard Python conventions:</p> <ul> <li>Formatter: black (line length: 88)</li> <li>Linter: ruff</li> <li>Type hints: mypy</li> <li>Docstrings: Google style</li> </ul> <pre><code># Format code\nblack src/ tests/\n\n# Lint\nruff check src/\n\n# Type check\nmypy src/\n</code></pre>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<p>Update docs when adding features:</p> <pre><code># Edit docs in docs/\nvim docs/guide/my-feature.md\n\n# Preview locally\nmkdocs serve\n# Visit: http://localhost:8000\n\n# Build\nmkdocs build\n</code></pre>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes with tests</li> <li>Run tests and linters</li> <li>Update documentation</li> <li>Submit PR with clear description</li> </ol>"},{"location":"development/contributing/#pr-checklist","title":"PR Checklist","text":"<ul> <li> Tests pass (<code>pytest -v</code>)</li> <li> Code formatted (<code>black src/ tests/</code>)</li> <li> Linter clean (<code>ruff check src/</code>)</li> <li> Types check (<code>mypy src/</code>)</li> <li> Documentation updated</li> <li> CHANGELOG.md updated</li> <li> Commit messages follow conventions</li> </ul>"},{"location":"development/contributing/#commit-message-convention","title":"Commit Message Convention","text":"<pre><code>feat: add new feature\nfix: bug fix\ndocs: documentation only\nstyle: formatting, missing semicolons, etc\nrefactor: code restructuring\ntest: adding tests\nchore: maintain, dependencies, etc\n</code></pre> <p>Examples: <pre><code>feat: add hook management commands\nfix: context detection for nested projects\ndocs: update Claude integration guide\ntest: add tests for profile switching\n</code></pre></p>"},{"location":"development/contributing/#areas-needing-help","title":"Areas Needing Help","text":""},{"location":"development/contributing/#high-priority","title":"High Priority","text":"<ul> <li> Multi-terminal support (beyond iTerm2)</li> <li> Hook management system</li> <li> MCP server integration</li> <li> Windows support</li> <li> Linux support</li> </ul>"},{"location":"development/contributing/#documentation_1","title":"Documentation","text":"<ul> <li> Video tutorials</li> <li> More workflow examples</li> <li> Troubleshooting guides</li> <li> API documentation</li> </ul>"},{"location":"development/contributing/#testing","title":"Testing","text":"<ul> <li> Integration tests</li> <li> Performance tests</li> <li> Cross-platform tests</li> </ul>"},{"location":"development/contributing/#development-tips","title":"Development Tips","text":""},{"location":"development/contributing/#use-uv-for-speed","title":"Use UV for Speed","text":"<pre><code># Install dependencies (10-100x faster!)\nuv pip install -e \".[dev]\"\n\n# Add new dependency\n# 1. Edit pyproject.toml\n# 2. Run: uv pip install -e \".[dev]\"\n</code></pre>"},{"location":"development/contributing/#test-your-changes-locally","title":"Test Your Changes Locally","text":"<pre><code># Install in editable mode\nuv pip install -e \".[dev]\"\n\n# Use aiterm directly\naiterm doctor\naiterm detect\n\n# Changes to code are immediately reflected!\n</code></pre>"},{"location":"development/contributing/#debugging","title":"Debugging","text":"<pre><code># Add breakpoints\nimport pdb; pdb.set_trace()\n\n# Run pytest with pdb\npytest --pdb\n\n# Verbose output\naiterm --help  # Shows Typer debug info\n</code></pre>"},{"location":"development/contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Questions: GitHub Discussions</li> <li>Bugs: GitHub Issues</li> <li>Chat: (Coming soon)</li> </ul>"},{"location":"development/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Be kind, respectful, and constructive. We're all here to build something useful!</p>"},{"location":"development/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Complete installation guide for aiterm v0.1.0.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":""},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":"<ul> <li>Operating System: macOS (Linux support coming in v0.2.0)</li> <li>Python: 3.10 or higher</li> <li>Terminal: iTerm2 (other terminals coming in v0.2.0)</li> </ul>"},{"location":"getting-started/installation/#optional-requirements","title":"Optional Requirements","text":"<ul> <li>Claude Code CLI: For Claude Code integration features</li> <li>Gemini CLI: For Gemini integration (v0.2.0+)</li> <li>Git: For git branch/status detection</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#method-1-homebrew-macos-recommended","title":"Method 1: Homebrew (macOS - Recommended \ud83c\udf7a)","text":"<p>Homebrew is the easiest way to install aiterm on macOS. One command, automatic updates, no Python setup needed.</p>"},{"location":"getting-started/installation/#install-homebrew-if-needed","title":"Install Homebrew (if needed)","text":"<pre><code># Install Homebrew if you don't have it\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"getting-started/installation/#install-aiterm","title":"Install aiterm","text":"<pre><code># Install from Data-Wise tap\nbrew install data-wise/tap/aiterm\n\n# Verify installation\naiterm --version\nait --version  # Short alias also works\n</code></pre>"},{"location":"getting-started/installation/#update-aiterm","title":"Update aiterm","text":"<pre><code># Update to latest version\nbrew upgrade aiterm\n\n# Or update all Homebrew packages\nbrew upgrade\n</code></pre>"},{"location":"getting-started/installation/#uninstall","title":"Uninstall","text":"<pre><code>brew uninstall aiterm\n</code></pre> <p>Why Homebrew?</p> <ul> <li>\u2705 One-line installation</li> <li>\u2705 Automatic dependency management (Python, etc.)</li> <li>\u2705 Simple updates with <code>brew upgrade</code></li> <li>\u2705 Standard macOS package manager</li> <li>\u2705 No virtual environment configuration needed</li> </ul>"},{"location":"getting-started/installation/#method-2-uv-cross-platform","title":"Method 2: UV (Cross-Platform \u26a1)","text":"<p>UV is 10-100x faster than pip and works on all platforms.</p>"},{"location":"getting-started/installation/#install-uv","title":"Install UV","text":"<pre><code># Install uv if you don't have it\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Verify installation\nuv --version\n</code></pre>"},{"location":"getting-started/installation/#install-aiterm_1","title":"Install aiterm","text":"<pre><code># Install aiterm as a CLI tool\nuv tool install git+https://github.com/Data-Wise/aiterm\n\n# Verify installation\naiterm --version\nait --version  # Short alias also works\n</code></pre>"},{"location":"getting-started/installation/#update-aiterm_1","title":"Update aiterm","text":"<pre><code># Update to latest version\nuv tool upgrade aiterm\n</code></pre>"},{"location":"getting-started/installation/#method-3-pipx","title":"Method 3: pipx","text":"<p>pipx installs Python CLI tools in isolated environments.</p>"},{"location":"getting-started/installation/#install-pipx","title":"Install pipx","text":"<pre><code># Install pipx\npython3 -m pip install --user pipx\n\n# Add pipx to PATH\npython3 -m pipx ensurepath\n\n# Restart your terminal, then verify\npipx --version\n</code></pre>"},{"location":"getting-started/installation/#install-aiterm_2","title":"Install aiterm","text":"<pre><code># Install aiterm\npipx install git+https://github.com/Data-Wise/aiterm\n\n# Verify installation\naiterm --version\n</code></pre>"},{"location":"getting-started/installation/#update-aiterm_2","title":"Update aiterm","text":"<pre><code># Update to latest version\npipx upgrade aiterm\n</code></pre>"},{"location":"getting-started/installation/#method-4-development-installation","title":"Method 4: Development Installation","text":"<p>For contributing or local development:</p> <pre><code># Clone the repository\ngit clone https://github.com/Data-Wise/aiterm.git\ncd aiterm\n\n# Create virtual environment with uv\nuv venv\n\n# Activate environment\nsource .venv/bin/activate\n\n# Install in editable mode with dev dependencies\nuv pip install -e \".[dev]\"\n\n# Run tests\npytest -v\n\n# Verify installation\naiterm --version\n</code></pre>"},{"location":"getting-started/installation/#post-installation","title":"Post-Installation","text":""},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check version\naiterm --version\n\n# Run health check\naiterm doctor\n\n# Test context detection\naiterm detect\n</code></pre> <p>Expected output from <code>aiterm doctor</code>:</p> <pre><code>aiterm doctor - Health check\n\nTerminal: iTerm.app\nShell: /bin/zsh\nPython: 3.10+\naiterm: 0.1.0-dev\n\nBasic checks passed!\n</code></pre>"},{"location":"getting-started/installation/#shell-completion-optional","title":"Shell Completion (Optional)","text":"<p>Enable tab completion for your shell:</p>"},{"location":"getting-started/installation/#zsh","title":"Zsh","text":"<pre><code># Add to ~/.zshrc\neval \"$(_AITERM_COMPLETE=zsh_source aiterm)\"\n\n# Reload shell\nsource ~/.zshrc\n</code></pre>"},{"location":"getting-started/installation/#bash","title":"Bash","text":"<pre><code># Add to ~/.bashrc\neval \"$(_AITERM_COMPLETE=bash_source aiterm)\"\n\n# Reload shell\nsource ~/.bashrc\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found","title":"Command Not Found","text":"<p>If <code>aiterm</code> command is not found after installation:</p> <p>UV users: <pre><code># Check UV bin directory is in PATH\necho $PATH | grep -o ~/.local/bin\n\n# If not found, add to your shell config (~/.zshrc or ~/.bashrc)\nexport PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre></p> <p>pipx users: <pre><code># Ensure pipx path\npython3 -m pipx ensurepath\n\n# Restart terminal\n</code></pre></p>"},{"location":"getting-started/installation/#permission-denied","title":"Permission Denied","text":"<p>If you get permission errors:</p> <pre><code># Don't use sudo with uv or pipx!\n# They install to user directories automatically\n\n# If you accidentally used sudo, uninstall and reinstall:\nuv tool uninstall aiterm\nuv tool install git+https://github.com/Data-Wise/aiterm\n</code></pre>"},{"location":"getting-started/installation/#python-version-issues","title":"Python Version Issues","text":"<pre><code># Check Python version\npython3 --version\n\n# aiterm requires Python 3.10+\n# Update Python if needed:\nbrew install python@3.12  # macOS with Homebrew\n</code></pre>"},{"location":"getting-started/installation/#iterm2-not-detected","title":"iTerm2 Not Detected","text":"<p>If <code>aiterm doctor</code> shows wrong terminal:</p> <pre><code># Check TERM_PROGRAM environment variable\necho $TERM_PROGRAM\n\n# Should show: iTerm.app\n# If not, you're not running in iTerm2\n</code></pre>"},{"location":"getting-started/installation/#installation-methods-comparison","title":"Installation Methods Comparison","text":"Method Platform Speed Updates Best For Homebrew \ud83c\udf7a macOS Fast <code>brew upgrade</code> Mac users (recommended) UV \u26a1 All Fastest <code>uv tool upgrade</code> Cross-platform, speed pipx All Fast <code>pipx upgrade</code> Python developers Source All Slow <code>git pull</code> Contributors"},{"location":"getting-started/installation/#uninstalling","title":"Uninstalling","text":""},{"location":"getting-started/installation/#homebrew","title":"Homebrew","text":"<pre><code>brew uninstall aiterm\n</code></pre>"},{"location":"getting-started/installation/#uv","title":"UV","text":"<pre><code>uv tool uninstall aiterm\n</code></pre>"},{"location":"getting-started/installation/#pipx","title":"pipx","text":"<pre><code>pipx uninstall aiterm\n</code></pre>"},{"location":"getting-started/installation/#development-install","title":"Development Install","text":"<pre><code>cd aiterm\nuv pip uninstall aiterm\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>\u2705 Quick Start: Get started in 2 minutes</li> <li>\ud83d\udcd6 CLI Reference: All commands and examples</li> <li>\ud83c\udfaf Workflows: Common use cases</li> <li>\u2699\ufe0f Claude Integration: Set up auto-approvals</li> </ul>"},{"location":"getting-started/installation/#version-information","title":"Version Information","text":"<ul> <li>Current Version: 0.1.0-dev</li> <li>Release Date: December 2024</li> <li>Python Support: 3.10, 3.11, 3.12, 3.13, 3.14</li> <li>macOS Support: Monterey (12.0) and later</li> </ul>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<ul> <li>Documentation: https://data-wise.github.io/aiterm</li> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get up and running with aiterm in 2 minutes.</p>"},{"location":"getting-started/quickstart/#install-choose-your-method","title":"Install (Choose Your Method)","text":""},{"location":"getting-started/quickstart/#macos-recommended","title":"macOS (Recommended)","text":"<pre><code># One command installation\nbrew install data-wise/tap/aiterm\n</code></pre>"},{"location":"getting-started/quickstart/#all-platforms","title":"All Platforms","text":"<pre><code># Install with UV (fastest)\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nuv tool install git+https://github.com/Data-Wise/aiterm\n</code></pre>"},{"location":"getting-started/quickstart/#verify-installation","title":"Verify Installation","text":"<pre><code># Check version\naiterm --version\n# or use short alias\nait --version\n\n# Run health check\nait doctor\n</code></pre> <p>Expected output: <pre><code>\u2705 Terminal: iTerm.app\n\u2705 Shell: /bin/zsh\n\u2705 Python: 3.12.0\n\u2705 aiterm: 0.1.0\n\nAll systems go!\n</code></pre></p>"},{"location":"getting-started/quickstart/#try-it-out","title":"Try It Out","text":""},{"location":"getting-started/quickstart/#1-detect-your-context","title":"1. Detect Your Context","text":"<pre><code># Navigate to any project\ncd ~/projects/my-r-package\n\n# Detect project type\nait detect\n</code></pre> <p>Output: <pre><code>Context: R-Pkg \ud83d\udce6\nProfile: R-Dev (blue theme)\nGit: main (clean)\n</code></pre></p>"},{"location":"getting-started/quickstart/#2-check-claude-code-settings","title":"2. Check Claude Code Settings","text":"<pre><code># View current settings\nait claude settings\n\n# List available auto-approval presets\nait claude approvals presets\n</code></pre>"},{"location":"getting-started/quickstart/#3-add-auto-approvals","title":"3. Add Auto-Approvals","text":"<pre><code># Add safe file reading permissions\nait claude approvals preset --name safe-reads\n\n# Add git operations permissions\nait claude approvals preset --name git-ops\n</code></pre>"},{"location":"getting-started/quickstart/#what-happens","title":"What Happens","text":""},{"location":"getting-started/quickstart/#context-detection-8-types","title":"Context Detection (8 Types)","text":"When you <code>cd</code> to... Context Icon Profile R package (DESCRIPTION) R-Pkg \ud83d\udce6 R-Dev (blue) Python project (pyproject.toml) Python \ud83d\udc0d Python-Dev (green) Node project (package.json) Node \ud83d\udce6 Node-Dev (dark) Quarto project (_quarto.yml) Quarto \ud83d\udcca R-Dev (blue) MCP server (mcp-server/) AI-Session \ud83e\udd16 AI-Session (purple) Production path (/production/) Production \ud83d\udea8 Production (red) Dev tools (.git + scripts/) Dev-Tools \ud83d\udd27 Dev-Tools (amber) Claude sessions (/claude-sessions/) AI-Session \ud83e\udd16 AI-Session (purple)"},{"location":"getting-started/quickstart/#auto-approvals-8-presets","title":"Auto-Approvals (8 Presets)","text":"<p>After adding presets, Claude Code will auto-approve:</p> <ul> <li>safe-reads: Read files (cat, ls, grep)</li> <li>git-ops: Git commands (status, diff, log, add, commit, push)</li> <li>github-cli: GitHub CLI (gh pr, gh issue)</li> <li>python-dev: Python tools (pytest, black, ruff)</li> <li>node-dev: Node tools (npm, npx)</li> <li>r-dev: R tools (Rscript, R CMD)</li> <li>web-tools: Web search, fetch</li> <li>minimal: Only read + git status</li> </ul>"},{"location":"getting-started/quickstart/#common-commands","title":"Common Commands","text":"<pre><code># Health check\nait doctor\n\n# Detect current context\nait detect\n\n# Switch profile (manual override)\nait switch\n\n# View all profiles\nait profile list\n\n# Claude Code integration\nait claude settings           # View settings\nait claude backup             # Backup settings\nait claude approvals list     # Show current approvals\nait claude approvals presets  # List available presets\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":""},{"location":"getting-started/quickstart/#learn-more","title":"Learn More","text":"<ul> <li>\ud83d\udcd6 Full Installation Guide - All installation methods</li> <li>\ud83c\udfaf Context Detection - How detection works</li> <li>\u2699\ufe0f Claude Integration - Auto-approvals explained</li> <li>\ud83c\udfa8 Profiles - Customize colors</li> </ul>"},{"location":"getting-started/quickstart/#workflows","title":"Workflows","text":"<ul> <li>\ud83d\udcca Common Workflows - Real-world examples</li> <li>\ud83d\udd27 Status Bar - Customize your status bar</li> </ul>"},{"location":"getting-started/quickstart/#reference","title":"Reference","text":"<ul> <li>\ud83d\udcbb Command Reference - All commands</li> <li>\ud83d\udc1b Troubleshooting - Common issues</li> </ul>"},{"location":"getting-started/quickstart/#update","title":"Update","text":"<p>Keep aiterm up to date:</p> <pre><code># Homebrew\nbrew upgrade aiterm\n\n# UV\nuv tool upgrade aiterm\n\n# pipx\npipx upgrade aiterm\n</code></pre>"},{"location":"getting-started/quickstart/#getting-help","title":"Getting Help","text":"<ul> <li>Documentation: https://data-wise.github.io/aiterm</li> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> </ul>"},{"location":"guide/claude-integration/","title":"Claude Code Integration","text":"<p>Complete guide to using aiterm with Claude Code CLI.</p>"},{"location":"guide/claude-integration/#overview","title":"Overview","text":"<p>aiterm helps you manage Claude Code configuration:</p> <ul> <li>\u2705 View and backup <code>~/.claude/settings.json</code></li> <li>\u2705 Manage auto-approval permissions with curated presets</li> <li>\u2705 Quick setup with safe, production-tested configurations</li> <li>\ud83d\udea7 Hook management (coming v0.2.0)</li> <li>\ud83d\udea7 MCP server integration (coming v0.2.0)</li> </ul>"},{"location":"guide/claude-integration/#quick-setup-5-minutes","title":"Quick Setup (5 Minutes)","text":""},{"location":"guide/claude-integration/#1-check-current-configuration","title":"1. Check Current Configuration","text":"<pre><code># View current settings\nait claude settings\n\n# List current auto-approvals\nait claude approvals list\n</code></pre>"},{"location":"guide/claude-integration/#2-backup-before-changes","title":"2. Backup Before Changes","text":"<pre><code># Create timestamped backup\nait claude backup\n# \u2192 Creates: ~/.claude/settings.backup-20241218-153045.json\n</code></pre>"},{"location":"guide/claude-integration/#3-add-safe-permissions","title":"3. Add Safe Permissions","text":"<pre><code># Start with safe read-only operations\nait claude approvals add safe-reads\n\n# Add git operations (no destructive commands)\nait claude approvals add git-ops\n\n# Add your primary dev tools\nait claude approvals add python-dev  # or node-dev, r-dev\n</code></pre>"},{"location":"guide/claude-integration/#4-verify","title":"4. Verify","text":"<pre><code># Check what was added\nait claude approvals list\n</code></pre> <p>Done! Claude Code can now execute approved commands without prompting.</p>"},{"location":"guide/claude-integration/#auto-approval-presets","title":"Auto-Approval Presets","text":""},{"location":"guide/claude-integration/#safe-reads-5-permissions","title":"safe-reads (5 permissions)","text":"<p>Purpose: Read-only file and directory operations</p> <p>Permissions: <pre><code>Read(/Users/youruser/**)     # Read any file\nGlob(**/*.py)                 # Search for files\nGrep(*)                       # Search file contents\nBash(ls:*)                    # List directories\nBash(cat:*)                   # View file contents\n</code></pre></p> <p>Use when: - Starting with Claude Code - Maximum safety - Exploration and learning</p> <p>Add: <pre><code>ait claude approvals add safe-reads\n</code></pre></p>"},{"location":"guide/claude-integration/#git-ops-12-permissions","title":"git-ops (12 permissions)","text":"<p>Purpose: Git workflow commands (no destructive operations)</p> <p>Permissions: <pre><code>Bash(git status:*)\nBash(git diff:*)\nBash(git log:*)\nBash(git show:*)\nBash(git branch:*)\nBash(git fetch:*)\nBash(git add:*)\nBash(git commit:*)\nBash(git push:*)\nBash(git checkout:*)\nBash(git pull:*)\nBash(git stash:*)\n</code></pre></p> <p>Excluded: <code>git reset --hard</code>, <code>git push --force</code>, destructive operations</p> <p>Use when: - Daily development workflow - Code reviews - Branch management</p> <p>Add: <pre><code>ait claude approvals add git-ops\n</code></pre></p>"},{"location":"guide/claude-integration/#github-cli-8-permissions","title":"github-cli (8 permissions)","text":"<p>Purpose: GitHub CLI operations</p> <p>Permissions: <pre><code>Bash(gh pr list:*)\nBash(gh pr view:*)\nBash(gh pr create:*)\nBash(gh pr checkout:*)\nBash(gh issue list:*)\nBash(gh issue view:*)\nBash(gh repo:*)\nBash(gh api:*)               # Read-only API calls\n</code></pre></p> <p>Excluded: <code>gh pr merge</code>, destructive repo operations</p> <p>Use when: - Working with pull requests - Managing issues - Reviewing code on GitHub</p> <p>Add: <pre><code>ait claude approvals add github-cli\n</code></pre></p>"},{"location":"guide/claude-integration/#python-dev-6-permissions","title":"python-dev (6 permissions)","text":"<p>Purpose: Python development tools</p> <p>Permissions: <pre><code>Bash(python3:*)\nBash(pip3 install:*)\nBash(pytest:*)\nBash(python -m pytest:*)\nBash(uv:*)                   # UV package manager\nBash(uv pip install:*)\n</code></pre></p> <p>Use when: - Python package development - Running tests - Installing dependencies</p> <p>Add: <pre><code>ait claude approvals add python-dev\n</code></pre></p>"},{"location":"guide/claude-integration/#node-dev-7-permissions","title":"node-dev (7 permissions)","text":"<p>Purpose: Node.js and JavaScript development</p> <p>Permissions: <pre><code>Bash(npm install:*)\nBash(npm run:*)\nBash(npx:*)\nBash(bun:*)                  # Bun runtime\nBash(node:*)\nBash(yarn:*)\nBash(pnpm:*)\n</code></pre></p> <p>Use when: - JavaScript/TypeScript development - React/Vue/Angular projects - npm package development</p> <p>Add: <pre><code>ait claude approvals add node-dev\n</code></pre></p>"},{"location":"guide/claude-integration/#r-dev-5-permissions","title":"r-dev (5 permissions)","text":"<p>Purpose: R package development and Quarto</p> <p>Permissions: <pre><code>Bash(Rscript:*)\nBash(R CMD:*)\nBash(R:*)\nBash(quarto:*)\nBash(which:*)                # Check R installation\n</code></pre></p> <p>Use when: - R package development - Statistical analysis - Quarto document rendering</p> <p>Add: <pre><code>ait claude approvals add r-dev\n</code></pre></p>"},{"location":"guide/claude-integration/#web-tools-2-permissions","title":"web-tools (2 permissions)","text":"<p>Purpose: Web search and content fetching</p> <p>Permissions: <pre><code>WebSearch\nWebFetch(domain:*)\n</code></pre></p> <p>Use when: - Research tasks - Documentation lookups - Finding examples online</p> <p>Add: <pre><code>ait claude approvals add web-tools\n</code></pre></p>"},{"location":"guide/claude-integration/#minimal-10-permissions","title":"minimal (10 permissions)","text":"<p>Purpose: Bare minimum shell commands</p> <p>Permissions: <pre><code>Bash(ls:*)\nBash(cat:*)\nBash(echo:*)\nBash(pwd:*)\nBash(cd:*)\nBash(find:*)\nBash(grep:*)\nBash(wc:*)\nBash(head:*)\nBash(tail:*)\n</code></pre></p> <p>Use when: - Ultra-conservative approach - Learning Claude Code - Shared environments</p> <p>Add: <pre><code>ait claude approvals add minimal\n</code></pre></p>"},{"location":"guide/claude-integration/#recommended-combinations","title":"Recommended Combinations","text":""},{"location":"guide/claude-integration/#for-web-developers","title":"For Web Developers","text":"<pre><code>ait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add node-dev\nait claude approvals add github-cli\nait claude approvals add web-tools\n</code></pre>"},{"location":"guide/claude-integration/#for-python-developers","title":"For Python Developers","text":"<pre><code>ait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add python-dev\nait claude approvals add github-cli\n</code></pre>"},{"location":"guide/claude-integration/#for-r-package-developers","title":"For R Package Developers","text":"<pre><code>ait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add r-dev\nait claude approvals add github-cli\n</code></pre>"},{"location":"guide/claude-integration/#conservative-starter","title":"Conservative Starter","text":"<pre><code>ait claude approvals add safe-reads\nait claude approvals add minimal\n</code></pre>"},{"location":"guide/claude-integration/#managing-permissions","title":"Managing Permissions","text":""},{"location":"guide/claude-integration/#view-current-approvals","title":"View Current Approvals","text":"<pre><code># List all approved permissions\nait claude approvals list\n\n# View in Claude Code settings file\nait claude settings\n</code></pre>"},{"location":"guide/claude-integration/#backup-strategy","title":"Backup Strategy","text":"<pre><code># Before adding new permissions\nait claude backup\n\n# Creates timestamped backup:\n# ~/.claude/settings.backup-20241218-153045.json\n</code></pre> <p>Restore from backup: <pre><code>cp ~/.claude/settings.backup-TIMESTAMP.json ~/.claude/settings.json\n</code></pre></p>"},{"location":"guide/claude-integration/#remove-permissions","title":"Remove Permissions","text":"<p>Currently, you must manually edit <code>~/.claude/settings.json</code>:</p> <pre><code>{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(git status:*)\",\n      \"Remove this line\",\n      \"Bash(pytest:*)\"\n    ]\n  }\n}\n</code></pre> <p>Coming in v0.2.0: <code>ait claude approvals remove &lt;preset&gt;</code></p>"},{"location":"guide/claude-integration/#safety-guidelines","title":"Safety Guidelines","text":""},{"location":"guide/claude-integration/#what-presets-dont-include","title":"What Presets DON'T Include","text":"<p>No destructive operations: - \u274c <code>rm -rf</code> commands - \u274c <code>git reset --hard</code> - \u274c <code>git push --force</code> to main/master - \u274c System file modifications - \u274c Credential/secret exposure</p> <p>Always requires confirmation: - Permanent deletions - Force pushes - Production deployments - Publishing packages - Account modifications</p>"},{"location":"guide/claude-integration/#when-to-be-cautious","title":"When to Be Cautious","text":"<p>Don't auto-approve: - Commands you don't understand - Operations on production systems - Financial transactions - Credential management - Package publishing</p> <p>Always review: - PRs before merging - Commits before pushing - Deployments to production</p>"},{"location":"guide/claude-integration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/claude-integration/#permissions-not-working","title":"Permissions Not Working","text":"<pre><code># 1. Verify permissions are in settings\nait claude approvals list\n\n# 2. Check settings file directly\ncat ~/.claude/settings.json | grep -A 20 '\"allow\"'\n\n# 3. Restart Claude Code CLI\n# (close terminal, open new session)\n</code></pre>"},{"location":"guide/claude-integration/#accidentally-added-wrong-preset","title":"Accidentally Added Wrong Preset","text":"<pre><code># Restore from backup\nait claude backup  # First, backup current state\ncp ~/.claude/settings.backup-PREVIOUS.json ~/.claude/settings.json\n\n# Verify restoration\nait claude approvals list\n</code></pre>"},{"location":"guide/claude-integration/#finding-the-right-preset","title":"Finding the Right Preset","text":"<pre><code># List all available presets with descriptions\nait claude approvals presets\n\n# Check what permissions a preset includes\n# (view source: src/aiterm/claude/settings.py)\n</code></pre>"},{"location":"guide/claude-integration/#advanced-usage","title":"Advanced Usage","text":""},{"location":"guide/claude-integration/#custom-permission-patterns","title":"Custom Permission Patterns","text":"<p>Edit <code>~/.claude/settings.json</code> to add custom patterns:</p> <pre><code>{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(git status:*)\",\n      \"Bash(mycommand:*)\",          // Custom command\n      \"Read(/specific/path/**)\",    // Specific directory\n      \"Bash(npm run test:unit:*)\"   // Specific npm script\n    ]\n  }\n}\n</code></pre> <p>Pattern syntax: - <code>*</code> = wildcard (matches any characters) - <code>:*</code> = matches any arguments after command - <code>**</code> = recursive directory match</p>"},{"location":"guide/claude-integration/#project-specific-approvals","title":"Project-Specific Approvals","text":"<p>Use <code>.claude/settings.local.json</code> in project root:</p> <pre><code>{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(make:*)\",\n      \"Bash(docker-compose:*)\"\n    ]\n  }\n}\n</code></pre> <p>Claude Code merges local settings with global settings.</p>"},{"location":"guide/claude-integration/#coming-in-v020","title":"Coming in v0.2.0","text":""},{"location":"guide/claude-integration/#hook-management","title":"Hook Management","text":"<pre><code># Install Claude Code hooks\nait hooks install session-start\nait hooks install pre-commit\nait hooks install cost-tracker\n\n# List installed hooks\nait hooks list\n\n# Configure hooks\nait hooks config session-start\n</code></pre>"},{"location":"guide/claude-integration/#mcp-server-integration","title":"MCP Server Integration","text":"<pre><code># Discover MCP servers\nait mcp list\n\n# Configure server\nait mcp config statistical-research\n\n# Test server\nait mcp test statistical-research\n</code></pre>"},{"location":"guide/claude-integration/#resources","title":"Resources","text":"<ul> <li>Claude Code Docs: https://code.claude.com/docs</li> <li>Settings Reference: <code>~/.claude/settings.json</code></li> <li>Command Reference: CLI Commands</li> <li>Workflows: Common Workflows</li> </ul>"},{"location":"guide/context-detection/","title":"Context Detection","text":"<p>How the switcher detects your project type.</p>"},{"location":"guide/context-detection/#detection-priority","title":"Detection Priority","text":"<p>Contexts are checked in this order (first match wins):</p> <pre><code>1. \ud83d\udea8 Production   (path)        \u2500\u2510\n2. \ud83e\udd16 AI-Session   (path)         \u2502 Safety first\n3. \ud83d\udce6 R Package    (DESCRIPTION) \u2500\u2510\n4. \ud83d\udc0d Python       (pyproject.toml)\u2502 Language-specific\n5. \ud83d\udce6 Node         (package.json)  \u2500\u2518\n6. \ud83d\udcca Quarto       (_quarto.yml) \u2500\u2510\n7. \ud83d\udd0c MCP Server   (mcp-server/)  \u2502\n8. \u26a1 Emacs        (Cask, etc.)   \u2502 Tool types\n9. \ud83d\udd27 Dev-Tools    (scripts/)    \u2500\u2518\n10.   Default      (fallback)\n</code></pre>"},{"location":"guide/context-detection/#detection-methods","title":"Detection Methods","text":""},{"location":"guide/context-detection/#path-based-detection","title":"Path-based Detection","text":"Context Path Pattern Profile Production <code>*/production/*</code> or <code>*/prod/*</code> Production AI Sessions <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code> AI-Session"},{"location":"guide/context-detection/#file-based-detection","title":"File-based Detection","text":"Context File/Directory Profile R Package <code>DESCRIPTION</code> file with <code>Package:</code> field R-Dev Python <code>pyproject.toml</code> file Python-Dev Node.js <code>package.json</code> file Node-Dev Quarto <code>_quarto.yml</code> file R-Dev MCP Server <code>mcp-server/</code> directory or <code>*mcp*</code> with <code>package.json</code> AI-Session Emacs <code>Cask</code>, <code>.dir-locals.el</code>, <code>init.el</code>, or <code>early-init.el</code> Emacs Dev-Tools Git repo with <code>commands/</code> or <code>scripts/</code> directory Dev-Tools"},{"location":"guide/context-detection/#profile-icon-summary","title":"Profile + Icon Summary","text":"Context Profile Icon Theme Production Production \ud83d\udea8 Red AI Sessions AI-Session \ud83e\udd16 Purple R Package R-Dev \ud83d\udce6 Blue Python Python-Dev \ud83d\udc0d Green Node.js Node-Dev \ud83d\udce6 Dark Quarto R-Dev \ud83d\udcca Blue MCP Server AI-Session \ud83d\udd0c Purple Emacs Emacs \u26a1 Purple Dev-Tools Dev-Tools \ud83d\udd27 Amber Default Default (none) Default"},{"location":"guide/context-detection/#conflict-resolution","title":"Conflict Resolution","text":"<p>When multiple markers exist, the first match wins:</p> Scenario Winner Why R pkg with Quarto vignettes \ud83d\udce6 R R detected first Python with Makefile \ud83d\udc0d Python Python detected first Quarto in production folder \ud83d\udea8 Production Safety priority MCP server with Node \ud83d\udd0c MCP MCP detected before Node"},{"location":"guide/context-detection/#project-name-extraction","title":"Project Name Extraction","text":"<p>For some contexts, the project name is extracted from files:</p> Context Source R Package <code>Package:</code> field in DESCRIPTION Node.js <code>\"name\"</code> field in package.json Quarto <code>title:</code> field in _quarto.yml Others Directory name"},{"location":"guide/context-detection/#detection-requirements","title":"Detection Requirements","text":""},{"location":"guide/context-detection/#dev-tools-detection","title":"Dev-Tools Detection","text":"<p>Dev-tools detection requires:</p> <ol> <li>Git repository (<code>.git</code> directory exists)</li> <li>AND one of:</li> <li><code>commands/</code> directory</li> <li><code>scripts/</code> directory</li> <li><code>bin/</code> directory with <code>Makefile</code></li> </ol> <p>This prevents false positives (e.g., <code>~/scripts</code> folder).</p>"},{"location":"guide/context-detection/#mcp-server-detection","title":"MCP Server Detection","text":"<p>MCP servers are detected by:</p> <ol> <li><code>mcp-server/</code> directory exists, OR</li> <li>Path contains <code>mcp</code> AND has <code>package.json</code></li> </ol>"},{"location":"guide/profiles/","title":"iTerm2 Profiles","text":"<p>Configure iTerm2 profiles for visual context switching.</p>"},{"location":"guide/profiles/#auto-installed-profiles","title":"Auto-Installed Profiles","text":"<p>Dynamic profiles are automatically installed and ready to use:</p> Profile Icon Theme Use Case Dev-Tools \ud83d\udd27 Amber/Orange Shell scripts, CLI tools Emacs \u26a1 Purple/Magenta Emacs configurations Python-Dev \ud83d\udc0d Green Python projects Node-Dev \ud83d\udce6 Dark Node.js projects R-Dev \ud83d\udce6 Blue R packages, Quarto AI-Session \ud83e\udd16 Purple Claude/Gemini sessions Production \ud83d\udea8 Red Production warning"},{"location":"guide/profiles/#profile-mappings","title":"Profile Mappings","text":"Context Type Profile Used Icon R packages R-Dev \ud83d\udce6 Python projects Python-Dev \ud83d\udc0d Node.js projects Node-Dev \ud83d\udce6 Quarto projects R-Dev \ud83d\udcca MCP servers AI-Session \ud83d\udd0c Emacs configs Emacs \u26a1 Dev-tools Dev-Tools \ud83d\udd27 AI sessions AI-Session \ud83e\udd16 Production Production \ud83d\udea8 Default Default (none)"},{"location":"guide/profiles/#important-title-configuration","title":"Important: Title Configuration","text":"<p>For profile switching to work, each profile must have:</p> <ol> <li>General \u2192 Title: Set to \"Session Name\"</li> <li>Check: \"Applications in terminal may change title\"</li> </ol> <p>Without this, escape sequences won't update the title.</p>"},{"location":"guide/profiles/#dynamic-profiles-location","title":"Dynamic Profiles Location","text":"<p>Profiles are stored in:</p> <pre><code>~/Library/Application Support/iTerm2/DynamicProfiles/context-switcher-profiles.json\n</code></pre>"},{"location":"guide/profiles/#creating-custom-profiles","title":"Creating Custom Profiles","text":""},{"location":"guide/profiles/#custom-dynamic-profiles","title":"Custom Dynamic Profiles","text":"<p>Add to the existing JSON file:</p> <pre><code>{\n  \"Name\": \"My-Profile\",\n  \"Guid\": \"unique-id-here\",\n  \"Dynamic Profile Parent Name\": \"Default\",\n  \"Background Color\": {\n    \"Red Component\": 0.1,\n    \"Green Component\": 0.1,\n    \"Blue Component\": 0.1,\n    \"Alpha Component\": 1\n  }\n}\n</code></pre>"},{"location":"guide/profiles/#profile-color-reference","title":"Profile Color Reference","text":"Profile Background Foreground R-Dev Dark blue (#141f2e) Light blue (#cce6ff) AI-Session Dark purple (#1f1429) Light purple (#e6d9ff) Production Dark red (#330d0d) Light red (#ffd9d9) Dev-Tools Dark brown (#1f1a0f) Amber (#ffc259) Emacs Dark purple (#1a1424) Light purple (#d9ccf2) Python-Dev Green (#137746) Yellow (#fff0a5) Node-Dev Dark (#121212) Gray (#bfbfbf)"},{"location":"guide/profiles/#troubleshooting","title":"Troubleshooting","text":"<p>Profile doesn't switch:</p> <ul> <li>Ensure <code>$TERM_PROGRAM</code> equals <code>iTerm.app</code></li> <li>Check profile name matches exactly (case-sensitive)</li> <li>Verify profile exists in iTerm2 Preferences</li> </ul> <p>Title doesn't update:</p> <ul> <li>Set Title to \"Session Name\" in profile settings</li> <li>Enable \"Applications in terminal may change title\"</li> </ul>"},{"location":"guide/status-bar/","title":"Status Bar Integration","text":"<p>Display context information in iTerm2's status bar.</p>"},{"location":"guide/status-bar/#available-variables-v240","title":"Available Variables (v2.4.0)","text":"<p>The context switcher sets these user variables on every directory change:</p> Variable Content Example <code>\\(user.ctxIcon)</code> Context icon <code>\ud83d\udce6</code>, <code>\ud83d\udc0d</code>, <code>\ud83d\udd27</code> <code>\\(user.ctxName)</code> Project name <code>medfit</code>, <code>myapp</code> <code>\\(user.ctxBranch)</code> Git branch <code>main</code>, <code>dev</code> <code>\\(user.ctxProfile)</code> Active profile <code>R-Dev</code>, <code>Python-Dev</code>"},{"location":"guide/status-bar/#step-by-step-setup","title":"Step-by-Step Setup","text":""},{"location":"guide/status-bar/#step-1-enable-status-bar","title":"Step 1: Enable Status Bar","text":"<ol> <li>Open iTerm2 \u2192 Settings (\u2318,)</li> <li>Click Profiles tab</li> <li>Select your profile (e.g., Default) in the left sidebar</li> <li>Click Session sub-tab (in the row: General, Colors, Text, Session, etc.)</li> <li>Check the box: Status bar enabled</li> <li>Click Configure Status Bar button</li> </ol> <p>\ud83d\udcd6 See iTerm2 Status Bar Documentation for official reference.</p>"},{"location":"guide/status-bar/#step-2-add-interpolated-string-component","title":"Step 2: Add Interpolated String Component","text":"<p>The Configure Status Bar panel has two sections:</p> <ul> <li>Top: Available components (drag from here)</li> <li> <p>Bottom: Active components (your status bar)</p> </li> <li> <p>Scroll down in the available components list</p> </li> <li>Find Interpolated String (near the bottom)</li> <li>Drag it to the Active Components area at the bottom</li> <li>Position it where you want (left side recommended)</li> </ul>"},{"location":"guide/status-bar/#step-3-configure-the-component","title":"Step 3: Configure the Component","text":"<ol> <li>Click on the Interpolated String component you just added</li> <li>Click Configure Component button (bottom left)</li> <li>In the String Value field, enter:</li> </ol> <pre><code>\\(user.ctxIcon) \\(user.ctxName) (\\(user.ctxBranch))\n</code></pre> <ol> <li>Optionally set:</li> <li>Background Color: Pick a color or leave default</li> <li>Text Color: Pick a color or leave default</li> <li> <p>Size: Fixed or Auto</p> </li> <li> <p>Click OK to close the component config</p> </li> <li>Click OK to close the status bar config</li> </ol>"},{"location":"guide/status-bar/#step-4-reload-your-shell","title":"Step 4: Reload Your Shell","text":"<pre><code>source ~/.zshrc\n</code></pre> <p>Then <code>cd</code> to a project directory to see it update!</p>"},{"location":"guide/status-bar/#understanding-interpolated-strings","title":"Understanding Interpolated Strings","text":"<p>iTerm2 interpolated strings use <code>\\(expression)</code> syntax:</p> <pre><code>\\(variableName)           \u2192 Evaluates to variable value\n\\(user.customVar)         \u2192 User-defined variables start with \"user.\"\n</code></pre> <p>Our variables:</p> <ul> <li><code>\\(user.ctxIcon)</code> \u2192 <code>\ud83d\udce6</code></li> <li><code>\\(user.ctxName)</code> \u2192 <code>medfit</code></li> <li><code>\\(user.ctxBranch)</code> \u2192 <code>main</code></li> <li><code>\\(user.ctxProfile)</code> \u2192 <code>R-Dev</code></li> </ul> <p>Combining them:</p> <pre><code>\\(user.ctxIcon) \\(user.ctxName)\n</code></pre> <p>Result: <code>\ud83d\udce6 medfit</code></p>"},{"location":"guide/status-bar/#built-in-variables-you-can-also-use","title":"Built-in Variables You Can Also Use","text":"<p>iTerm2 provides many built-in variables:</p> Variable Description <code>\\(session.path)</code> Current directory path <code>\\(session.hostname)</code> Current hostname <code>\\(session.username)</code> Current username <code>\\(session.jobName)</code> Running command name <code>\\(session.columns)</code> Terminal width <code>\\(session.rows)</code> Terminal height <p>Example combining built-in and custom:</p> <pre><code>\\(user.ctxIcon) \\(user.ctxName) @ \\(session.hostname)\n</code></pre> <p>Result: <code>\ud83d\udce6 medfit @ macbook</code></p>"},{"location":"guide/status-bar/#example-configurations","title":"Example Configurations","text":""},{"location":"guide/status-bar/#minimal-icon-name","title":"Minimal: Icon + Name","text":"<pre><code>\\(user.ctxIcon) \\(user.ctxName)\n</code></pre> <p>Shows: <code>\ud83d\udd27 aiterm</code></p>"},{"location":"guide/status-bar/#full-icon-name-branch","title":"Full: Icon + Name + Branch","text":"<pre><code>\\(user.ctxIcon) \\(user.ctxName) (\\(user.ctxBranch))\n</code></pre> <p>Shows: <code>\ud83d\udce6 medfit (main)</code></p>"},{"location":"guide/status-bar/#profile-aware","title":"Profile-Aware","text":"<pre><code>[\\(user.ctxProfile)] \\(user.ctxIcon) \\(user.ctxName)\n</code></pre> <p>Shows: <code>[R-Dev] \ud83d\udce6 medfit</code></p>"},{"location":"guide/status-bar/#branch-only","title":"Branch Only","text":"<pre><code>\\(user.ctxBranch)\n</code></pre> <p>Shows: <code>main</code> or <code>feature/new-api</code></p>"},{"location":"guide/status-bar/#recommended-status-bar-layout","title":"Recommended Status Bar Layout","text":"<p>A balanced status bar setup:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udce6 medfit (main)  \u2502  ~/projects/...  \u2502  CPU  \u2502  12:30 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2191                    \u2191               \u2191        \u2191\n  Context            Current Dir       System   Clock\n</code></pre> <p>Components (left to right):</p> <ol> <li>Interpolated String - <code>\\(user.ctxIcon) \\(user.ctxName) (\\(user.ctxBranch))</code></li> <li>Spring (spacer)</li> <li>Current Directory (built-in)</li> <li>CPU Utilization (built-in, optional)</li> <li>Clock (built-in)</li> </ol>"},{"location":"guide/status-bar/#status-bar-position","title":"Status Bar Position","text":"<p>By default, the status bar appears at the top. To move it to the bottom:</p> <ol> <li>Open iTerm2 \u2192 Settings (\u2318,)</li> <li>Click Appearance tab</li> <li>Under General, find Status bar location</li> <li>Select Bottom</li> </ol> <p>Bottom Recommended</p> <p>Bottom placement keeps the status bar near your command line, making it easier to glance at context while typing.</p>"},{"location":"guide/status-bar/#available-components","title":"Available Components","text":""},{"location":"guide/status-bar/#recommended-components","title":"Recommended Components","text":"Component Description Use Case Interpolated String Custom variables Your context info git state Branch, dirty, ahead/behind Built-in git info Current Directory Full path Know where you are Clock Time and date Always useful Job Name Running process See what's executing"},{"location":"guide/status-bar/#system-monitors","title":"System Monitors","text":"Component Description Use Case CPU Utilization CPU graph over time Monitor heavy jobs Memory Utilization RAM graph over time Watch data analysis Battery Level Battery with charging Laptop users Network Throughput Upload/download Monitor transfers"},{"location":"guide/status-bar/#spacers","title":"Spacers","text":"Component Description Spring Flexible spacer (pushes items apart) Fixed-size Spacer Fixed width gap Empty Space Minimal gap"},{"location":"guide/status-bar/#ui-tools","title":"UI Tools","text":"Component Description Composer Edit commands before sending Search Tool Search terminal history Filter Filter terminal output Snippets Quick text insertion"},{"location":"guide/status-bar/#suggested-layouts","title":"Suggested Layouts","text":""},{"location":"guide/status-bar/#minimal-recommended","title":"Minimal (Recommended)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udce6 medfit (main)  \u2502  ~/projects/r-packages/active/medfit  \u2502  14:30 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Components:</p> <ol> <li>Interpolated String: <code>\\(user.ctxIcon) \\(user.ctxName) (\\(user.ctxBranch))</code></li> <li>Spring</li> <li>Current Directory</li> <li>Clock</li> </ol>"},{"location":"guide/status-bar/#with-system-monitors","title":"With System Monitors","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udce6 medfit  \u2502  CPU \u2583\u2585\u2582  \u2502  RAM \u2586\u2584\u2585  \u2502  ~/proj...  \u2502  14:30   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Components:</p> <ol> <li>Interpolated String: <code>\\(user.ctxIcon) \\(user.ctxName)</code></li> <li>CPU Utilization</li> <li>Memory Utilization</li> <li>Spring</li> <li>Current Directory</li> <li>Clock</li> </ol>"},{"location":"guide/status-bar/#developer-focus","title":"Developer Focus","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udce6 medfit  \u2502  main*  \u2502  R  \u2502  ~/projects/...  \u2502  14:30     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Components:</p> <ol> <li>Interpolated String: <code>\\(user.ctxIcon) \\(user.ctxName)</code></li> <li>git state (built-in)</li> <li>Job Name</li> <li>Spring</li> <li>Current Directory</li> <li>Clock</li> </ol>"},{"location":"guide/status-bar/#status-bar-styling","title":"Status Bar Styling","text":""},{"location":"guide/status-bar/#component-settings","title":"Component Settings","text":"<p>For each component, you can set:</p> <ul> <li>Background Color - Override default</li> <li>Text Color - Override default</li> <li>Priority - Higher priority keeps component visible when space is tight (default: 5)</li> <li>Minimum Width - Prevent component from shrinking too small</li> </ul>"},{"location":"guide/status-bar/#recommended-settings-for-context-component","title":"Recommended Settings for Context Component","text":"<ul> <li>Priority: 10 (high - keep visible)</li> <li>Minimum Width: 100</li> <li>Background Color: Match your theme or leave default</li> </ul>"},{"location":"guide/status-bar/#per-profile-status-bars","title":"Per-Profile Status Bars","text":"<p>Each iTerm2 profile can have its own status bar configuration.</p> <p>Tip: Configure the status bar on your Default profile, then child profiles (R-Dev, Python-Dev, etc.) will inherit it automatically.</p>"},{"location":"guide/status-bar/#built-in-git-component","title":"Built-in Git Component","text":"<p>iTerm2 also has a built-in git state component that shows:</p> <ul> <li>Branch name</li> <li>Dirty/clean status</li> <li>Ahead/behind remote</li> </ul> <p>You can use this alongside or instead of <code>\\(user.ctxBranch)</code>.</p> <p>To add it:</p> <ol> <li>Configure Status Bar</li> <li>Drag git state to your bar</li> <li>It auto-updates based on the current directory</li> </ol>"},{"location":"guide/status-bar/#troubleshooting","title":"Troubleshooting","text":"<p>Variables show empty or literal text:</p> <ul> <li>Reload your shell: <code>source ~/.zshrc</code></li> <li>Verify integration is loaded: <code>type _iterm_detect_context</code></li> <li>Run <code>cd .</code> to trigger an update</li> </ul> <p>Status bar not visible:</p> <ul> <li>Enable in Settings \u2192 Profiles \u2192 Session \u2192 Status bar enabled</li> <li>Check the profile you're using has status bar enabled</li> </ul> <p>Variables not updating:</p> <ul> <li>Variables update on directory change (<code>cd</code>)</li> <li>Run <code>_iterm_detect_context</code> manually to force update</li> </ul> <p>Wrong variable values:</p> <ul> <li>Check you're in the expected directory</li> <li>Verify git repo exists for branch info</li> </ul>"},{"location":"guide/status-bar/#technical-details","title":"Technical Details","text":"<p>User variables are set via iTerm2's OSC 1337 escape sequence:</p> <pre><code>printf '\\033]1337;SetUserVar=%s=%s\\007' \"name\" \"$(echo -n 'value' | base64)\"\n</code></pre> <p>The context switcher calls this automatically on every <code>chpwd</code> hook (directory change).</p> <p>Variables persist in the session until changed or the session ends.</p>"},{"location":"guide/triggers/","title":"iTerm2 Triggers","text":"<p>Automatic notifications for Claude Code sessions.</p>"},{"location":"guide/triggers/#built-in-triggers-v230","title":"Built-in Triggers (v2.3.0)","text":"<p>The AI-Session profile now includes triggers for Claude Code:</p> Pattern Action Effect <code>Allow .+?</code> Bounce Dock Icon Dock bounces when tool approval needed <code>Error:\\|error:\\|failed</code> Highlight Text Errors shown in red <code>Session cost:\\|Total cost:</code> Post Notification macOS notification on <code>/cost</code> <code>\u2713\\|completed</code> Highlight Text Success markers shown in green <p>These triggers activate automatically when using the AI-Session profile.</p>"},{"location":"guide/triggers/#how-triggers-work","title":"How Triggers Work","text":"<p>iTerm2 triggers watch terminal output and perform actions when regex patterns match.</p> <pre><code>Terminal Output \u2192 Regex Match \u2192 Action Triggered\n</code></pre> <p>Useful for:</p> <ul> <li>Getting notified when Claude needs input</li> <li>Highlighting errors and successes</li> <li>Bouncing dock when attention needed</li> </ul>"},{"location":"guide/triggers/#customizing-triggers","title":"Customizing Triggers","text":""},{"location":"guide/triggers/#viewedit-triggers","title":"View/Edit Triggers","text":"<ol> <li>Open iTerm2 \u2192 Settings \u2192 Profiles</li> <li>Select AI-Session</li> <li>Go to Advanced tab</li> <li>Click Edit next to Triggers</li> </ol>"},{"location":"guide/triggers/#add-new-trigger","title":"Add New Trigger","text":"Field Description Regular Expression Regex pattern to match Action What to do when matched Parameters Action-specific options Instant Match immediately (don't wait for newline)"},{"location":"guide/triggers/#additional-trigger-ideas","title":"Additional Trigger Ideas","text":""},{"location":"guide/triggers/#notification-when-claude-idle","title":"Notification When Claude Idle","text":"<pre><code>Regex: ^&gt; $\nAction: Post Notification\nParameters: Claude waiting for input\nInstant: \u2705\n</code></pre>"},{"location":"guide/triggers/#sound-on-long-tasks","title":"Sound on Long Tasks","text":"<pre><code>Regex: (completed|finished|done)\nAction: Ring Bell\nInstant: \u274c\n</code></pre>"},{"location":"guide/triggers/#highlight-warnings","title":"Highlight Warnings","text":"<pre><code>Regex: [Ww]arning:|WARN\nAction: Highlight Text\nParameters: {#ffaa00,}\n</code></pre>"},{"location":"guide/triggers/#available-actions","title":"Available Actions","text":"Action Description Post Notification macOS notification center Bounce Dock Icon Bounces until window focused Ring Bell Plays system bell sound Highlight Line Colors entire line Highlight Text Colors matched text only Set Title Changes tab title Show Alert Popup alert dialog Run Command Execute shell command Send Text Send text to terminal"},{"location":"guide/triggers/#color-format","title":"Color Format","text":"<p>For Highlight triggers, use <code>{#rrggbb,#rrggbb}</code> format:</p> <ul> <li>First color: foreground</li> <li>Second color: background</li> <li>Empty string for unchanged: <code>{#ff0000,}</code> (red text, no bg change)</li> </ul> <p>Examples:</p> <ul> <li><code>{#ff4444,#330000}</code> - Red text on dark red background</li> <li><code>{#44ff44,}</code> - Green text, default background</li> <li><code>{,#ffffcc}</code> - Default text, yellow background</li> </ul>"},{"location":"guide/triggers/#profile-inheritance","title":"Profile Inheritance","text":"<p>Triggers on the Default profile are inherited by child profiles.</p> <p>Since all our profiles use <code>Dynamic Profile Parent Name: Default</code>, you can:</p> <ol> <li>Add triggers to Default for global behavior</li> <li>Add triggers to AI-Session for Claude-specific behavior</li> </ol> <p>The AI-Session triggers are specific to Claude/AI sessions and won't affect other profiles.</p>"},{"location":"guide/triggers/#troubleshooting","title":"Troubleshooting","text":"<p>Triggers not firing:</p> <ul> <li>Check regex syntax (use ICU regex)</li> <li>Try enabling \"Instant\" for prompts without newlines</li> <li>Verify profile is active (check tab color)</li> </ul> <p>Too many notifications:</p> <ul> <li>Make regex more specific</li> <li>Remove broad patterns like <code>completed</code></li> </ul> <p>Dock won't stop bouncing:</p> <ul> <li>Click on iTerm2 window to focus it</li> <li>Or disable the trigger temporarily</li> </ul>"},{"location":"guide/workflows/","title":"Common Workflows","text":"<p>Real-world workflows using aiterm with Claude Code.</p>"},{"location":"guide/workflows/#daily-development-workflow","title":"Daily Development Workflow","text":""},{"location":"guide/workflows/#morning-setup","title":"Morning Setup","text":"<pre><code># 1. Check aiterm health\nait doctor\n\n# 2. Navigate to project\ncd ~/projects/myapp\n\n# 3. Apply context\nait switch\n# \u2192 iTerm2 profile changes to match project type\n# \u2192 Tab title shows: \"\ud83d\udce6 node: myapp [main]\"\n\n# 4. Start Claude Code\nclaude\n\n# Context is already set!\n</code></pre> <p>Benefits: - Visual confirmation you're in the right project - Git branch visible in tab title - Profile colors prevent production mistakes</p>"},{"location":"guide/workflows/#multi-project-context-switching","title":"Multi-Project Context Switching","text":""},{"location":"guide/workflows/#scenario-working-on-3-projects-simultaneously","title":"Scenario: Working on 3 projects simultaneously","text":"<pre><code># Terminal Tab 1: Web Frontend\ncd ~/projects/webapp\nait switch\n# \u2192 Node-Dev profile (green theme)\n# \u2192 Tab: \"\ud83d\udce6 node: webapp [feature/new-ui]\"\n\n# Terminal Tab 2: API Backend\ncd ~/projects/api\nait switch\n# \u2192 Python-Dev profile (blue theme)\n# \u2192 Tab: \"\ud83d\udc0d python: api [develop]\"\n\n# Terminal Tab 3: Database Scripts\ncd ~/production/migrations\nait switch\n# \u2192 Production profile (RED theme) \ud83d\udea8\n# \u2192 Tab: \"\ud83d\udea8 production: migrations [main]\"\n</code></pre> <p>Visual Safety: - Red terminal = production (be extra careful!) - Different colors = quick visual identification - Tab titles show branch (no mistakes!)</p>"},{"location":"guide/workflows/#claude-code-setup-first-time","title":"Claude Code Setup (First Time)","text":""},{"location":"guide/workflows/#safe-progressive-approach","title":"Safe Progressive Approach","text":"<pre><code># Day 1: Read-only exploration\nait claude backup\nait claude approvals add safe-reads\nait claude approvals add minimal\n\n# Day 2-3: Add git operations\nait claude backup\nait claude approvals add git-ops\n\n# Week 2: Add dev tools\nait claude backup\nait claude approvals add python-dev  # or node-dev, r-dev\n\n# Week 3: Add GitHub integration\nait claude backup\nait claude approvals add github-cli\n\n# Optional: Web research\nait claude approvals add web-tools\n</code></pre> <p>Philosophy: - Start conservative - Add permissions as needed - Always backup before changes - Build trust gradually</p>"},{"location":"guide/workflows/#r-package-development","title":"R Package Development","text":""},{"location":"guide/workflows/#complete-r-package-workflow","title":"Complete R Package Workflow","text":"<pre><code># 1. Navigate to package\ncd ~/r-packages/mypackage\n\n# 2. Check context\nait detect\n# Shows: \ud83d\udce6 r-package \u2192 R-Dev profile\n\n# 3. Set up Claude approvals for R\nait claude backup\nait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add r-dev\n\n# 4. Apply context\nait switch\n\n# 5. Start Claude\nclaude\n</code></pre> <p>Claude can now: - Run <code>Rscript</code> and <code>R CMD check</code> - Build documentation with <code>roxygen2</code> - Run <code>quarto render</code> for vignettes - Execute <code>devtools::test()</code> - Git operations for version control</p> <p>Example session: <pre><code>User: Run the package tests and check for errors\n\nClaude: [Runs R CMD check automatically]\nClaude: [Shows test results]\nClaude: Found 2 failing tests in test-models.R\n</code></pre></p>"},{"location":"guide/workflows/#python-package-development","title":"Python Package Development","text":""},{"location":"guide/workflows/#pytest-uv-workflow","title":"pytest + uv Workflow","text":"<pre><code># Setup\ncd ~/projects/mypkg\nait switch\nait claude approvals add python-dev\n\n# Claude can now:\n# - Run pytest automatically\n# - Install deps with uv\n# - Format code with black/ruff\n# - Run type checks with mypy\n</code></pre> <p>Example session: <pre><code>User: Add tests for the new UserAuth class\n\nClaude: [Writes tests in tests/test_auth.py]\nClaude: [Runs pytest automatically]\nTest Results: 15 passed, 0 failed\n</code></pre></p>"},{"location":"guide/workflows/#production-deployment-safety","title":"Production Deployment Safety","text":""},{"location":"guide/workflows/#scenario-deploying-to-production","title":"Scenario: Deploying to production","text":"<pre><code># 1. Navigate to production directory\ncd ~/production/live-site\n\n# 2. Context shows RED warning\nait switch\n# \u2192 Production profile (RED) \ud83d\udea8\n# \u2192 Tab: \"\ud83d\udea8 production: live-site [main]\"\n\n# 3. Visual cues everywhere\n# - Terminal background: red tint\n# - Tab title: red warning emoji\n# - Status bar: production indicator\n\n# 4. Extra careful mode activated\n# - Double-check all commands\n# - Review changes before committing\n# - Slow down, think first\n</code></pre> <p>Safety features: - Impossible to miss you're in production - Different muscle memory (red = danger!) - Prevents \"wrong terminal tab\" disasters</p>"},{"location":"guide/workflows/#multi-language-monorepo","title":"Multi-Language Monorepo","text":""},{"location":"guide/workflows/#scenario-monorepo-with-python-node-r","title":"Scenario: Monorepo with Python + Node + R","text":"<pre><code># Project structure:\n# ~/projects/datascience/\n#   \u251c\u2500\u2500 api/           (Python)\n#   \u251c\u2500\u2500 frontend/      (Node.js)\n#   \u251c\u2500\u2500 analysis/      (R)\n\n# Root level\ncd ~/projects/datascience\nait detect\n# \u2192 Shows: Dev-Tools (has .git + scripts/)\n\n# Work on API\ncd ~/projects/datascience/api\nait detect\n# \u2192 Shows: \ud83d\udc0d python (has pyproject.toml)\nait switch\n\n# Work on frontend\ncd ~/projects/datascience/frontend\nait detect\n# \u2192 Shows: \ud83d\udce6 node (has package.json)\nait switch\n\n# Work on analysis\ncd ~/projects/datascience/analysis\nait detect\n# \u2192 Shows: \ud83d\udce6 r-package (has DESCRIPTION)\nait switch\n</code></pre> <p>Setup once: <pre><code>ait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add python-dev\nait claude approvals add node-dev\nait claude approvals add r-dev\n</code></pre></p> <p>Benefits: - Auto-detects sub-project type - Correct profile for each directory - Claude uses right tools automatically</p>"},{"location":"guide/workflows/#github-pr-review-workflow","title":"GitHub PR Review Workflow","text":""},{"location":"guide/workflows/#complete-pr-review-with-aiterm","title":"Complete PR Review with aiterm","text":"<pre><code># 1. Setup GitHub CLI permissions\nait claude approvals add github-cli\nait claude approvals add git-ops\n\n# 2. List open PRs\n# (Claude can run automatically)\ngh pr list\n\n# 3. Checkout PR\ngh pr checkout 123\n\n# 4. Context updates automatically\nait switch\n# \u2192 Shows new branch in tab title\n\n# 5. Review with Claude\nclaude\n</code></pre> <p>Example session: <pre><code>User: Review this PR for bugs and suggest improvements\n\nClaude: [Reads changed files automatically]\nClaude: [Runs tests]\nClaude: [Provides review comments]\n\nUser: Looks good, approve and merge\n\nClaude: I can approve but you should merge manually\n        (gh pr merge requires explicit permission)\n</code></pre></p>"},{"location":"guide/workflows/#quarto-document-workflow","title":"Quarto Document Workflow","text":""},{"location":"guide/workflows/#academic-paper-with-quarto","title":"Academic Paper with Quarto","text":"<pre><code># 1. Setup\ncd ~/quarto/manuscripts/paper-2024\nait detect\n# \u2192 Shows: \ud83d\udcca quarto \u2192 R-Dev profile\n\n# 2. Add R dev tools\nait claude approvals add r-dev\n\n# 3. Switch context\nait switch\n\n# 4. Work with Claude\nclaude\n</code></pre> <p>Claude can: - Render Quarto documents - Run R code chunks - Generate plots - Format tables - Manage citations</p> <p>Example: <pre><code>User: Render the manuscript and show any errors\n\nClaude: [Runs quarto render]\nClaude: Found error in analysis.qmd line 45\n        ggplot requires 'aes' argument\n</code></pre></p>"},{"location":"guide/workflows/#testing-workflow","title":"Testing Workflow","text":""},{"location":"guide/workflows/#automated-testing-across-projects","title":"Automated Testing Across Projects","text":"<p>Python: <pre><code>cd ~/projects/myapp\nait switch\n# Claude can run: pytest -v\n</code></pre></p> <p>Node.js: <pre><code>cd ~/projects/webapp\nait switch\n# Claude can run: npm test, npm run test:unit\n</code></pre></p> <p>R: <pre><code>cd ~/r-packages/mypkg\nait switch\n# Claude can run: R CMD check, devtools::test()\n</code></pre></p> <p>Key benefit: Context detection + auto-approvals = Claude runs tests without asking!</p>"},{"location":"guide/workflows/#research-literature-workflow","title":"Research Literature Workflow","text":""},{"location":"guide/workflows/#with-mcp-web-tools","title":"With MCP + Web Tools","text":"<pre><code># Setup web search permissions\nait claude approvals add web-tools\n\n# Research session\nclaude\n</code></pre> <p>Example: <pre><code>User: Find recent papers on causal mediation analysis\n\nClaude: [Searches automatically with WebSearch]\nClaude: [Fetches paper abstracts with WebFetch]\nClaude: [Summarizes findings]\n</code></pre></p> <p>Coming in v0.2.0: - MCP server integration - Zotero library access - PDF reading and analysis</p>"},{"location":"guide/workflows/#emergency-wrong-directory-detection","title":"Emergency \"Wrong Directory\" Detection","text":""},{"location":"guide/workflows/#scenario-about-to-deploy-to-wrong-environment","title":"Scenario: About to deploy to wrong environment","text":"<pre><code># Think you're in staging\ncd ~/staging/myapp  # Actually: ~/production/myapp\n# Terminal turns RED \ud83d\udea8\n# Tab shows: \"\ud83d\udea8 production: myapp\"\n\n# VISUAL ALARM!\n# Red background = STOP\n# Check directory\npwd\n# /Users/me/production/myapp\n\n# Phew! Caught by context detection.\ncd ~/staging/myapp\nait switch\n# Back to safe colors\n</code></pre> <p>This has saved production countless times!</p>"},{"location":"guide/workflows/#tips-tricks","title":"Tips &amp; Tricks","text":""},{"location":"guide/workflows/#alias-for-quick-navigation","title":"Alias for Quick Navigation","text":"<pre><code># Add to ~/.zshrc\nalias cdw='cd ~/projects/webapp &amp;&amp; ait switch'\nalias cdapi='cd ~/projects/api &amp;&amp; ait switch'\nalias cdprod='cd ~/production &amp;&amp; ait switch'\n</code></pre>"},{"location":"guide/workflows/#check-before-switching","title":"Check Before Switching","text":"<pre><code># Detect before applying (safer)\nait detect ~/production/site  # Check first\nait switch ~/production/site  # Apply if correct\n</code></pre>"},{"location":"guide/workflows/#combine-with-shell-hooks","title":"Combine with Shell Hooks","text":"<pre><code># Auto-switch on cd (add to ~/.zshrc)\nchpwd() {\n  if [[ -d \".git\" ]] || [[ -f \"pyproject.toml\" ]]; then\n    ait switch &amp;&gt;/dev/null\n  fi\n}\n</code></pre>"},{"location":"guide/workflows/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Reference: All commands</li> <li>Claude Integration: Detailed setup</li> <li>Context Detection: How detection works</li> </ul>"},{"location":"guides/AITERM-INTEGRATION/","title":"aiterm Integration Guide","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21 Audience: Developers Difficulty: Intermediate</p>"},{"location":"guides/AITERM-INTEGRATION/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Using aiterm as a Library</li> <li>Creating Custom Context Detectors</li> <li>Adding New Terminal Backends</li> <li>Integration Patterns</li> <li>Testing Your Integration</li> <li>Best Practices</li> </ol>"},{"location":"guides/AITERM-INTEGRATION/#using-aiterm-as-a-library","title":"Using aiterm as a Library","text":""},{"location":"guides/AITERM-INTEGRATION/#basic-usage","title":"Basic Usage","text":"<p>aiterm can be used as a Python library in your own tools:</p> <pre><code>from aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\n\n# Get terminal backend\nterminal = get_terminal()\nprint(f\"Using: {terminal.name}\")\n\n# Detect context\ncontext = detect_context(\"/path/to/project\")\nif context:\n    # Switch profile\n    terminal.switch_profile(context.profile)\n\n    # Set title\n    terminal.set_title(context.title)\n\n    # Set status bar variables\n    terminal.set_status_var(\"project_type\", context.type)\n</code></pre> <p>Use cases: - Custom shell integrations - IDE plugins - Project management tools - Build systems - Deployment scripts</p>"},{"location":"guides/AITERM-INTEGRATION/#example-zsh-integration","title":"Example: ZSH Integration","text":"<p>File: <code>~/.zshrc</code></p> <pre><code># aiterm integration for automatic context switching\nfunction chpwd() {\n    # Run on every directory change\n    python3 -c \"\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\nimport os\n\npath = os.getcwd()\ncontext = detect_context(path)\n\nif context:\n    terminal = get_terminal()\n    terminal.switch_profile(context.profile)\n    terminal.set_title(context.title)\n\"\n}\n</code></pre> <p>What this does: - Automatically runs on every <code>cd</code> - Detects context - Switches profile - Updates title</p>"},{"location":"guides/AITERM-INTEGRATION/#example-project-switcher-tool","title":"Example: Project Switcher Tool","text":"<p>File: <code>project_switcher.py</code></p> <pre><code>#!/usr/bin/env python3\n\"\"\"\nCustom project switcher using aiterm\n\"\"\"\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\nimport os\nimport sys\n\nPROJECTS = {\n    \"rmed\": \"~/projects/r-packages/RMediation\",\n    \"api\": \"~/projects/python/api-server\",\n    \"prod\": \"~/production/api-server\"\n}\n\ndef switch_project(name: str):\n    \"\"\"Switch to project by name\"\"\"\n    if name not in PROJECTS:\n        print(f\"Unknown project: {name}\")\n        print(f\"Available: {', '.join(PROJECTS.keys())}\")\n        return 1\n\n    # Get project path\n    path = os.path.expanduser(PROJECTS[name])\n\n    # Change directory\n    os.chdir(path)\n\n    # Detect context\n    context = detect_context(path)\n\n    if context:\n        # Get terminal\n        terminal = get_terminal()\n\n        # Switch profile\n        terminal.switch_profile(context.profile)\n\n        # Set title\n        terminal.set_title(context.title)\n\n        # Set status variables\n        terminal.set_status_var(\"project\", name)\n        terminal.set_status_var(\"type\", context.type)\n\n        print(f\"\u2705 Switched to {name}\")\n        print(f\"\ud83d\udccb Profile: {context.profile}\")\n        print(f\"\ud83d\udcc1 Path: {path}\")\n    else:\n        print(f\"\u26a0\ufe0f  No context detected for {path}\")\n\n    return 0\n\nif __name__ == \"__main__\":\n    if len(sys.argv) != 2:\n        print(\"Usage: project_switcher.py PROJECT_NAME\")\n        sys.exit(1)\n\n    sys.exit(switch_project(sys.argv[1]))\n</code></pre> <p>Usage: <pre><code>$ python project_switcher.py rmed\n\u2705 Switched to rmed\n\ud83d\udccb Profile: R-Dev\n\ud83d\udcc1 Path: /Users/dt/projects/r-packages/RMediation\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#creating-custom-context-detectors","title":"Creating Custom Context Detectors","text":""},{"location":"guides/AITERM-INTEGRATION/#detector-base-class","title":"Detector Base Class","text":"<p>All context detectors inherit from <code>ContextDetector</code>:</p> <pre><code>from aiterm.context.base import ContextDetector, Context\nfrom typing import Optional\n\nclass MyDetector(ContextDetector):\n    \"\"\"Detect my custom project type\"\"\"\n\n    # Priority (1 = highest, 100 = lowest)\n    priority = 10\n\n    def detect(self, path: str) -&gt; Optional[Context]:\n        \"\"\"\n        Detect context from path\n\n        Args:\n            path: Absolute path to directory\n\n        Returns:\n            Context object if detected, None otherwise\n        \"\"\"\n        # Your detection logic here\n        if self._is_my_project(path):\n            return Context(\n                type=\"my-project\",\n                profile=\"My-Profile\",\n                title=\"My Project\",\n                path=path,\n                metadata={}\n            )\n        return None\n\n    def _is_my_project(self, path: str) -&gt; bool:\n        \"\"\"Check if path is my project type\"\"\"\n        # Example: check for marker file\n        return self._has_file(path, \".myproject\")\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#helper-methods","title":"Helper Methods","text":"<p>The <code>ContextDetector</code> base class provides helper methods:</p> <pre><code>class ContextDetector:\n    def _has_file(self, path: str, filename: str) -&gt; bool:\n        \"\"\"Check if file exists in path\"\"\"\n\n    def _has_directory(self, path: str, dirname: str) -&gt; bool:\n        \"\"\"Check if directory exists in path\"\"\"\n\n    def _read_file(self, path: str, filename: str) -&gt; Optional[str]:\n        \"\"\"Read file content, return None if not exists\"\"\"\n\n    def _parse_json(self, path: str, filename: str) -&gt; Optional[dict]:\n        \"\"\"Read and parse JSON file\"\"\"\n\n    def _parse_toml(self, path: str, filename: str) -&gt; Optional[dict]:\n        \"\"\"Read and parse TOML file\"\"\"\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#example-1-go-project-detector","title":"Example 1: Go Project Detector","text":"<pre><code>from aiterm.context.base import ContextDetector, Context\nfrom typing import Optional\n\nclass GoDetector(ContextDetector):\n    \"\"\"Detect Go projects\"\"\"\n\n    priority = 5  # Higher priority than default\n\n    def detect(self, path: str) -&gt; Optional[Context]:\n        # Check for go.mod\n        if not self._has_file(path, \"go.mod\"):\n            return None\n\n        # Read go.mod to get module name\n        go_mod_content = self._read_file(path, \"go.mod\")\n        if not go_mod_content:\n            return None\n\n        # Parse module name (first line: \"module github.com/user/repo\")\n        lines = go_mod_content.strip().split(\"\\n\")\n        if not lines:\n            return None\n\n        module_line = lines[0]\n        if not module_line.startswith(\"module \"):\n            return None\n\n        module_name = module_line[7:].strip()  # Remove \"module \"\n\n        # Extract short name (last part after /)\n        short_name = module_name.split(\"/\")[-1]\n\n        return Context(\n            type=\"go-project\",\n            profile=\"Go-Dev\",\n            title=f\"Go: {short_name}\",\n            path=path,\n            metadata={\n                \"module\": module_name,\n                \"short_name\": short_name\n            }\n        )\n</code></pre> <p>Register detector: <pre><code>from aiterm.context import register_detector\n\nregister_detector(GoDetector())\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#example-2-rust-project-detector","title":"Example 2: Rust Project Detector","text":"<pre><code>from aiterm.context.base import ContextDetector, Context\nfrom typing import Optional\n\nclass RustDetector(ContextDetector):\n    \"\"\"Detect Rust projects\"\"\"\n\n    priority = 5\n\n    def detect(self, path: str) -&gt; Optional[Context]:\n        # Check for Cargo.toml\n        cargo_toml = self._parse_toml(path, \"Cargo.toml\")\n        if not cargo_toml:\n            return None\n\n        # Get package name\n        package = cargo_toml.get(\"package\", {})\n        name = package.get(\"name\", \"unknown\")\n        version = package.get(\"version\", \"\")\n\n        # Check if it's a workspace\n        is_workspace = \"workspace\" in cargo_toml\n\n        if is_workspace:\n            title = f\"Rust Workspace: {name}\"\n        else:\n            title = f\"Rust: {name} v{version}\" if version else f\"Rust: {name}\"\n\n        return Context(\n            type=\"rust-project\",\n            profile=\"Rust-Dev\",\n            title=title,\n            path=path,\n            metadata={\n                \"name\": name,\n                \"version\": version,\n                \"is_workspace\": is_workspace\n            }\n        )\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#example-3-docker-project-detector","title":"Example 3: Docker Project Detector","text":"<pre><code>from aiterm.context.base import ContextDetector, Context\nfrom typing import Optional\n\nclass DockerDetector(ContextDetector):\n    \"\"\"Detect Docker projects\"\"\"\n\n    priority = 6\n\n    def detect(self, path: str) -&gt; Optional[Context]:\n        # Check for Dockerfile or docker-compose.yml\n        has_dockerfile = self._has_file(path, \"Dockerfile\")\n        has_compose = self._has_file(path, \"docker-compose.yml\")\n\n        if not (has_dockerfile or has_compose):\n            return None\n\n        # Determine project type\n        if has_compose:\n            # Read docker-compose.yml to get services\n            compose = self._parse_yaml(path, \"docker-compose.yml\")\n            if compose:\n                services = list(compose.get(\"services\", {}).keys())\n                service_count = len(services)\n                title = f\"Docker: {service_count} services\"\n            else:\n                title = \"Docker Compose\"\n        else:\n            title = \"Docker\"\n\n        return Context(\n            type=\"docker-project\",\n            profile=\"Docker-Dev\",\n            title=title,\n            path=path,\n            metadata={\n                \"has_dockerfile\": has_dockerfile,\n                \"has_compose\": has_compose\n            }\n        )\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#example-4-multi-condition-detector","title":"Example 4: Multi-Condition Detector","text":"<pre><code>from aiterm.context.base import ContextDetector, Context\nfrom typing import Optional\n\nclass FullstackDetector(ContextDetector):\n    \"\"\"Detect fullstack projects (frontend + backend)\"\"\"\n\n    priority = 7\n\n    def detect(self, path: str) -&gt; Optional[Context]:\n        # Check for frontend (package.json)\n        has_frontend = self._has_file(path, \"package.json\")\n\n        # Check for backend (requirements.txt or Pipfile)\n        has_backend = (\n            self._has_file(path, \"requirements.txt\") or\n            self._has_file(path, \"Pipfile\") or\n            self._has_file(path, \"pyproject.toml\")\n        )\n\n        # Only detect if BOTH present\n        if not (has_frontend and has_backend):\n            return None\n\n        # Read package.json for project name\n        package_json = self._parse_json(path, \"package.json\")\n        if package_json:\n            name = package_json.get(\"name\", \"unknown\")\n        else:\n            name = path.split(\"/\")[-1]\n\n        return Context(\n            type=\"fullstack-project\",\n            profile=\"Fullstack-Dev\",\n            title=f\"Fullstack: {name}\",\n            path=path,\n            metadata={\n                \"has_frontend\": has_frontend,\n                \"has_backend\": has_backend,\n                \"name\": name\n            }\n        )\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#registering-custom-detectors","title":"Registering Custom Detectors","text":"<p>Method 1: Programmatic Registration</p> <pre><code>from aiterm.context import register_detector\n\n# Register detector\nregister_detector(GoDetector())\nregister_detector(RustDetector())\nregister_detector(DockerDetector())\n</code></pre> <p>Method 2: Configuration File (Phase 2 - Planned)</p> <pre><code>{\n  \"custom_detectors\": [\n    {\n      \"module\": \"my_detectors\",\n      \"class\": \"GoDetector\"\n    },\n    {\n      \"module\": \"my_detectors\",\n      \"class\": \"RustDetector\"\n    }\n  ]\n}\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#adding-new-terminal-backends","title":"Adding New Terminal Backends","text":""},{"location":"guides/AITERM-INTEGRATION/#terminal-backend-base-class","title":"Terminal Backend Base Class","text":"<p>All terminal backends inherit from <code>TerminalBackend</code>:</p> <pre><code>from aiterm.terminal.base import TerminalBackend\nfrom typing import Optional\n\nclass MyTerminal(TerminalBackend):\n    \"\"\"My custom terminal backend\"\"\"\n\n    name = \"MyTerminal\"\n\n    @classmethod\n    def detect(cls) -&gt; bool:\n        \"\"\"\n        Detect if this is the current terminal\n\n        Returns:\n            True if this terminal is active\n        \"\"\"\n        import os\n        term_program = os.getenv(\"TERM_PROGRAM\", \"\")\n        return \"MyTerminal\" in term_program\n\n    def switch_profile(self, profile_name: str) -&gt; bool:\n        \"\"\"\n        Switch to profile\n\n        Args:\n            profile_name: Name of profile\n\n        Returns:\n            True if successful\n        \"\"\"\n        # Implementation specific to your terminal\n        pass\n\n    def set_title(self, title: str) -&gt; bool:\n        \"\"\"\n        Set tab/window title\n\n        Args:\n            title: Title text\n\n        Returns:\n            True if successful\n        \"\"\"\n        # Implementation specific to your terminal\n        pass\n\n    def set_status_var(self, key: str, value: str) -&gt; bool:\n        \"\"\"\n        Set status bar user variable\n\n        Args:\n            key: Variable name\n            value: Variable value\n\n        Returns:\n            True if successful\n        \"\"\"\n        # Implementation specific to your terminal\n        pass\n\n    def get_current_profile(self) -&gt; Optional[str]:\n        \"\"\"\n        Get current active profile name\n\n        Returns:\n            Profile name or None\n        \"\"\"\n        # Implementation specific to your terminal\n        pass\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#example-wezterm-backend","title":"Example: Wezterm Backend","text":"<pre><code>from aiterm.terminal.base import TerminalBackend\nfrom typing import Optional\nimport os\nimport subprocess\n\nclass WeztermTerminal(TerminalBackend):\n    \"\"\"Wezterm terminal backend\"\"\"\n\n    name = \"Wezterm\"\n\n    @classmethod\n    def detect(cls) -&gt; bool:\n        \"\"\"Detect Wezterm\"\"\"\n        term_program = os.getenv(\"TERM_PROGRAM\", \"\")\n        return \"WezTerm\" in term_program\n\n    def switch_profile(self, profile_name: str) -&gt; bool:\n        \"\"\"Switch Wezterm color scheme\"\"\"\n        try:\n            # Wezterm uses CLI commands\n            subprocess.run([\n                \"wezterm\",\n                \"cli\",\n                \"set-tab-color-scheme\",\n                profile_name\n            ], check=True)\n            return True\n        except Exception:\n            return False\n\n    def set_title(self, title: str) -&gt; bool:\n        \"\"\"Set tab title\"\"\"\n        # Wezterm supports OSC sequences\n        try:\n            # OSC 0 - Set window/tab title\n            print(f\"\\033]0;{title}\\007\", end=\"\", flush=True)\n            return True\n        except Exception:\n            return False\n\n    def set_status_var(self, key: str, value: str) -&gt; bool:\n        \"\"\"Set user variable (if supported)\"\"\"\n        # Wezterm has custom escape sequences\n        try:\n            import base64\n            encoded_value = base64.b64encode(value.encode()).decode()\n            print(f\"\\033]1337;SetUserVar={key}={encoded_value}\\007\",\n                  end=\"\", flush=True)\n            return True\n        except Exception:\n            return False\n\n    def get_current_profile(self) -&gt; Optional[str]:\n        \"\"\"Get current color scheme\"\"\"\n        # Query via CLI\n        try:\n            result = subprocess.run([\n                \"wezterm\",\n                \"cli\",\n                \"get-tab-color-scheme\"\n            ], capture_output=True, text=True)\n            return result.stdout.strip() if result.returncode == 0 else None\n        except Exception:\n            return None\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#example-alacritty-backend","title":"Example: Alacritty Backend","text":"<pre><code>from aiterm.terminal.base import TerminalBackend\nfrom typing import Optional\nimport os\nimport yaml\n\nclass AlacrittyTerminal(TerminalBackend):\n    \"\"\"Alacritty terminal backend\"\"\"\n\n    name = \"Alacritty\"\n\n    @classmethod\n    def detect(cls) -&gt; bool:\n        \"\"\"Detect Alacritty\"\"\"\n        term_program = os.getenv(\"TERM_PROGRAM\", \"\")\n        term = os.getenv(\"TERM\", \"\")\n        return \"alacritty\" in term_program.lower() or \"alacritty\" in term.lower()\n\n    def switch_profile(self, profile_name: str) -&gt; bool:\n        \"\"\"Switch Alacritty theme\"\"\"\n        # Alacritty uses config file\n        config_path = os.path.expanduser(\"~/.config/alacritty/alacritty.yml\")\n        theme_path = os.path.expanduser(\n            f\"~/.config/alacritty/themes/{profile_name}.yml\"\n        )\n\n        if not os.path.exists(theme_path):\n            return False\n\n        try:\n            # Read current config\n            with open(config_path) as f:\n                config = yaml.safe_load(f)\n\n            # Read theme\n            with open(theme_path) as f:\n                theme = yaml.safe_load(f)\n\n            # Update colors\n            config[\"colors\"] = theme.get(\"colors\", {})\n\n            # Write back\n            with open(config_path, \"w\") as f:\n                yaml.dump(config, f)\n\n            # Reload Alacritty (if running)\n            subprocess.run([\"pkill\", \"-USR1\", \"alacritty\"])\n\n            return True\n        except Exception:\n            return False\n\n    def set_title(self, title: str) -&gt; bool:\n        \"\"\"Set window title\"\"\"\n        try:\n            print(f\"\\033]0;{title}\\007\", end=\"\", flush=True)\n            return True\n        except Exception:\n            return False\n\n    def set_status_var(self, key: str, value: str) -&gt; bool:\n        \"\"\"Alacritty doesn't support status bar variables\"\"\"\n        return False\n\n    def get_current_profile(self) -&gt; Optional[str]:\n        \"\"\"Get current theme name\"\"\"\n        # Parse config file\n        config_path = os.path.expanduser(\"~/.config/alacritty/alacritty.yml\")\n        try:\n            with open(config_path) as f:\n                config = yaml.safe_load(f)\n            # Theme name is stored in custom field\n            return config.get(\"theme_name\")\n        except Exception:\n            return None\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#registering-custom-backend","title":"Registering Custom Backend","text":"<p>Method 1: Factory Function (Recommended)</p> <pre><code># aiterm/terminal/__init__.py\n\ndef get_terminal() -&gt; TerminalBackend:\n    \"\"\"Get appropriate terminal backend\"\"\"\n\n    # Try custom backends first\n    if WeztermTerminal.detect():\n        return WeztermTerminal()\n\n    if AlacrittyTerminal.detect():\n        return AlacrittyTerminal()\n\n    # Fall back to built-in\n    if iTerm2Terminal.detect():\n        return iTerm2Terminal()\n\n    # Default fallback\n    return DefaultTerminal()\n</code></pre> <p>Method 2: Environment Variable</p> <pre><code>export AITERM_TERMINAL=wezterm\n</code></pre> <p>Then in code: <pre><code>def get_terminal() -&gt; TerminalBackend:\n    forced = os.getenv(\"AITERM_TERMINAL\")\n    if forced == \"wezterm\":\n        return WeztermTerminal()\n    # ... auto-detect\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#integration-patterns","title":"Integration Patterns","text":""},{"location":"guides/AITERM-INTEGRATION/#pattern-1-shell-hook-integration","title":"Pattern 1: Shell Hook Integration","text":"<p>Use case: Automatic context switching on <code>cd</code></p> <p>ZSH Example: <pre><code># ~/.zshrc\n\n# aiterm: Automatic context switching\nautoload -U add-zsh-hook\n\nfunction aiterm_chpwd() {\n    python3 -c '\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\nimport os\n\ncontext = detect_context(os.getcwd())\nif context:\n    terminal = get_terminal()\n    terminal.switch_profile(context.profile)\n    terminal.set_title(context.title)\n    '\n}\n\nadd-zsh-hook chpwd aiterm_chpwd\n\n# Run on shell start\naiterm_chpwd\n</code></pre></p> <p>BASH Example: <pre><code># ~/.bashrc\n\nfunction aiterm_prompt_command() {\n    python3 -c '\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\nimport os\n\ncontext = detect_context(os.getcwd())\nif context:\n    terminal = get_terminal()\n    terminal.switch_profile(context.profile)\n    terminal.set_title(context.title)\n    '\n}\n\nPROMPT_COMMAND=\"aiterm_prompt_command${PROMPT_COMMAND:+; $PROMPT_COMMAND}\"\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#pattern-2-ide-plugin-integration","title":"Pattern 2: IDE Plugin Integration","text":"<p>Use case: VS Code extension for context switching</p> <p>Python Backend (VS Code Extension): <pre><code># vscode_aiterm.py\n\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\nimport json\nimport sys\n\ndef handle_workspace_change(workspace_path: str):\n    \"\"\"Handle VS Code workspace change\"\"\"\n\n    # Detect context\n    context = detect_context(workspace_path)\n\n    if context:\n        # Get terminal\n        terminal = get_terminal()\n\n        # Switch profile\n        terminal.switch_profile(context.profile)\n\n        # Return context info for VS Code\n        return {\n            \"type\": context.type,\n            \"profile\": context.profile,\n            \"title\": context.title\n        }\n\n    return None\n\nif __name__ == \"__main__\":\n    workspace = sys.argv[1] if len(sys.argv) &gt; 1 else \".\"\n    result = handle_workspace_change(workspace)\n    print(json.dumps(result))\n</code></pre></p> <p>VS Code Extension (TypeScript): <pre><code>// extension.ts\n\nimport * as vscode from 'vscode';\nimport { exec } from 'child_process';\n\nexport function activate(context: vscode.ExtensionContext) {\n    // Listen for workspace changes\n    vscode.workspace.onDidChangeWorkspaceFolders(async (event) =&gt; {\n        const workspaceFolder = vscode.workspace.workspaceFolders?.[0];\n        if (!workspaceFolder) return;\n\n        // Call aiterm Python backend\n        exec(`python3 vscode_aiterm.py \"${workspaceFolder.uri.fsPath}\"`,\n            (error, stdout, stderr) =&gt; {\n                if (!error) {\n                    const result = JSON.parse(stdout);\n                    vscode.window.showInformationMessage(\n                        `aiterm: Switched to ${result.profile}`\n                    );\n                }\n            }\n        );\n    });\n}\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#pattern-3-build-system-integration","title":"Pattern 3: Build System Integration","text":"<p>Use case: Gradle/Maven/Make integration</p> <p>Gradle Example: <pre><code>// build.gradle\n\ntask aitermSetup {\n    doLast {\n        exec {\n            commandLine 'python3', '-c', '''\nfrom aiterm.terminal import get_terminal\nfrom aiterm.context import detect_context\n\ncontext = detect_context(\".\")\nif context:\n    terminal = get_terminal()\n    terminal.switch_profile(\"Java-Dev\")\n    terminal.set_title(\"Gradle: \" + project.name)\n            '''\n        }\n    }\n}\n\n// Run before any task\ntasks.all { task -&gt;\n    task.dependsOn aitermSetup\n}\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#pattern-4-deployment-script-integration","title":"Pattern 4: Deployment Script Integration","text":"<p>Use case: Safety mode for production deployments</p> <p>Deployment Script: <pre><code>#!/bin/bash\n# deploy.sh\n\nset -e\n\n# Enable production mode\npython3 -c '\nfrom aiterm.terminal import get_terminal\n\nterminal = get_terminal()\nterminal.switch_profile(\"Production\")  # RED theme\nterminal.set_title(\"\u26a0\ufe0f PRODUCTION DEPLOYMENT\")\n'\n\necho \"\u26a0\ufe0f  PRODUCTION MODE ACTIVE\"\necho \"Deploying to production...\"\n\n# Deployment commands...\nkubectl apply -f k8s/\n# ...\n\necho \"\u2705 Deployment complete\"\n\n# Reset to default\npython3 -c '\nfrom aiterm.terminal import get_terminal\nterminal = get_terminal()\nterminal.switch_profile(\"Default\")\n'\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#testing-your-integration","title":"Testing Your Integration","text":""},{"location":"guides/AITERM-INTEGRATION/#unit-tests","title":"Unit Tests","text":"<p>Test custom detector: <pre><code>import pytest\nfrom pathlib import Path\nfrom your_module import GoDetector\n\ndef test_go_detector_detects_go_project(tmp_path):\n    \"\"\"Test Go detector finds go.mod\"\"\"\n    # Create test structure\n    (tmp_path / \"go.mod\").write_text(\"module github.com/user/myproject\")\n\n    # Test detection\n    detector = GoDetector()\n    context = detector.detect(str(tmp_path))\n\n    # Assertions\n    assert context is not None\n    assert context.type == \"go-project\"\n    assert context.profile == \"Go-Dev\"\n    assert \"myproject\" in context.title\n\ndef test_go_detector_ignores_non_go_project(tmp_path):\n    \"\"\"Test Go detector returns None for non-Go projects\"\"\"\n    detector = GoDetector()\n    context = detector.detect(str(tmp_path))\n\n    assert context is None\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#integration-tests","title":"Integration Tests","text":"<p>Test terminal backend: <pre><code>import pytest\nfrom your_module import WeztermTerminal\n\n@pytest.mark.skipif(\n    not WeztermTerminal.detect(),\n    reason=\"Wezterm not available\"\n)\ndef test_wezterm_profile_switching():\n    \"\"\"Test Wezterm profile switching\"\"\"\n    terminal = WeztermTerminal()\n\n    # Switch profile\n    result = terminal.switch_profile(\"Test-Profile\")\n    assert result is True\n\n    # Verify profile changed\n    current = terminal.get_current_profile()\n    assert current == \"Test-Profile\"\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#manual-testing","title":"Manual Testing","text":"<p>Test full integration: <pre><code># 1. Create test directory\nmkdir -p /tmp/test-aiterm-go\ncd /tmp/test-aiterm-go\n\n# 2. Create go.mod\necho \"module github.com/test/myproject\" &gt; go.mod\n\n# 3. Test detection\naiterm detect\n# Should show: Type: go-project, Profile: Go-Dev\n\n# 4. Test profile switching\naiterm profile switch Go-Dev\n# Should switch iTerm2 profile\n\n# 5. Cleanup\ncd ~\nrm -rf /tmp/test-aiterm-go\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#best-practices","title":"Best Practices","text":""},{"location":"guides/AITERM-INTEGRATION/#1-detector-priority","title":"1. Detector Priority","text":"<p>Rule: Higher priority = checked first</p> <pre><code>class ProductionDetector(ContextDetector):\n    priority = 1  # Highest - safety first!\n\nclass ProjectTypeDetector(ContextDetector):\n    priority = 5  # Normal\n\nclass DefaultDetector(ContextDetector):\n    priority = 100  # Lowest - last resort\n</code></pre> <p>Why: Production should always override other detectors</p>"},{"location":"guides/AITERM-INTEGRATION/#2-fail-fast","title":"2. Fail Fast","text":"<p>Good: <pre><code>def detect(self, path: str) -&gt; Optional[Context]:\n    # Check cheapest condition first\n    if not self._has_file(path, \"marker.txt\"):\n        return None  # Fast exit\n\n    # Then expensive operations\n    content = self._read_file(path, \"config.json\")\n    # ...\n</code></pre></p> <p>Bad: <pre><code>def detect(self, path: str) -&gt; Optional[Context]:\n    # Expensive operation first\n    content = self._read_file(path, \"config.json\")\n\n    # Then cheap check\n    if not self._has_file(path, \"marker.txt\"):\n        return None  # Wasted work!\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#3-error-handling","title":"3. Error Handling","text":"<p>Good: <pre><code>def switch_profile(self, profile_name: str) -&gt; bool:\n    try:\n        # Terminal operation\n        result = subprocess.run([...], check=True)\n        return True\n    except subprocess.CalledProcessError:\n        # Log error but don't crash\n        logger.error(f\"Failed to switch profile: {profile_name}\")\n        return False\n    except Exception as e:\n        # Catch unexpected errors\n        logger.exception(\"Unexpected error in switch_profile\")\n        return False\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#4-graceful-degradation","title":"4. Graceful Degradation","text":"<p>Good: <pre><code>def set_status_var(self, key: str, value: str) -&gt; bool:\n    if not self.supports_status_vars:\n        return False  # Feature not supported, that's OK\n\n    try:\n        # Set variable\n        return True\n    except Exception:\n        return False  # Failed, but don't crash\n</code></pre></p>"},{"location":"guides/AITERM-INTEGRATION/#5-documentation","title":"5. Documentation","text":"<p>Always document: - What your detector detects - Priority level and why - Metadata structure - Example usage</p> <pre><code>class GoDetector(ContextDetector):\n    \"\"\"\n    Detect Go projects by looking for go.mod file.\n\n    Priority: 5 (normal)\n\n    Detects:\n        - go.mod file\n        - Extracts module name\n        - Determines workspace vs package\n\n    Metadata:\n        - module: Full module path (e.g., \"github.com/user/repo\")\n        - short_name: Project name (last part of path)\n        - is_workspace: Boolean, true if Go workspace\n\n    Example:\n        &gt;&gt;&gt; detector = GoDetector()\n        &gt;&gt;&gt; context = detector.detect(\"/path/to/project\")\n        &gt;&gt;&gt; if context:\n        ...     print(context.metadata[\"module\"])\n    \"\"\"\n    priority = 5\n    # ...\n</code></pre>"},{"location":"guides/AITERM-INTEGRATION/#next-steps","title":"Next Steps","text":"<ul> <li>API Documentation - Full API reference</li> <li>Architecture - System design</li> <li>User Guide - End-user documentation</li> <li>Troubleshooting - Common issues</li> </ul> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team</p>"},{"location":"guides/AITERM-USER-GUIDE/","title":"aiterm User Guide","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21 Reading Time: 15 minutes Difficulty: Beginner</p>"},{"location":"guides/AITERM-USER-GUIDE/#welcome-to-aiterm","title":"Welcome to aiterm! \ud83c\udf89","text":"<p>This guide will help you get started with aiterm, the terminal optimizer for AI-assisted development with Claude Code and Gemini CLI.</p>"},{"location":"guides/AITERM-USER-GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>What is aiterm?</li> <li>Installation</li> <li>First-Time Setup</li> <li>Daily Workflows</li> <li>Advanced Features</li> <li>Tips &amp; Tricks</li> <li>FAQ</li> </ol>"},{"location":"guides/AITERM-USER-GUIDE/#what-is-aiterm","title":"What is aiterm?","text":""},{"location":"guides/AITERM-USER-GUIDE/#the-problem","title":"The Problem","text":"<p>When working with AI coding assistants (Claude Code, Gemini CLI), switching between different project types is manual and error-prone:</p> <p>Before aiterm: <pre><code>$ cd ~/projects/r-packages/RMediation\n# Manual: Change iTerm2 profile to \"R-Dev\"\n# Manual: Set auto-approvals for R package tools\n# Manual: Update tab title\n# Manual: Remember which profile to use\n</code></pre></p> <p>Repeat this every time you switch projects! \ud83d\ude2b</p>"},{"location":"guides/AITERM-USER-GUIDE/#the-solution","title":"The Solution","text":"<p>aiterm automatically optimizes your terminal for each project:</p> <pre><code>$ cd ~/projects/r-packages/RMediation\n# \u2705 Auto-detects: R package\n# \u2705 Auto-switches: R-Dev profile (blue theme)\n# \u2705 Auto-sets: Tab title \"RMediation v1.0.0\"\n# \u2705 Auto-applies: R-specific auto-approvals\n</code></pre> <p>Just <code>cd</code> and everything is configured! \ud83d\ude80</p>"},{"location":"guides/AITERM-USER-GUIDE/#key-features","title":"Key Features","text":"<p>\u2705 Automatic Context Detection - Detects R packages, Python projects, Node.js apps, production paths, AI sessions - 8 built-in context types, extensible for custom types</p> <p>\u2705 Automatic Profile Switching - iTerm2 profile changes based on project type - Visual cues (colors, themes) for different contexts - Production safety mode (red theme, extra confirmations)</p> <p>\u2705 Claude Code Integration - Auto-approval presets for different workflows - 8 built-in presets (minimal, development, production, r-package, etc.) - Settings management with automatic backups</p> <p>\u2705 ADHD-Friendly Design - Zero manual configuration needed - Visual feedback for all operations - Fast operations (&lt; 200ms for everything) - Clear error messages with solutions</p>"},{"location":"guides/AITERM-USER-GUIDE/#installation","title":"Installation","text":""},{"location":"guides/AITERM-USER-GUIDE/#prerequisites","title":"Prerequisites","text":"<p>Required: - Python 3.10 or higher - iTerm2 3.4.0+ (macOS) for full features - Claude Code CLI (for Claude integration)</p> <p>Optional: - UV package manager (10-100x faster than pip) - Git (for version-controlled projects)</p>"},{"location":"guides/AITERM-USER-GUIDE/#method-1-uv-recommended-fastest","title":"Method 1: UV (Recommended - Fastest!)","text":"<p>Install UV first: <pre><code># Install UV (if not already installed)\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Restart terminal for PATH changes\n</code></pre></p> <p>Install aiterm: <pre><code># Install from GitHub\nuv pip install git+https://github.com/Data-Wise/aiterm.git\n\n# Or install from PyPI (when published)\nuv pip install aiterm\n</code></pre></p> <p>Time: ~30 seconds \u26a1</p>"},{"location":"guides/AITERM-USER-GUIDE/#method-2-pip-standard","title":"Method 2: pip (Standard)","text":"<pre><code># Install from GitHub\npip install git+https://github.com/Data-Wise/aiterm.git\n\n# Or install from PyPI (when published)\npip install aiterm\n</code></pre> <p>Time: ~2-3 minutes</p>"},{"location":"guides/AITERM-USER-GUIDE/#method-3-from-source-development","title":"Method 3: From Source (Development)","text":"<pre><code># Clone repository\ngit clone https://github.com/Data-Wise/aiterm.git\ncd aiterm\n\n# Install in development mode\nuv pip install -e \".[dev]\"\n\n# Or with pip\npip install -e \".[dev]\"\n</code></pre> <p>Use this if: You want to contribute or customize aiterm</p>"},{"location":"guides/AITERM-USER-GUIDE/#verify-installation","title":"Verify Installation","text":"<pre><code>$ aiterm --version\naiterm version 0.2.0-dev\n\n$ aiterm doctor\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  aiterm Installation Check                         \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\u2705 Python: 3.11.5\n\u2705 Terminal: iTerm2 (Build 3.5.0)\n\u2705 Claude Code: 0.2.0 (~/.claude/)\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: All checks passed!\n</code></pre> <p>If any checks fail: See Troubleshooting Guide</p>"},{"location":"guides/AITERM-USER-GUIDE/#first-time-setup","title":"First-Time Setup","text":""},{"location":"guides/AITERM-USER-GUIDE/#step-1-run-doctor-check","title":"Step 1: Run Doctor Check","text":"<pre><code>aiterm doctor\n</code></pre> <p>This verifies: - \u2705 Python version (\u2265 3.10) - \u2705 Terminal type (iTerm2 preferred) - \u2705 Claude Code installation - \u2705 Configuration files</p> <p>Example - All Good: <pre><code>\u2705 Python: 3.11.5\n\u2705 Terminal: iTerm2 (Build 3.5.0)\n\u2705 Claude Code: 0.2.0\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: All checks passed!\n</code></pre></p> <p>Example - Need iTerm2: <pre><code>\u2705 Python: 3.11.5\n\u274c Terminal: Terminal.app (unsupported)\n   \u2192 iTerm2 3.4.0+ required for full features\n   \u2192 Download: https://iterm2.com\n\u2705 Claude Code: 0.2.0\n\u2705 Settings: ~/.aiterm/config.json\n\nSystem Status: 1 check failed\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#step-2-test-context-detection","title":"Step 2: Test Context Detection","text":"<p>Navigate to a project and test detection:</p> <pre><code>$ cd ~/projects/r-packages/RMediation\n$ aiterm detect\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Context Detection                                 \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udcc1 Path: /Users/dt/projects/r-packages/RMediation\n\ud83c\udfaf Type: R Package\n\ud83d\udce6 Package: RMediation\n\ud83d\udccb Profile: R-Dev\n\ud83c\udfa8 Title: RMediation v1.0.0\n\nDetected: R package development environment\n</code></pre> <p>What it detects: - DESCRIPTION file \u2192 R package - pyproject.toml \u2192 Python project - package.json \u2192 Node.js project - /production/ path \u2192 Production environment - /claude-sessions/ \u2192 AI coding session - And more! (See Context Types)</p>"},{"location":"guides/AITERM-USER-GUIDE/#step-3-explore-available-profiles","title":"Step 3: Explore Available Profiles","text":"<pre><code>$ aiterm profile list\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Available Profiles                                \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udccb R-Dev\n   \u2192 For R package development\n   \ud83c\udfa8 Blue theme, white text\n   \ud83d\udd27 Optimized for ESS/Claude Code\n\n\ud83d\udccb Python-Dev\n   \u2192 For Python projects\n   \ud83c\udfa8 Green theme, white text\n   \ud83d\udd27 Optimized for pytest/Claude Code\n\n\ud83d\udccb Production\n   \u2192 For production deployments (SAFE MODE)\n   \ud83c\udfa8 Red theme, black text\n   \u26a0\ufe0f  Read-only, extra confirmations\n\n\ud83d\udccb AI-Session\n   \u2192 For Claude Code/Gemini sessions\n   \ud83c\udfa8 Purple theme, white text\n   \ud83d\udd27 Optimized for AI coding workflows\n\n\ud83d\udccb Default\n   \u2192 Standard profile\n   \ud83c\udfa8 Default iTerm2 theme\n</code></pre>"},{"location":"guides/AITERM-USER-GUIDE/#step-4-optional-set-auto-approvals","title":"Step 4: (Optional) Set Auto-Approvals","text":"<p>If you use Claude Code, configure auto-approvals:</p> <pre><code>$ aiterm claude approvals list\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Auto-Approval Presets                             \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\u26a1 minimal (15 tools)\n   \u2192 Essential operations only\n\n\ud83d\ude80 development (45 tools)\n   \u2192 Full development workflow\n\n\ud83d\udd12 production (20 tools)\n   \u2192 Production-safe operations\n\n\ud83c\udfaf r-package (35 tools)\n   \u2192 R package development\n\n...\n</code></pre> <p>Apply a preset: <pre><code>$ aiterm claude approvals set r-package\n\n\u2705 Applied preset: r-package\n\ud83d\udccb Approved tools: 35\n\ud83d\udcdd Updated: ~/.claude/settings.json\n</code></pre></p> <p>Done! aiterm is now configured.</p>"},{"location":"guides/AITERM-USER-GUIDE/#daily-workflows","title":"Daily Workflows","text":""},{"location":"guides/AITERM-USER-GUIDE/#workflow-1-r-package-development","title":"Workflow 1: R Package Development","text":"<p>Scenario: You're developing an R package</p> <p>Before aiterm: <pre><code>$ cd ~/projects/r-packages/RMediation\n# 1. Manually change iTerm2 profile to \"R-Dev\"\n# 2. Manually update tab title\n# 3. Manually set Claude Code auto-approvals\n# 4. Remember R-specific commands\n</code></pre></p> <p>With aiterm: <pre><code>$ cd ~/projects/r-packages/RMediation\n# \u2705 Auto-switched to R-Dev profile (blue theme)\n# \u2705 Title: \"RMediation v1.0.0\"\n# \u2705 Status bar: \"R PKG | RMediation\"\n# \u2705 Claude Code auto-approvals: R package tools\n</code></pre></p> <p>Visual change: - Background: Dark blue - Foreground: White - Accent: Light blue - Tab title: \"RMediation v1.0.0\"</p> <p>What you can do: <pre><code># All R development commands work\nR CMD check .\nR CMD build .\ndevtools::test()\n# Claude Code knows R package context\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#workflow-2-python-development","title":"Workflow 2: Python Development","text":"<p>Scenario: You're working on a Python project</p> <p>Before: <pre><code>$ cd ~/projects/python/my-api\n# Manually configure everything...\n</code></pre></p> <p>With aiterm: <pre><code>$ cd ~/projects/python/my-api\n# \u2705 Auto-switched to Python-Dev profile (green theme)\n# \u2705 Title: \"my-api\"\n# \u2705 Status bar: \"PYTHON | my-api\"\n</code></pre></p> <p>Visual change: - Background: Dark green - Foreground: White - Tab title: \"my-api\"</p> <p>What you can do: <pre><code>pytest\npython -m mypy .\n# Claude Code knows Python context\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#workflow-3-production-deployment-safe-mode","title":"Workflow 3: Production Deployment (SAFE MODE)","text":"<p>Scenario: You need to deploy to production</p> <p>Critical: Production mode has EXTRA SAFETY</p> <p>Before: <pre><code>$ cd ~/production/api-server\n# \u26a0\ufe0f No visual indicator you're in production!\n# \u26a0\ufe0f Easy to run destructive commands by accident\n</code></pre></p> <p>With aiterm: <pre><code>$ cd ~/production/api-server\n# \u2705 Auto-switched to Production profile (RED theme)\n# \u2705 Title: \"\u26a0\ufe0f PROD: api-server\"\n# \u2705 Status bar: \"\u26a0\ufe0f PRODUCTION\"\n# \u2705 Extra confirmations enabled\n</code></pre></p> <p>Visual change: - Background: RED \ud83d\udd34 (impossible to miss!) - Foreground: Black - Tab title: \"\u26a0\ufe0f PROD: api-server\" - Every destructive command requires confirmation</p> <p>Safety features: <pre><code>$ rm important-file.txt\n\u26a0\ufe0f  PRODUCTION MODE - Are you sure? [y/N]\n\n$ git push --force\n\u26a0\ufe0f  PRODUCTION MODE - Force push detected. Confirm: [y/N]\n</code></pre></p> <p>Use this for: - Production servers - Deployments - Database migrations - Any high-risk environment</p>"},{"location":"guides/AITERM-USER-GUIDE/#workflow-4-ai-coding-session","title":"Workflow 4: AI Coding Session","text":"<p>Scenario: You're doing intensive AI-assisted coding</p> <p>Before: <pre><code>$ cd ~/claude-sessions/refactor-2025\n# Generic terminal setup\n# Have to manually configure Claude Code\n</code></pre></p> <p>With aiterm: <pre><code>$ cd ~/claude-sessions/refactor-2025\n# \u2705 Auto-switched to AI-Session profile (purple theme)\n# \u2705 Title: \"Claude Session: refactor-2025\"\n# \u2705 Maximum auto-approvals (50 tools)\n# \u2705 Optimized for rapid iteration\n</code></pre></p> <p>Visual change: - Background: Dark purple - Foreground: White - Tab title: \"Claude Session: refactor-2025\"</p> <p>What's different: - Broadest auto-approvals (50 tools) - Fast iteration focus - Optimized for Claude Code workflows</p>"},{"location":"guides/AITERM-USER-GUIDE/#workflow-5-switching-between-projects","title":"Workflow 5: Switching Between Projects","text":"<p>Scenario: You work on multiple projects daily</p> <p>Example session: <pre><code># Morning: R package work\n$ cd ~/projects/r-packages/RMediation\n# \u2192 R-Dev profile (blue)\n\n# Afternoon: Python API\n$ cd ~/projects/python/api-server\n# \u2192 Python-Dev profile (green)\n\n# Evening: Production hotfix\n$ cd ~/production/api-server\n# \u2192 Production profile (RED, safe mode)\n\n# Night: AI coding session\n$ cd ~/claude-sessions/new-feature\n# \u2192 AI-Session profile (purple)\n</code></pre></p> <p>Each <code>cd</code> automatically: - \u2705 Detects context - \u2705 Switches profile - \u2705 Updates title - \u2705 Sets appropriate auto-approvals - \u2705 Adjusts safety settings</p> <p>No manual steps needed!</p>"},{"location":"guides/AITERM-USER-GUIDE/#advanced-features","title":"Advanced Features","text":""},{"location":"guides/AITERM-USER-GUIDE/#context-types","title":"Context Types","text":"<p>aiterm detects 8 context types (priority order):</p> Priority Type Detection Profile Use Case 1 Production <code>*/production/*</code> or <code>*/prod/*</code> Production Deployments, servers 2 AI Session <code>*/claude-sessions/*</code> or <code>*/gemini-sessions/*</code> AI-Session AI coding 3 R Package <code>DESCRIPTION</code> + <code>R/</code> R-Dev R development 4 Python <code>pyproject.toml</code> or <code>setup.py</code> Python-Dev Python development 5 Node.js <code>package.json</code> Node-Dev JavaScript/TypeScript 6 Quarto <code>_quarto.yml</code> R-Dev Quarto documents 7 MCP Server <code>mcp-server/</code> directory AI-Session MCP development 8 Dev Tools <code>.git/</code> + <code>scripts/</code> Dev-Tools Tool development 9 Default (no match) Default Generic work <p>Priority matters: If a directory matches multiple types, the highest priority wins.</p> <p>Example: <pre><code>$ cd ~/production/r-api\n# Contains both */production/* AND DESCRIPTION\n# \u2192 Production wins (priority 1 &gt; priority 3)\n# \u2192 Production profile applied (safety first!)\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#manual-profile-switching","title":"Manual Profile Switching","text":"<p>When automatic detection isn't enough:</p> <pre><code># Switch to specific profile\n$ aiterm profile switch R-Dev\n\u2705 Switched to profile: R-Dev\n\n# Switch with custom title\n$ aiterm profile switch Python-Dev --title \"API Server\"\n\u2705 Switched to profile: Python-Dev\n\ud83c\udfa8 Title: API Server\n</code></pre> <p>Use cases: - Override automatic detection - Work in non-standard directory structure - Temporary profile change - Testing different profiles</p>"},{"location":"guides/AITERM-USER-GUIDE/#disabling-auto-switching","title":"Disabling Auto-Switching","text":"<p>If you prefer manual control:</p> <pre><code># Disable automatic switching\nexport AITERM_AUTO_SWITCH=0\n\n# Add to ~/.zshrc or ~/.bashrc for permanent\necho 'export AITERM_AUTO_SWITCH=0' &gt;&gt; ~/.zshrc\n</code></pre> <p>Then manually switch: <pre><code>aiterm profile switch PROFILE_NAME\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#claude-code-auto-approval-presets","title":"Claude Code Auto-Approval Presets","text":"<p>8 Built-in Presets:</p> Preset Tools Use Case <code>minimal</code> 15 Essential read operations only <code>development</code> 45 Full development workflow <code>production</code> 20 Production-safe (read-only) <code>r-package</code> 35 R package development <code>python-dev</code> 40 Python development <code>teaching</code> 30 Teaching/course development <code>research</code> 35 Research/manuscript writing <code>ai-session</code> 50 AI coding sessions (broadest) <p>Applying presets:</p> <pre><code># Apply preset\n$ aiterm claude approvals set r-package\n\u2705 Applied preset: r-package (35 tools)\n\n# Merge with existing approvals\n$ aiterm claude approvals set development --merge\n\u2705 Merged preset: development\n\ud83d\udccb Total approved: 58 tools\n</code></pre> <p>What gets approved:</p> <p>r-package preset example: <pre><code>\u2705 Bash(git *)          # All git commands\n\u2705 Bash(R CMD *)        # R CMD build/check/install\n\u2705 Bash(Rscript:*)      # Run R scripts\n\u2705 Bash(pytest:*)       # Run tests\n\u2705 Read(**)             # Read any file\n\u2705 Write(**)            # Write any file\n\u2705 Edit(**)             # Edit any file\n... (28 more)\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#checking-current-settings","title":"Checking Current Settings","text":"<pre><code>$ aiterm claude settings show\n\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551  Claude Code Settings                              \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n\ud83d\udcc1 Settings: ~/.claude/settings.json\n\ud83d\udcca File size: 2.4 KB\n\ud83d\udd50 Modified: 2025-12-21 10:30:45\n\nAuto-Approvals:\n  \u2705 35 tools approved\n  \ud83d\udccb Active preset: r-package\n\nStatus Line:\n  \u2705 Configured: /bin/bash ~/.claude/statusline-p10k.sh\n  \u23f1\ufe0f  Update interval: 300ms\n\nMCP Servers:\n  \u2705 statistical-research (14 tools)\n  \u2705 shell (5 tools)\n  \u2705 project-refactor (4 tools)\n</code></pre>"},{"location":"guides/AITERM-USER-GUIDE/#tips-tricks","title":"Tips &amp; Tricks","text":""},{"location":"guides/AITERM-USER-GUIDE/#tip-1-use-detect-to-preview","title":"Tip 1: Use <code>detect</code> to Preview","text":"<p>Before relying on automatic switching, preview what aiterm detects:</p> <pre><code>$ cd ~/my-project\n$ aiterm detect\n\n\ud83d\udcc1 Path: /Users/dt/my-project\n\ud83c\udfaf Type: Python\n\ud83d\udccb Profile: Python-Dev\n\ud83c\udfa8 Title: my-project\n</code></pre> <p>Then decide: - Automatic switching correct? \u2192 Let it happen - Need different profile? \u2192 Manual switch - Context not detected? \u2192 See Troubleshooting</p>"},{"location":"guides/AITERM-USER-GUIDE/#tip-2-production-safety-workflow","title":"Tip 2: Production Safety Workflow","text":"<p>Always check before production work:</p> <pre><code>$ aiterm detect\n# Should show:\n# \ud83c\udfaf Type: Production\n# \u26a0\ufe0f  Profile: Production (safe mode)\n\n# If NOT showing Production:\n$ aiterm profile switch Production\n</code></pre> <p>Visual confirmation: - Background MUST be RED \ud83d\udd34 - Title MUST have \u26a0\ufe0f symbol - Every command should feel slower (confirmations)</p>"},{"location":"guides/AITERM-USER-GUIDE/#tip-3-rapid-context-switching","title":"Tip 3: Rapid Context Switching","text":"<p>Work on multiple projects:</p> <pre><code># Use shell aliases for common projects\nalias rmed='cd ~/projects/r-packages/RMediation'\nalias api='cd ~/projects/python/api-server'\nalias prod='cd ~/production/api-server'\n\n# Then just:\n$ rmed    # \u2192 R-Dev profile\n$ api     # \u2192 Python-Dev profile\n$ prod    # \u2192 Production profile (RED!)\n</code></pre> <p>aiterm handles the rest automatically!</p>"},{"location":"guides/AITERM-USER-GUIDE/#tip-4-custom-context-detection-advanced","title":"Tip 4: Custom Context Detection (Advanced)","text":"<p>Coming in Phase 2: Custom detector plugins</p> <p>Preview: <pre><code># ~/.aiterm/custom_detectors.py\nfrom aiterm.context import ContextDetector, Context\n\nclass MyProjectDetector(ContextDetector):\n    def detect(self, path: str) -&gt; Context | None:\n        if self._has_file(path, \".myproject\"):\n            return Context(\n                type=\"my-project\",\n                profile=\"My-Profile\",\n                title=\"My Project\",\n                path=path\n            )\n        return None\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#tip-5-backup-and-recovery","title":"Tip 5: Backup and Recovery","text":"<p>aiterm automatically backs up Claude Code settings:</p> <pre><code># Backups location\nls ~/.claude/settings.json.backup.*\n\n# Restore from backup\ncp ~/.claude/settings.json.backup.20251221_103045 \\\n   ~/.claude/settings.json\n</code></pre> <p>Backups created when: - Applying auto-approval presets - Updating settings - Before any destructive operation</p> <p>Retention: Last 5 backups</p>"},{"location":"guides/AITERM-USER-GUIDE/#faq","title":"FAQ","text":""},{"location":"guides/AITERM-USER-GUIDE/#q-does-aiterm-work-outside-iterm2","title":"Q: Does aiterm work outside iTerm2?","text":"<p>A: Partial support. Context detection works everywhere, but profile switching requires iTerm2.</p> <p>Supported features without iTerm2: - \u2705 Context detection - \u2705 Auto-approval management - \u2705 Settings management - \u274c Profile switching (terminal-specific) - \u274c Title updates (terminal-specific)</p> <p>Planned: Wezterm, Alacritty, Kitty support (Phase 3)</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-will-automatic-switching-slow-down-my-terminal","title":"Q: Will automatic switching slow down my terminal?","text":"<p>A: No! aiterm is extremely fast: - Context detection: &lt; 50ms - Profile switching: &lt; 150ms - Total overhead: &lt; 200ms per <code>cd</code></p> <p>You won't notice any delay.</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-can-i-customize-profiles","title":"Q: Can I customize profiles?","text":"<p>A: Yes! Edit <code>~/.aiterm/config.json</code>:</p> <pre><code>{\n  \"profiles\": {\n    \"My-Custom\": {\n      \"theme\": \"my-theme\",\n      \"triggers\": [\".myproject\"],\n      \"auto_approvals\": [\"Bash(git *)\", \"Read(**)\"]\n    }\n  }\n}\n</code></pre> <p>Coming in Phase 2: Profile creation wizard</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-what-if-i-work-on-production-and-development-in-the-same-path","title":"Q: What if I work on production AND development in the same path?","text":"<p>A: Production always wins (priority 1).</p> <p>Example: <pre><code>$ cd ~/production/my-r-package\n# Contains: */production/* AND DESCRIPTION\n# \u2192 Production profile applied (safety first!)\n</code></pre></p> <p>Override if needed: <pre><code>$ aiterm profile switch R-Dev\n# Manually switch to R-Dev for development work\n# \u2192 But be careful! You're in production path\n</code></pre></p>"},{"location":"guides/AITERM-USER-GUIDE/#q-how-do-i-uninstall-aiterm","title":"Q: How do I uninstall aiterm?","text":"<p>With UV: <pre><code>uv pip uninstall aiterm\n</code></pre></p> <p>With pip: <pre><code>pip uninstall aiterm\n</code></pre></p> <p>Remove config files (optional): <pre><code>rm -rf ~/.aiterm\n</code></pre></p> <p>Note: Claude Code settings are NOT removed (safe to keep)</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-can-i-use-aiterm-with-gemini-cli","title":"Q: Can I use aiterm with Gemini CLI?","text":"<p>A: Basic support now, full integration planned for Phase 2.</p> <p>Currently works: - \u2705 Context detection - \u2705 Profile switching - \u2705 AI-Session detection (gemini-sessions/ paths)</p> <p>Planned: - Gemini-specific auto-approvals - Gemini settings management - Gemini MCP integration</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-whats-the-difference-between-presets","title":"Q: What's the difference between presets?","text":"<p>Quick comparison:</p> Feature minimal development production ai-session Read operations \u2705 \u2705 \u2705 \u2705 Write operations \u274c \u2705 \u274c \u2705 Git commands Basic All Read-only All Testing \u274c \u2705 \u274c \u2705 Package management \u274c \u2705 \u274c \u2705 Destructive operations \u274c \u26a0\ufe0f Some \u274c \u26a0\ufe0f Some <p>Choose: - <code>minimal</code> - Untrusted environments - <code>development</code> - Daily development - <code>production</code> - Production systems (safest) - <code>ai-session</code> - Rapid AI-assisted coding</p>"},{"location":"guides/AITERM-USER-GUIDE/#q-can-i-see-what-changed-in-my-settings","title":"Q: Can I see what changed in my settings?","text":"<p>A: Yes! Compare with backup:</p> <pre><code># Show current settings\naiterm claude settings show\n\n# Compare with last backup\ndiff ~/.claude/settings.json \\\n     ~/.claude/settings.json.backup.20251221_103045\n</code></pre>"},{"location":"guides/AITERM-USER-GUIDE/#q-does-aiterm-modify-my-existing-iterm2-profiles","title":"Q: Does aiterm modify my existing iTerm2 profiles?","text":"<p>A: No! aiterm uses your existing profiles by name.</p> <p>What aiterm does: - Reads profile names from iTerm2 - Switches between profiles by name - Does NOT modify profile settings</p> <p>What you control: - Profile colors, fonts, appearance (iTerm2 settings) - Profile creation (iTerm2) - Profile deletion (iTerm2)</p> <p>aiterm only switches between profiles you've created.</p>"},{"location":"guides/AITERM-USER-GUIDE/#next-steps","title":"Next Steps","text":""},{"location":"guides/AITERM-USER-GUIDE/#learn-more","title":"Learn More","text":"<ul> <li>API Documentation - Detailed CLI and Python API</li> <li>Architecture - How aiterm works internally</li> <li>Integration Guide - Custom contexts and backends</li> <li>Troubleshooting - Solve common issues</li> </ul>"},{"location":"guides/AITERM-USER-GUIDE/#get-help","title":"Get Help","text":"<ul> <li>GitHub Issues: https://github.com/Data-Wise/aiterm/issues</li> <li>Discussions: https://github.com/Data-Wise/aiterm/discussions</li> <li>Documentation: https://Data-Wise.github.io/aiterm/</li> </ul>"},{"location":"guides/AITERM-USER-GUIDE/#contribute","title":"Contribute","text":"<ul> <li>Source Code: https://github.com/Data-Wise/aiterm</li> <li>Development Guide: Coming in Phase 2</li> <li>Plugin System: Coming in Phase 2</li> </ul>"},{"location":"guides/AITERM-USER-GUIDE/#congratulations","title":"Congratulations! \ud83c\udf89","text":"<p>You're now ready to use aiterm for optimized AI-assisted development!</p> <p>Remember: - \u2705 Just <code>cd</code> to projects - aiterm handles the rest - \u2705 Production mode uses RED theme for safety - \u2705 Auto-approvals save time in Claude Code - \u2705 Manual override always available</p> <p>Happy coding! \ud83d\ude80</p> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team</p>"},{"location":"reference/commands/","title":"CLI Reference","text":"<p>Complete reference for all aiterm commands with examples.</p>"},{"location":"reference/commands/#global-options","title":"Global Options","text":"<pre><code>aiterm --help              # Show help message\naiterm --version           # Show version info\naiterm --install-completion  # Install shell completion\naiterm --show-completion    # Show completion script\n</code></pre>"},{"location":"reference/commands/#core-commands","title":"Core Commands","text":""},{"location":"reference/commands/#aiterm-doctor","title":"<code>aiterm doctor</code>","text":"<p>Check aiterm installation and configuration health.</p> <pre><code>aiterm doctor\n</code></pre> <p>Output: <pre><code>aiterm doctor - Health check\n\nTerminal: iTerm.app\nShell: /bin/zsh\nPython: 3.14.2\naiterm: 0.1.0-dev\n\nBasic checks passed!\n</code></pre></p> <p>What it checks: - Terminal type (iTerm2 detection) - Shell environment - Python version - aiterm installation</p>"},{"location":"reference/commands/#aiterm-init","title":"<code>aiterm init</code>","text":"<p>Interactive setup wizard (coming in v0.1.0 final).</p> <pre><code>aiterm init\n</code></pre> <p>What it will do: - Detect terminal type - Install base profiles - Configure context detection - Test installation</p> <p>Current status: Placeholder (shows preview of features)</p>"},{"location":"reference/commands/#context-detection","title":"Context Detection","text":""},{"location":"reference/commands/#aiterm-detect-path","title":"<code>aiterm detect [PATH]</code>","text":"<p>Detect project context for a directory.</p> <pre><code># Current directory\naiterm detect\n\n# Specific directory\naiterm detect ~/projects/my-app\n\n# Short alias\nait detect\n</code></pre> <p>Example output: <pre><code>Context Detection\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Directory  \u2502 /Users/dt/projects/webapp\u2502\n\u2502 Type       \u2502 \ud83d\udce6 node                  \u2502\n\u2502 Name       \u2502 webapp                   \u2502\n\u2502 Profile    \u2502 Node-Dev                 \u2502\n\u2502 Git Branch \u2502 main *                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Detects 8 context types: - \ud83d\udea8 Production (<code>/production/</code>, <code>/prod/</code>) - \ud83e\udd16 AI Session (<code>/claude-sessions/</code>, <code>/gemini-sessions/</code>) - \ud83d\udce6 R Package (<code>DESCRIPTION</code> file) - \ud83d\udc0d Python (<code>pyproject.toml</code>) - \ud83d\udce6 Node.js (<code>package.json</code>) - \ud83d\udcca Quarto (<code>_quarto.yml</code>) - \ud83d\udd27 Emacs (<code>.spacemacs</code>) - \ud83d\udee0\ufe0f Dev Tools (<code>.git</code> + <code>scripts/</code>)</p>"},{"location":"reference/commands/#aiterm-switch-path","title":"<code>aiterm switch [PATH]</code>","text":"<p>Detect and apply context to terminal (iTerm2 only).</p> <pre><code># Switch current directory context\naiterm switch\n\n# Switch to specific directory\naiterm switch ~/production/live-site\n\n# Short alias\nait switch\n</code></pre> <p>What it does: 1. Detects project context 2. Switches iTerm2 profile (colors) 3. Sets tab title with project name + git branch 4. Updates status bar variables</p> <p>Example: <pre><code>cd ~/production/myapp\nait switch\n# \u2192 iTerm2 switches to Production profile (RED!)\n# \u2192 Tab title: \"\ud83d\udea8 production: myapp [main]\"\n</code></pre></p>"},{"location":"reference/commands/#aiterm-context","title":"<code>aiterm context</code>","text":"<p>Subcommands for context management.</p>"},{"location":"reference/commands/#aiterm-context-detect-path","title":"<code>aiterm context detect [PATH]</code>","text":"<p>Same as <code>aiterm detect</code> (full form).</p> <pre><code>aiterm context detect ~/projects/myapp\n</code></pre>"},{"location":"reference/commands/#aiterm-context-show","title":"<code>aiterm context show</code>","text":"<p>Show current directory context (alias for <code>detect</code>).</p> <pre><code>aiterm context show\n</code></pre>"},{"location":"reference/commands/#aiterm-context-apply-path","title":"<code>aiterm context apply [PATH]</code>","text":"<p>Same as <code>aiterm switch</code> (full form).</p> <pre><code>aiterm context apply ~/projects/myapp\n</code></pre>"},{"location":"reference/commands/#profile-management","title":"Profile Management","text":""},{"location":"reference/commands/#aiterm-profile-list","title":"<code>aiterm profile list</code>","text":"<p>List available profiles (v0.2.0 feature preview).</p> <pre><code>aiterm profile list\n</code></pre> <p>Output: <pre><code>Available Profiles:\n  - default (iTerm2 base)\n  - ai-session (Claude Code / Gemini)\n  - production (warning colors)\n\nProfile management coming in v0.2.0\n</code></pre></p> <p>Coming in v0.2.0: - <code>aiterm profile show &lt;name&gt;</code> - Show profile details - <code>aiterm profile install &lt;name&gt;</code> - Install profile template - <code>aiterm profile create</code> - Interactive profile creator</p>"},{"location":"reference/commands/#claude-code-integration","title":"Claude Code Integration","text":""},{"location":"reference/commands/#aiterm-claude-settings","title":"<code>aiterm claude settings</code>","text":"<p>Display current Claude Code settings.</p> <pre><code>aiterm claude settings\n</code></pre> <p>Output: <pre><code>Claude Code Settings\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 File              \u2502 ~/.claude/settings.json   \u2502\n\u2502 Permissions (allow)\u2502 47                       \u2502\n\u2502 Permissions (deny) \u2502 0                        \u2502\n\u2502 Hooks             \u2502 2                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nAllowed:\n  \u2713 Bash(git status:*)\n  \u2713 Bash(git diff:*)\n  ... and 45 more\n</code></pre></p>"},{"location":"reference/commands/#aiterm-claude-backup","title":"<code>aiterm claude backup</code>","text":"<p>Backup Claude Code settings with timestamp.</p> <pre><code>aiterm claude backup\n</code></pre> <p>Output: <pre><code>\u2713 Backup created: ~/.claude/settings.backup-20241218-153045.json\n</code></pre></p> <p>Backup format: - Location: Same directory as settings file - Naming: <code>settings.backup-YYYYMMDD-HHMMSS.json</code> - Automatic timestamping</p>"},{"location":"reference/commands/#aiterm-claude-approvals","title":"<code>aiterm claude approvals</code>","text":"<p>Manage auto-approval permissions.</p>"},{"location":"reference/commands/#aiterm-claude-approvals-list","title":"<code>aiterm claude approvals list</code>","text":"<p>List current auto-approval permissions.</p> <pre><code>aiterm claude approvals list\n</code></pre> <p>Output: <pre><code>Auto-Approvals (~/.claude/settings.json)\n\nAllowed:\n  \u2713 Bash(git add:*)\n  \u2713 Bash(git commit:*)\n  \u2713 Bash(git diff:*)\n  \u2713 Bash(git log:*)\n  \u2713 Bash(git status:*)\n  \u2713 Bash(pytest:*)\n  \u2713 Bash(python3:*)\n  \u2713 Read(/Users/dt/**)\n  \u2713 WebSearch\n</code></pre></p>"},{"location":"reference/commands/#aiterm-claude-approvals-presets","title":"<code>aiterm claude approvals presets</code>","text":"<p>List available approval presets.</p> <pre><code>aiterm claude approvals presets\n</code></pre> <p>Output: <pre><code>Available Presets\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Name       \u2502 Description                      \u2502 Permissions \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 safe-reads \u2502 Read-only operations             \u2502 5           \u2502\n\u2502 git-ops    \u2502 Git commands                     \u2502 12          \u2502\n\u2502 github-cli \u2502 GitHub CLI operations            \u2502 8           \u2502\n\u2502 python-dev \u2502 Python development tools         \u2502 6           \u2502\n\u2502 node-dev   \u2502 Node.js development tools        \u2502 7           \u2502\n\u2502 r-dev      \u2502 R development tools              \u2502 5           \u2502\n\u2502 web-tools  \u2502 Web search and fetch             \u2502 2           \u2502\n\u2502 minimal    \u2502 Basic shell commands only        \u2502 10          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"reference/commands/#aiterm-claude-approvals-add-preset","title":"<code>aiterm claude approvals add &lt;preset&gt;</code>","text":"<p>Add a preset to auto-approvals.</p> <pre><code># Add safe read permissions\naiterm claude approvals add safe-reads\n\n# Add Python dev tools\naiterm claude approvals add python-dev\n\n# Add git operations\naiterm claude approvals add git-ops\n</code></pre> <p>Output: <pre><code>\u2713 Added 6 permissions from 'python-dev':\n  + Bash(python3:*)\n  + Bash(pip3 install:*)\n  + Bash(pytest:*)\n  + Bash(python -m pytest:*)\n  + Bash(uv:*)\n  + Bash(uv pip install:*)\n</code></pre></p> <p>Features: - Automatic backup before changes - Duplicate detection (won't add existing permissions) - Shows exactly what was added</p> <p>Available presets:</p> <p>safe-reads (5 permissions) - Read-only file operations - Non-destructive commands</p> <p>git-ops (12 permissions) - Git status, diff, log - Git add, commit, push - Git checkout, branch operations - No destructive git commands</p> <p>github-cli (8 permissions) - <code>gh pr list/view/create</code> - <code>gh issue list/view</code> - <code>gh api</code> (read-only) - No <code>gh pr merge</code> without confirmation</p> <p>python-dev (6 permissions) - pytest, python3, pip3 - uv pip install - Standard Python tooling</p> <p>node-dev (7 permissions) - npm install/run - npx commands - bun operations</p> <p>r-dev (5 permissions) - Rscript, R CMD - quarto commands</p> <p>web-tools (2 permissions) - WebSearch - WebFetch (read-only)</p> <p>minimal (10 permissions) - Basic shell: ls, cat, echo - Safe navigation: cd, pwd - No write/modify operations</p>"},{"location":"reference/commands/#examples","title":"Examples","text":""},{"location":"reference/commands/#quick-setup-for-claude-code","title":"Quick Setup for Claude Code","text":"<pre><code># 1. Check installation\nait doctor\n\n# 2. View current settings\nait claude settings\n\n# 3. Backup before changes\nait claude backup\n\n# 4. Add safe permissions\nait claude approvals add safe-reads\nait claude approvals add git-ops\nait claude approvals add python-dev\n\n# 5. Verify\nait claude approvals list\n</code></pre>"},{"location":"reference/commands/#context-switching-workflow","title":"Context Switching Workflow","text":"<pre><code># Work on web app\ncd ~/projects/webapp\nait switch\n# \u2192 Node-Dev profile (green)\n\n# Switch to API service\ncd ~/projects/api\nait switch\n# \u2192 Python-Dev profile (blue)\n\n# Deploy to production\ncd ~/production/live-site\nait switch\n# \u2192 Production profile (RED!) \ud83d\udea8\n</code></pre>"},{"location":"reference/commands/#r-package-development","title":"R Package Development","text":"<pre><code># Navigate to R package\ncd ~/r-packages/mypackage\n\n# Check context\nait detect\n# Shows: \ud83d\udce6 r-package \u2192 R-Dev profile\n\n# Add R dev permissions\nait claude approvals add r-dev\n\n# Apply context\nait switch\n</code></pre>"},{"location":"reference/commands/#short-aliases","title":"Short Aliases","text":"<p>All commands support the <code>ait</code> shortalias:</p> <pre><code>ait --version              # = aiterm --version\nait doctor                 # = aiterm doctor\nait detect                 # = aiterm detect\nait switch                 # = aiterm switch\nait claude settings        # = aiterm claude settings\nait claude approvals list  # = aiterm claude approvals list\n</code></pre>"},{"location":"reference/commands/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 General error (missing file, invalid input) 2 Command failed (operation couldn't complete)"},{"location":"reference/commands/#environment-variables","title":"Environment Variables","text":"<p>aiterm respects these environment variables:</p> Variable Purpose Example <code>TERM_PROGRAM</code> Terminal detection <code>iTerm.app</code> <code>SHELL</code> Shell detection <code>/bin/zsh</code> <code>CLAUDECODE</code> Claude Code detection <code>1</code>"},{"location":"reference/commands/#configuration-files","title":"Configuration Files","text":"File Purpose <code>~/.claude/settings.json</code> Claude Code settings <code>~/.claude/hooks/</code> Claude Code hooks <code>~/.config/aiterm/</code> aiterm config (coming v0.2.0)"},{"location":"reference/commands/#next-steps","title":"Next Steps","text":"<ul> <li>Workflows: Common use cases</li> <li>Claude Integration: Detailed integration guide</li> <li>Troubleshooting: Common issues and solutions</li> </ul>"},{"location":"reference/configuration/","title":"Configuration Reference","text":""},{"location":"reference/configuration/#shell-configuration","title":"Shell Configuration","text":""},{"location":"reference/configuration/#required-in-zshrc","title":"Required in .zshrc","text":"<pre><code># Must be before Oh My Zsh / Antidote loads\nDISABLE_AUTO_TITLE=\"true\"\n\n# At end of .zshrc\nsource ~/path/to/aiterm/zsh/iterm2-integration.zsh\n</code></pre>"},{"location":"reference/configuration/#environment-variables","title":"Environment Variables","text":"Variable Purpose Default <code>TERM_PROGRAM</code> Must be \"iTerm.app\" Set by iTerm2 <code>DISABLE_AUTO_TITLE</code> Prevent OMZ title override Not set"},{"location":"reference/configuration/#integration-variables","title":"Integration Variables","text":"<p>These are set by the integration (read-only):</p> Variable Purpose <code>_ITERM_CURRENT_PROFILE</code> Currently active profile <code>_ITERM_CURRENT_TITLE</code> Current tab title <code>_ITERM_HOOK_REGISTERED</code> Prevents duplicate hooks"},{"location":"reference/configuration/#iterm2-configuration","title":"iTerm2 Configuration","text":""},{"location":"reference/configuration/#title-settings","title":"Title Settings","text":"<p>Path: Settings \u2192 Profiles \u2192 General \u2192 Title</p> Setting Recommended Title Session Name Alternative Session Name + Job"},{"location":"reference/configuration/#for-triggers","title":"For Triggers","text":"<p>Path: Settings \u2192 Profiles \u2192 Default \u2192 Advanced \u2192 Triggers</p> <p>See Triggers Guide for setup.</p>"},{"location":"reference/configuration/#file-locations","title":"File Locations","text":"File Location Integration script <code>zsh/iterm2-integration.zsh</code> Dynamic Profiles <code>profiles/context-switcher-profiles.json</code> iTerm2 Dynamic Profiles <code>~/Library/Application Support/iTerm2/DynamicProfiles/</code> iTerm2 Preferences <code>~/Library/Preferences/com.googlecode.iterm2.plist</code>"},{"location":"reference/configuration/#escape-sequences-used","title":"Escape Sequences Used","text":"Sequence Purpose <code>\\033]1337;SetProfile=NAME\\007</code> Switch profile <code>\\033]2;TITLE\\007</code> Set window title"},{"location":"reference/troubleshooting/","title":"Troubleshooting","text":""},{"location":"reference/troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"reference/troubleshooting/#profiles-not-switching","title":"Profiles Not Switching","text":"<p>Symptom: Colors don't change when you <code>cd</code> to a project.</p> <p>Check:</p> <ol> <li> <p>Verify you're in iTerm2:    <pre><code>echo $TERM_PROGRAM\n# Should show: iTerm.app\n</code></pre></p> </li> <li> <p>Verify profiles exist (exact names, case-sensitive):</p> </li> <li>R-Dev</li> <li>Python-Dev</li> <li>Node-Dev</li> <li>AI-Session</li> <li> <p>Production</p> </li> <li> <p>Verify integration is loaded:    <pre><code>typeset -f _iterm_detect_context\n# Should show function definition\n</code></pre></p> </li> <li> <p>If not loaded, source it:    <pre><code>source ~/.config/zsh/.zshrc\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#title-not-showing","title":"Title Not Showing","text":"<p>Symptom: Tab shows \"zsh\" or directory instead of icon + name.</p> <p>Check:</p> <ol> <li>iTerm2 title setting:</li> <li>Settings \u2192 Profiles \u2192 General \u2192 Title</li> <li> <p>Set to: Session Name</p> </li> <li> <p>OMZ auto-title disabled:    <pre><code>echo $DISABLE_AUTO_TITLE\n# Should show: true\n</code></pre></p> </li> <li> <p>If not set, add before antidote/OMZ in .zshrc:    <pre><code>DISABLE_AUTO_TITLE=\"true\"\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#title-shows-briefly-then-disappears","title":"Title Shows Briefly Then Disappears","text":"<p>Symptom: Title flashes correct value then changes.</p> <p>Cause: Something else is overwriting the title (usually OMZ).</p> <p>Fix: Ensure <code>DISABLE_AUTO_TITLE=\"true\"</code> is set before plugins load.</p>"},{"location":"reference/troubleshooting/#loops-terminal-hangs","title":"Loops / Terminal Hangs","text":"<p>Symptom: Terminal freezes after <code>cd</code>.</p> <p>Fix:</p> <ol> <li> <p>Disable integration temporarily:    <pre><code># Comment out in .zshrc\n# source ~/path/to/iterm2-integration.zsh\n</code></pre></p> </li> <li> <p>Open new terminal</p> </li> <li> <p>Check for conflicting hooks:    <pre><code>echo $chpwd_functions\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#wrong-profile-detected","title":"Wrong Profile Detected","text":"<p>Symptom: Shows R-Dev but it's a Python project.</p> <p>Cause: Detection priority - R is checked before Python.</p> <p>Check: Does the directory have a <code>DESCRIPTION</code> file?</p> <pre><code>ls DESCRIPTION\n</code></pre> <p>If yes, R detection wins. This is by design for R packages with Python scripts.</p>"},{"location":"reference/troubleshooting/#diagnostic-script","title":"Diagnostic Script","text":"<p>Run the included diagnostic:</p> <pre><code>~/path/to/aiterm/scripts/diagnose.sh\n</code></pre>"},{"location":"reference/troubleshooting/#reset-everything","title":"Reset Everything","text":"<p>If all else fails:</p> <pre><code># 1. Comment out integration in .zshrc\n# 2. Restart terminal\n# 3. Clear caches\nunset _ITERM_CURRENT_PROFILE\nunset _ITERM_CURRENT_TITLE\nunset _ITERM_HOOK_REGISTERED\n\n# 4. Re-source\nsource ~/.config/zsh/.zshrc\n</code></pre>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/","title":"aiterm Troubleshooting Guide","text":"<p>Version: 0.2.0-dev Last Updated: 2025-12-21</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#quick-diagnosis","title":"Quick Diagnosis","text":"<p>Answer these questions to find your solution:</p> <ol> <li>Is aiterm installed? \u2192 Installation Issues</li> <li>Profile not switching? \u2192 Profile Switching Issues</li> <li>Context not detected? \u2192 Context Detection Issues</li> <li>Auto-approvals not working? \u2192 Claude Code Integration Issues</li> <li>Terminal not supported? \u2192 Terminal Compatibility</li> </ol>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#common-issues","title":"Common Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#installation-issues","title":"Installation Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-aiterm-command-not-found","title":"Issue: <code>aiterm: command not found</code>","text":"<p>Symptom: <pre><code>$ aiterm --version\nzsh: command not found: aiterm\n</code></pre></p> <p>Diagnosis: <pre><code># Check if installed\npython3 -m pip show aiterm\n\n# Check Python bin directory in PATH\necho $PATH | grep -o '/[^:]*python[^:]*bin'\n</code></pre></p> <p>Solution 1: Reinstall <pre><code># With UV\nuv pip install --force-reinstall aiterm\n\n# With pip\npip install --force-reinstall aiterm\n</code></pre></p> <p>Solution 2: Add to PATH <pre><code># Find Python bin directory\npython3 -m site --user-base\n\n# Add to ~/.zshrc or ~/.bashrc\nexport PATH=\"$HOME/.local/bin:$PATH\"\n\n# Reload shell\nsource ~/.zshrc\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-importerror-no-module-named-aiterm","title":"Issue: <code>ImportError: No module named 'aiterm'</code>","text":"<p>Symptom: <pre><code>&gt;&gt;&gt; import aiterm\nImportError: No module named 'aiterm'\n</code></pre></p> <p>Diagnosis: <pre><code># Check Python version\npython3 --version  # Should be 3.10+\n\n# Check installed packages\npython3 -m pip list | grep aiterm\n</code></pre></p> <p>Solution: <pre><code># Install in correct Python environment\npython3 -m pip install aiterm\n\n# Or activate virtual environment first\nsource venv/bin/activate\npip install aiterm\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#profile-switching-issues","title":"Profile Switching Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-profile-not-switching-automatically","title":"Issue: Profile not switching automatically","text":"<p>Symptom: Profile doesn't change when <code>cd</code> into project</p> <p>Diagnosis: <pre><code># 1. Check if context detected\ncd ~/your-project\naiterm detect\n# Should show context type and profile\n\n# 2. Check if auto-switching enabled\necho $AITERM_AUTO_SWITCH\n# Should be empty or \"1\"\n\n# 3. Check terminal type\necho $TERM_PROGRAM\n# Should show \"iTerm.app\" or \"WezTerm\"\n</code></pre></p> <p>Solution 1: Auto-switching disabled <pre><code># Enable auto-switching\nunset AITERM_AUTO_SWITCH\n\n# Or set explicitly\nexport AITERM_AUTO_SWITCH=1\n</code></pre></p> <p>Solution 2: Terminal not supported <pre><code># Check supported terminals\naiterm doctor\n\n# If using Terminal.app:\n# \u2192 Download iTerm2 from https://iterm2.com\n# \u2192 Install and set as default\n</code></pre></p> <p>Solution 3: Shell integration needed</p> <p>Add to <code>~/.zshrc</code>: <pre><code># aiterm automatic context switching\nfunction chpwd() {\n    aiterm detect --silent --auto-switch\n}\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-profile-exists-but-switch-fails","title":"Issue: Profile exists but switch fails","text":"<p>Symptom: <pre><code>$ aiterm profile switch R-Dev\n\u274c Failed to switch profile: R-Dev\n</code></pre></p> <p>Diagnosis: <pre><code># 1. List available profiles\naiterm profile list\n\n# 2. Check iTerm2 profiles\n# iTerm2 \u2192 Preferences \u2192 Profiles\n# Verify \"R-Dev\" profile exists\n\n# 3. Check terminal connection\nps aux | grep iTerm\n</code></pre></p> <p>Solution 1: Profile doesn't exist</p> <p>Create profile in iTerm2: 1. iTerm2 \u2192 Preferences \u2192 Profiles 2. Click \"+\" to add new profile 3. Name it \"R-Dev\" 4. Configure colors, fonts, etc. 5. Try switch again</p> <p>Solution 2: iTerm2 not responding <pre><code># Restart iTerm2\npkill -9 iTerm2\nopen -a iTerm\n\n# Try again\naiterm profile switch R-Dev\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#context-detection-issues","title":"Context Detection Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-context-not-detected","title":"Issue: Context not detected","text":"<p>Symptom: <pre><code>$ cd ~/projects/my-r-package\n$ aiterm detect\n\ud83d\udcc1 Path: /Users/dt/projects/my-r-package\n\ud83c\udfaf Type: Unknown\n\ud83d\udccb Profile: Default\n</code></pre></p> <p>Diagnosis: <pre><code># Check for marker files\nls -la\n\n# R package should have:\nls DESCRIPTION R/\n\n# Python should have:\nls pyproject.toml setup.py\n\n# Node.js should have:\nls package.json\n</code></pre></p> <p>Solution 1: Missing marker file</p> <p>For R packages: <pre><code># Create minimal DESCRIPTION\ncat &gt; DESCRIPTION &lt;&lt; 'EOF'\nPackage: MyPackage\nTitle: My R Package\nVersion: 0.1.0\nDescription: My package description.\nLicense: MIT\nEncoding: UTF-8\nEOF\n\n# Create R directory\nmkdir -p R\n</code></pre></p> <p>For Python: <pre><code># Create pyproject.toml\ncat &gt; pyproject.toml &lt;&lt; 'EOF'\n[project]\nname = \"my-package\"\nversion = \"0.1.0\"\nEOF\n</code></pre></p> <p>Solution 2: Wrong directory <pre><code># Navigate to package root\ncd ~/projects/my-r-package\n\n# Verify marker files\nls DESCRIPTION R/\n\n# Try detect again\naiterm detect\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-wrong-context-detected","title":"Issue: Wrong context detected","text":"<p>Symptom: Context type is incorrect for your project</p> <p>Example: <pre><code>$ cd ~/my-quarto-project\n$ aiterm detect\n\ud83c\udfaf Type: R Package  # Wrong! Should be Quarto\n</code></pre></p> <p>Diagnosis: <pre><code># Check marker files\nls -la\n\n# Multiple markers?\nls DESCRIPTION _quarto.yml\n</code></pre></p> <p>Cause: Multiple context types match, priority determines winner</p> <p>Solution 1: Remove conflicting markers <pre><code># If not actually an R package, remove DESCRIPTION\nrm DESCRIPTION\n\n# Now should detect as Quarto\naiterm detect\n</code></pre></p> <p>Solution 2: Manual override <pre><code># Force specific profile\naiterm profile switch Quarto-Dev\n</code></pre></p> <p>Solution 3: Adjust priority (advanced)</p> <p>Create custom detector with higher priority (see Integration Guide)</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#claude-code-integration-issues","title":"Claude Code Integration Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-auto-approvals-not-applied","title":"Issue: Auto-approvals not applied","text":"<p>Symptom: <pre><code>$ aiterm claude approvals set r-package\n\u2705 Applied preset: r-package (35 tools)\n\n# But Claude Code still asking for approvals\n</code></pre></p> <p>Diagnosis: <pre><code># 1. Check settings file\ncat ~/.claude/settings.json | grep -A 5 autoApprovals\n\n# 2. Verify Claude Code version\nclaude --version\n\n# 3. Check file permissions\nls -l ~/.claude/settings.json\n</code></pre></p> <p>Solution 1: Claude Code not reading settings <pre><code># Restart Claude Code\npkill claude\nclaude\n\n# Or restart terminal\n</code></pre></p> <p>Solution 2: Settings file corrupted <pre><code># Backup current\ncp ~/.claude/settings.json ~/.claude/settings.json.backup\n\n# Validate JSON\npython3 -c \"\nimport json\nwith open('~/.claude/settings.json') as f:\n    json.load(f)  # Will error if invalid\n\"\n\n# If invalid, restore from backup\naiterm claude settings show --validate\n</code></pre></p> <p>Solution 3: Wrong settings location <pre><code># Check Claude Code config directory\nls ~/.claude/\n\n# Should contain settings.json\n# If not, create it:\nmkdir -p ~/.claude\necho '{\"autoApprovals\": []}' &gt; ~/.claude/settings.json\n\n# Try preset again\naiterm claude approvals set r-package\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-settings-backup-failed","title":"Issue: Settings backup failed","text":"<p>Symptom: <pre><code>$ aiterm claude approvals set r-package\n\u274c Failed to create backup\n</code></pre></p> <p>Diagnosis: <pre><code># Check permissions\nls -la ~/.claude/\n\n# Check disk space\ndf -h ~\n</code></pre></p> <p>Solution: <pre><code># Fix permissions\nchmod 700 ~/.claude\nchmod 600 ~/.claude/settings.json\n\n# Clean old backups if disk full\nrm ~/.claude/settings.json.backup.*\n\n# Try again\naiterm claude approvals set r-package\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#terminal-compatibility","title":"Terminal Compatibility","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#macos-terminalapp","title":"macOS - Terminal.app","text":"<p>Status: \u274c Not supported</p> <p>Why: Terminal.app doesn't support: - Profile switching via escape sequences - User-defined status bar variables - Advanced escape sequences</p> <p>Solution: Install iTerm2 <pre><code># Download and install\nopen https://iterm2.com\n\n# Or with Homebrew\nbrew install --cask iterm2\n\n# Set as default terminal\n# System Settings \u2192 General \u2192 Default terminal \u2192 iTerm\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#macos-iterm2","title":"macOS - iTerm2","text":"<p>Status: \u2705 Fully supported</p> <p>Requirements: - iTerm2 3.4.0 or higher - Accessibility permissions (for full features)</p> <p>Setup: 1. Download from https://iterm2.com 2. Create profiles (Preferences \u2192 Profiles) 3. Grant accessibility (System Settings \u2192 Privacy \u2192 Accessibility \u2192 iTerm)</p> <p>Common Issue: Accessibility permission denied</p> <p>Symptom: Profile switching works but slow/unreliable</p> <p>Solution: <pre><code># 1. Open System Settings\n# 2. Privacy &amp; Security \u2192 Accessibility\n# 3. Find iTerm2 in list\n# 4. Toggle OFF then ON\n# 5. Restart iTerm2\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#linux-gnome-terminal","title":"Linux - gnome-terminal","text":"<p>Status: \u26a0\ufe0f Partial support</p> <p>Supported: - \u2705 Title setting (OSC sequences) - \u274c Profile switching (not supported by gnome-terminal) - \u274c Status bar variables</p> <p>Workaround: Use another terminal (Alacritty, Wezterm)</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#linux-alacritty","title":"Linux - Alacritty","text":"<p>Status: \ud83d\udea7 Planned (Phase 2)</p> <p>Current: - \u2705 Title setting works - \u274c Profile switching requires config file editing - \u274c Real-time profile switching not implemented</p> <p>Workaround: <pre><code># Manual profile switching\ncp ~/.config/alacritty/themes/r-dev.yml \\\n   ~/.config/alacritty/alacritty.yml\n\n# Reload Alacritty\npkill -USR1 alacritty\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#linux-wezterm","title":"Linux - Wezterm","text":"<p>Status: \ud83d\udea7 Planned (Phase 2)</p> <p>Current: - \u2705 Title setting works - \u26a0\ufe0f Profile switching via CLI (slow) - \u274c Optimized integration not implemented</p> <p>Workaround: <pre><code># Use Wezterm CLI\nwezterm cli set-tab-color-scheme \"R-Dev\"\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#windows-windows-terminal","title":"Windows - Windows Terminal","text":"<p>Status: \ud83d\udea7 Planned (Phase 3)</p> <p>Not yet implemented. aiterm is macOS/Linux focused initially.</p> <p>Workaround: Use WSL with supported terminal (Wezterm, Alacritty)</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#platform-specific-issues","title":"Platform-Specific Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#macos","title":"macOS","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-operation-not-permitted","title":"Issue: \"Operation not permitted\"","text":"<p>Symptom: <pre><code>$ aiterm profile switch R-Dev\n\u274c Operation not permitted\n</code></pre></p> <p>Cause: macOS security restrictions</p> <p>Solution: <pre><code># Grant Full Disk Access\n# 1. System Settings \u2192 Privacy &amp; Security\n# 2. Full Disk Access\n# 3. Add iTerm2\n# 4. Toggle ON\n# 5. Restart iTerm2\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-slow-profile-switching","title":"Issue: Slow profile switching","text":"<p>Symptom: Profile switch takes &gt; 1 second</p> <p>Cause: macOS App Nap</p> <p>Solution: <pre><code># Disable App Nap for iTerm2\ndefaults write com.googlecode.iterm2 NSAppSleepDisabled -bool YES\n\n# Restart iTerm2\npkill iTerm2\nopen -a iTerm\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#linux","title":"Linux","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-libpython-not-found","title":"Issue: <code>libpython not found</code>","text":"<p>Symptom: <pre><code>$ aiterm\nerror while loading shared libraries: libpython3.11.so.1.0\n</code></pre></p> <p>Solution: <pre><code># Ubuntu/Debian\nsudo apt install python3.11 python3.11-dev\n\n# Fedora/RHEL\nsudo dnf install python3.11 python3.11-devel\n\n# Arch\nsudo pacman -S python\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#issue-permission-denied-on-config-directory","title":"Issue: Permission denied on config directory","text":"<p>Symptom: <pre><code>$ aiterm doctor\n\u274c Settings: Permission denied\n</code></pre></p> <p>Solution: <pre><code># Fix ownership\nsudo chown -R $USER:$USER ~/.aiterm\nsudo chown -R $USER:$USER ~/.claude\n\n# Fix permissions\nchmod 700 ~/.aiterm\nchmod 700 ~/.claude\nchmod 600 ~/.claude/settings.json\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#error-messages-reference","title":"Error Messages Reference","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#profilenotfounderror","title":"<code>ProfileNotFoundError</code>","text":"<p>Message: <code>Profile 'NAME' not found</code></p> <p>Cause: Profile doesn't exist in terminal</p> <p>Solution: <pre><code># List available profiles\naiterm profile list\n\n# Create profile in terminal settings\n# Or use existing profile name\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#terminalunsupportederror","title":"<code>TerminalUnsupportedError</code>","text":"<p>Message: <code>Terminal 'NAME' not supported</code></p> <p>Cause: Using unsupported terminal</p> <p>Solution: <pre><code># Check supported terminals\naiterm doctor\n\n# Install supported terminal (iTerm2, Wezterm, etc.)\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#configerror","title":"<code>ConfigError</code>","text":"<p>Message: <code>Invalid configuration: DETAILS</code></p> <p>Cause: Malformed config file</p> <p>Solution: <pre><code># Validate config\naiterm claude settings show --validate\n\n# Reset to defaults\nrm ~/.aiterm/config.json\naiterm doctor  # Recreates defaults\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#settingserror","title":"<code>SettingsError</code>","text":"<p>Message: <code>Failed to update settings: DETAILS</code></p> <p>Cause: Can't write to settings file</p> <p>Solution: <pre><code># Check permissions\nls -la ~/.claude/settings.json\n\n# Fix permissions\nchmod 600 ~/.claude/settings.json\n\n# Check disk space\ndf -h ~\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#slow-context-detection","title":"Slow context detection","text":"<p>Expected: &lt; 50ms If slower: &gt; 500ms</p> <p>Diagnosis: <pre><code># Time detection\ntime aiterm detect\n# Should complete in &lt; 0.1s\n</code></pre></p> <p>Causes: 1. Network-mounted directories (NFS, SMB) 2. Very deep directory structure 3. Large number of files</p> <p>Solutions: <pre><code># 1. Work on local disk\ncd ~/local/copy/of/project\n\n# 2. Exclude from detection\nexport AITERM_SKIP_DETECT=1\n\n# 3. Use manual profile switching\naiterm profile switch PROFILE_NAME\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#high-cpu-usage","title":"High CPU usage","text":"<p>Symptom: aiterm using &gt; 10% CPU</p> <p>Diagnosis: <pre><code># Check process\ntop -p $(pgrep -f aiterm)\n\n# Check if running background tasks\nps aux | grep aiterm\n</code></pre></p> <p>Solution: <pre><code># Kill background processes\npkill -f aiterm\n\n# Restart with clean state\naiterm doctor\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#diagnostic-tools","title":"Diagnostic Tools","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#complete-diagnostic-script","title":"Complete diagnostic script","text":"<p>Save as <code>diagnose-aiterm.sh</code>:</p> <pre><code>#!/bin/bash\n\necho \"=== aiterm Diagnostic Report ===\"\necho\n\necho \"1. Installation:\"\necho \"   Python: $(python3 --version)\"\necho \"   aiterm: $(aiterm --version 2&gt;&amp;1 || echo 'NOT INSTALLED')\"\necho\n\necho \"2. Environment:\"\necho \"   TERM_PROGRAM: $TERM_PROGRAM\"\necho \"   AITERM_AUTO_SWITCH: $AITERM_AUTO_SWITCH\"\necho \"   AITERM_CONFIG: $AITERM_CONFIG\"\necho\n\necho \"3. Terminal:\"\nps aux | grep -i iterm | grep -v grep || echo \"   iTerm2: Not running\"\necho\n\necho \"4. Config Files:\"\nls -la ~/.aiterm/ 2&gt;/dev/null || echo \"   ~/.aiterm/: Not found\"\nls -la ~/.claude/settings.json 2&gt;/dev/null || echo \"   ~/.claude/settings.json: Not found\"\necho\n\necho \"5. Current Directory:\"\npwd\nls -la | head -10\necho\n\necho \"6. Context Detection:\"\naiterm detect 2&gt;&amp;1 || echo \"   Detection failed\"\necho\n\necho \"=== End Diagnostic Report ===\"\n</code></pre> <p>Usage: <pre><code>chmod +x diagnose-aiterm.sh\n./diagnose-aiterm.sh &gt; aiterm-diagnostic.txt\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#getting-help","title":"Getting Help","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#before-asking-for-help","title":"Before asking for help","text":"<p>Run these diagnostic commands:</p> <pre><code># 1. Check installation\naiterm doctor\n\n# 2. Check context detection\naiterm detect\n\n# 3. Check settings\naiterm claude settings show\n\n# 4. Run diagnostic script\n./diagnose-aiterm.sh &gt; diagnostic.txt\n</code></pre>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#useful-information-to-include","title":"Useful information to include","text":"<p>When reporting issues:</p> <ol> <li>Error message (exact text)</li> <li>Diagnostic output (<code>aiterm doctor</code>)</li> <li>Terminal type (<code>echo $TERM_PROGRAM</code>)</li> <li>Operating system (macOS, Linux, Windows)</li> <li>aiterm version (<code>aiterm --version</code>)</li> <li>Steps to reproduce</li> </ol>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#support-channels","title":"Support channels","text":"<ul> <li>GitHub Issues: https://github.com/Data-Wise/aiterm/issues</li> <li>Discussions: https://github.com/Data-Wise/aiterm/discussions</li> <li>Documentation: https://Data-Wise.github.io/aiterm/</li> </ul>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#faq","title":"FAQ","text":""},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#q-can-i-use-aiterm-without-iterm2","title":"Q: Can I use aiterm without iTerm2?","text":"<p>A: Yes, but with limited features: - \u2705 Context detection works - \u2705 Settings management works - \u274c Profile switching doesn't work (terminal-specific)</p> <p>Supported terminals: iTerm2 (full), Wezterm (planned), Alacritty (planned)</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#q-why-isnt-my-custom-detector-working","title":"Q: Why isn't my custom detector working?","text":"<p>A: Check: 1. Priority (lower number = higher priority) 2. Registration (<code>register_detector()</code>) 3. Detection logic (<code>_has_file()</code>, etc.) 4. Return value (<code>Context</code> object or <code>None</code>)</p> <p>Debug: <pre><code>from aiterm.context import detect_context\nimport logging\n\nlogging.basicConfig(level=logging.DEBUG)\ncontext = detect_context(\"/path\")\n# Should show detector execution\n</code></pre></p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#q-can-i-roll-back-auto-approval-changes","title":"Q: Can I roll back auto-approval changes?","text":"<p>A: Yes! aiterm creates automatic backups:</p> <pre><code># List backups\nls ~/.claude/settings.json.backup.*\n\n# Restore from backup\ncp ~/.claude/settings.json.backup.TIMESTAMP \\\n   ~/.claude/settings.json\n</code></pre>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#q-how-do-i-reset-aiterm-to-defaults","title":"Q: How do I reset aiterm to defaults?","text":"<p>A: <pre><code># Remove config\nrm -rf ~/.aiterm\n\n# Recreate defaults\naiterm doctor\n\n# Settings will be regenerated\n</code></pre></p> <p>Note: Claude Code settings are NOT removed (safe)</p>"},{"location":"troubleshooting/AITERM-TROUBLESHOOTING/#next-steps","title":"Next Steps","text":"<ul> <li>User Guide - Learn how to use aiterm</li> <li>Integration Guide - Extend aiterm</li> <li>API Documentation - API reference</li> <li>Architecture - How it works</li> </ul> <p>Last Updated: 2025-12-21 Maintained By: aiterm Development Team</p>"}]}